const c=(a,e)=>{let o=a.split(","),t=o[0].match(/:(.*?);/)[1],n=window.atob(o[1]),r=n.length,s=new Uint8Array(r);for(;r--;)s[r]=n.charCodeAt(r);return new File([s],e,{type:t})},d=(a,e)=>{let o=new FileReader;o.readAsDataURL(a),o.onload=function(t){if(t.target){let n=t.target.result;e(n)}}},p=async a=>{try{const e=new FileReader,o=new Promise((n,r)=>{e.onload=function(s){s.target?n(s.target.result):r(new Error("Failed to convert file to base64"))},e.onerror=r});return e.readAsDataURL(a),await o}catch(e){return console.error("Failed to convert file to base64:",e),null}};async function f(a){try{const e=await fetch(a);if(!e.ok)throw new Error("Network response was not ok");const o=await e.blob();return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s)},r.onerror=s=>{n(s)},r.readAsDataURL(o)})}catch(e){throw console.error("There has been a problem with your fetch operation:",e),e}}const w=a=>new Promise(e=>{try{const o=new FileReader;o.onload=t=>{t.target&&e(t.target.result)},o.readAsText(a)}catch(o){window.$message.error("文件读取失败！")}}),l=(a,e=new Date().getTime(),o)=>{if(!a)return;const t=document.createElement("a");o?t.download=`${e}.${o}`:t.download=a,t.style.display="none",t.href=a,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},m=(a,e,o)=>{e==null&&(e=new Date().getTime());const t=new Blob([a]);l(URL.createObjectURL(t),e,o)},i=(a,e)=>{let o=e||"";if(!o){const n=a.lastIndexOf(".");o=a.substring(n+1,a.length)||""}const t={photo:["jpg","jpeg","png","bmp","webp","svg"],gif:["gif"],video:["mp4","avi","mov","rmvb","flv","3gp","mkv","wmv","asf","mpg","mpeg","mp3","wav","wma","ogg","ape","flac","aac","amr","m4a"],word:["doc","docx"],excel:["xls","xlsx"],ppt:["ppt","pptx"],pdf:["pdf"],txt:["txt"],zip:["zip","rar","7z","tar","gz","bz2"],code:["css","js","json","xml","vue","ts","jsx","tsx","php","java","py","go","c","cpp"],music:["mp3","mp4","wav","wma","ogg","ape","flac","aac","amr","m4a"],link:["html"],exe:["exe"],sql:["sql"],"3d":["stl","obj","fbx","3ds","dxf","dwg","max","blend","lwo","lws","ma","mb","abc","fbx"],email:["eml","msg"]};return Object.keys(t).find(n=>t[n].includes(o.toLowerCase()))||"unknow"},b=(a,e)=>{const o=i(a,e);return{photo:"file-photo",gif:"file-gif",video:"file-video",word:"file-word",excel:"file-excel",ppt:"file-ppt",pdf:"file-pdf",txt:"file-txt",zip:"file-zip",code:"file-code",music:"file-music",link:"file-link",exe:"file-exe",sql:"file-sql","3d":"file-3d",email:"file-email",unknow:"file-unknow"}[o]||"file-unknow"};export{m as a,c as b,b as c,l as d,i as e,d as f,p as g,f as h,w as r};
