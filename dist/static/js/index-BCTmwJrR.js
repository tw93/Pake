var g4=(dt,nt)=>(nt=Symbol[dt])?nt:Symbol.for("Symbol."+dt),jse=dt=>{throw TypeError(dt)};var Ose=function(dt,nt){this[0]=dt,this[1]=nt};var LX=dt=>{var nt=dt[g4("asyncIterator")],Ut=!1,Vt,Cr={};return nt==null?(nt=dt[g4("iterator")](),Vt=dr=>Cr[dr]=uo=>nt[dr](uo)):(nt=nt.call(dt),Vt=dr=>Cr[dr]=uo=>{if(Ut){if(Ut=!1,dr==="throw")throw uo;return uo}return Ut=!0,{done:!1,value:new Ose(new Promise(co=>{var Br=nt[dr](uo);Br instanceof Object||jse("Object expected"),co(Br)}),1)}}),Cr[g4("iterator")]=()=>Cr,Vt("next"),"throw"in nt?Vt("throw"):Cr.throw=dr=>{throw dr},"return"in nt&&Vt("return"),Cr};import{D as $X,E as qE,bh as vr,a3 as Tse,cN as VE,d as Ase,r as HE,bC as Dse,aw as KX,b2 as zse,A as Bse,K as Nse,G as Rse,ae as Fse,_ as Mse,c as Use,o as Vse}from"./index-DzJUk-4s.js";import{a as Hse}from"./querySelectorAll-CWDd-9ax.js";import{u as GX,C as qX,E as Lse}from"./index-B2h3DCGB.js";import{u as Kse}from"./useSync.hook-CykodbHN.js";import{A as qse}from"./driver.js-DincbcBx.js";/* empty css               */import"./plugin-BZaVEG5Y.js";import"./icon-Bt2TghsQ.js";import"./file-BoGdIhh5.js";import"./systemStore-CDAOEx2u.js";import"./index-DumZb7Zp.js";import"./index-YIaHLc6Z.js";import"./fileTypeEnum-22QBGXO_.js";const Wse=$X(),$se=GX(),Gse=()=>{if(!window.$TheatreStudio)return;window.$TheatreStudio.ui.hide(),window.$TheatreStudio.pause(),$se.setTargetSelectChart([]);const dt=qse({showProgress:!0,nextBtnText:"下一步",prevBtnText:"上一步",doneBtnText:"完成",steps:[{element:"#go-chart-edit-content",popover:{title:"步骤一：选择对象",description:"在大屏编辑器内选中一个对象！",side:"right",align:"start",onNextClick:()=>{LE("leftDom"),dt.moveNext()}}},{element:"#leftDom",popover:{title:"步骤二：关键帧打点",description:"点击Props前面的 ⬥ 按钮设置关键帧，然后修改属性参数！",side:"left",align:"start",onNextClick:nt=>{gm("leftDom"),LE("bottomDom"),dt.moveNext()},onPrevClick:()=>{gm("leftDom"),dt.movePrevious()}}},{element:"#bottomDom",popover:{title:"步骤三：移动时间轴",description:"移动蓝色时间线，再次执行步骤二，点击播放即可！",side:"bottom",align:"start",onNextClick:()=>{gm("bottomDom"),dt.moveNext(),window.$TheatreStudio.ui.restore()},onPrevClick:()=>{LE("leftDom"),gm("bottomDom"),dt.movePrevious()}}}],onDestroyStarted:()=>{gm("leftDom"),gm("bottomDom"),dt.destroy()}});return Wse.on(qE.CHART_EDIT_COMPONENT_SELECT,nt=>{if(nt.length===1&&dt){if(dt.getActiveIndex()!==0)return;LE("leftDom"),dt.moveNext()}}),dt.drive(),dt};function LE(dt){const nt=document.createElement("div");let Ut="";dt==="leftDom"&&(nt.style.position="fixed",nt.style.right="0",nt.style.top="50%",nt.style.transform="translateY(-50%)",nt.style.width="280px",nt.style.height="500px",Ut="/images/driver/leftDom.png"),dt==="bottomDom"&&(nt.style.position="fixed",nt.style.left="50%",nt.style.transform="translateX(-50%)",nt.style.bottom="0",nt.style.width="1000px",nt.style.height="360px",nt.style.zIndex="999",Ut="/images/driver/bottomDom.png");const Vt=document.createElement("img");return Vt.src=Ut,Vt.style.width="100%",Vt.style.height="100%",nt.appendChild(Vt),nt.id=dt,document.body.appendChild(nt),nt}function gm(dt){const nt=document.getElementById(dt);nt&&nt.parentNode&&nt.parentNode.removeChild(nt)}var WE={exports:{}},Ne={};(function(dt){var nt=Object.defineProperty,Ut=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,Cr=Object.getOwnPropertySymbols,dr=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable,co=(D,W,se)=>W in D?nt(D,W,{enumerable:!0,configurable:!0,writable:!0,value:se}):D[W]=se,Br=(D,W)=>{for(var se in W||(W={}))dr.call(W,se)&&co(D,se,W[se]);if(Cr)for(var se of Cr(W))uo.call(W,se)&&co(D,se,W[se]);return D},ia=(D,W)=>Ut(D,Vt(W)),fo=D=>nt(D,"__esModule",{value:!0}),pn=(D,W)=>{fo(D);for(var se in W)nt(D,se,{get:W[se],enumerable:!0})};pn(dt,{Atom:()=>sc,PointerProxy:()=>Uf,Ticker:()=>Mf,getPointerParts:()=>oi,isPointer:()=>ba,isPrism:()=>Ho,iterateAndCountTicks:()=>Ff,iterateOver:()=>uc,pointer:()=>Ju,pointerToPrism:()=>bl,prism:()=>wa,val:()=>us});var hn=Array.isArray,Et=hn,Ir=typeof vr=="object"&&vr&&vr.Object===Object&&vr,po=Ir,zo=typeof self=="object"&&self&&self.Object===Object&&self,J=po||zo||Function("return this")(),Se=J,Bo=Se.Symbol,I=Bo,st=Object.prototype,sa=st.hasOwnProperty,ei=st.toString,Q=I?I.toStringTag:void 0;function ti(D){var W=sa.call(D,Q),se=D[Q];try{D[Q]=void 0;var Ie=!0}catch(Pt){}var ht=ei.call(D);return Ie&&(W?D[Q]=se:delete D[Q]),ht}var St=ti,U=Object.prototype,et=U.toString;function ot(D){return et.call(D)}var xt=ot,Ht="[object Null]",ie="[object Undefined]",In=I?I.toStringTag:void 0;function $e(D){return D==null?D===void 0?ie:Ht:In&&In in Object(D)?St(D):xt(D)}var No=$e;function jn(D){return D!=null&&typeof D=="object"}var Fu=jn,al="[object Symbol]";function Ro(D){return typeof D=="symbol"||Fu(D)&&No(D)==al}var Gi=Ro,Ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rd=/^\w*$/;function lr(D,W){if(Et(D))return!1;var se=typeof D;return se=="number"||se=="symbol"||se=="boolean"||D==null||Gi(D)?!0:Rd.test(D)||!Ur.test(D)||W!=null&&D in Object(W)}var Mu=lr;function Fd(D){var W=typeof D;return D!=null&&(W=="object"||W=="function")}var il=Fd,la="[object AsyncFunction]",ua="[object Function]",Md="[object GeneratorFunction]",Uu="[object Proxy]";function Ud(D){if(!il(D))return!1;var W=No(D);return W==ua||W==Md||W==la||W==Uu}var Vd=Ud,Hd=Se["__core-js_shared__"],Vr=Hd,mn=function(){var D=/[^.]+$/.exec(Vr&&Vr.keys&&Vr.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}();function Vu(D){return!!mn&&mn in D}var On=Vu,Tn=Function.prototype,vm=Tn.toString;function An(D){if(D!=null){try{return vm.call(D)}catch(W){}try{return D+""}catch(W){}}return""}var Ld=An,Kd=/[\\^$.*+?()[\]{}|]/g,ho=/^\[object .+?Constructor\]$/,qd=Function.prototype,ym=Object.prototype,bm=qd.toString,sl=ym.hasOwnProperty,Wd=RegExp("^"+bm.call(sl).replace(Kd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gn(D){if(!il(D)||On(D))return!1;var W=Vd(D)?Wd:ho;return W.test(Ld(D))}var wm=gn;function km(D,W){return D==null?void 0:D[W]}var $d=km;function Gd(D,W){var se=$d(D,W);return wm(se)?se:void 0}var ll=Gd,mo=ll(Object,"create"),Gn=mo;function Hu(){this.__data__=Gn?Gn(null):{},this.size=0}var go=Hu;function ri(D){var W=this.has(D)&&delete this.__data__[D];return this.size-=W?1:0,W}var _m=ri,Zd="__lodash_hash_undefined__",ca=Object.prototype,Zi=ca.hasOwnProperty;function da(D){var W=this.__data__;if(Gn){var se=W[D];return se===Zd?void 0:se}return Zi.call(W,D)?W[D]:void 0}var ni=da,Lu=Object.prototype,Xd=Lu.hasOwnProperty;function Zr(D){var W=this.__data__;return Gn?W[D]!==void 0:Xd.call(W,D)}var Dn=Zr,Yd="__lodash_hash_undefined__";function Qd(D,W){var se=this.__data__;return this.size+=this.has(D)?0:1,se[D]=Gn&&W===void 0?Yd:W,this}var Ku=Qd;function Fo(D){var W=-1,se=D==null?0:D.length;for(this.clear();++W<se;){var Ie=D[W];this.set(Ie[0],Ie[1])}}Fo.prototype.clear=go,Fo.prototype.delete=_m,Fo.prototype.get=ni,Fo.prototype.has=Dn,Fo.prototype.set=Ku;var qu=Fo;function xm(){this.__data__=[],this.size=0}var Sm=xm;function Mo(D,W){return D===W||D!==D&&W!==W}var Jd=Mo;function Xi(D,W){for(var se=D.length;se--;)if(Jd(D[se][0],W))return se;return-1}var ul=Xi,ef=Array.prototype,tf=ef.splice;function Em(D){var W=this.__data__,se=ul(W,D);if(se<0)return!1;var Ie=W.length-1;return se==Ie?W.pop():tf.call(W,se,1),--this.size,!0}var Pm=Em;function Zn(D){var W=this.__data__,se=ul(W,D);return se<0?void 0:W[se][1]}var fa=Zn;function Cm(D){return ul(this.__data__,D)>-1}var Wu=Cm;function rf(D,W){var se=this.__data__,Ie=ul(se,D);return Ie<0?(++this.size,se.push([D,W])):se[Ie][1]=W,this}var nf=rf;function pa(D){var W=-1,se=D==null?0:D.length;for(this.clear();++W<se;){var Ie=D[W];this.set(Ie[0],Ie[1])}}pa.prototype.clear=Sm,pa.prototype.delete=Pm,pa.prototype.get=fa,pa.prototype.has=Wu,pa.prototype.set=nf;var of=pa,vo=ll(Se,"Map"),Yi=vo;function Im(){this.size=0,this.__data__={hash:new qu,map:new(Yi||of),string:new qu}}var Uo=Im;function $u(D){var W=typeof D;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?D!=="__proto__":D===null}var cl=$u;function af(D,W){var se=D.__data__;return cl(W)?se[typeof W=="string"?"string":"hash"]:se.map}var dl=af;function ha(D){var W=dl(this,D).delete(D);return this.size-=W?1:0,W}var fl=ha;function pl(D){return dl(this,D).get(D)}var Qi=pl;function hl(D){return dl(this,D).has(D)}var jm=hl;function sf(D,W){var se=dl(this,D),Ie=se.size;return se.set(D,W),this.size+=se.size==Ie?0:1,this}var lf=sf;function ma(D){var W=-1,se=D==null?0:D.length;for(this.clear();++W<se;){var Ie=D[W];this.set(Ie[0],Ie[1])}}ma.prototype.clear=Uo,ma.prototype.delete=fl,ma.prototype.get=Qi,ma.prototype.has=jm,ma.prototype.set=lf;var Gu=ma,Zu="Expected a function";function ml(D,W){if(typeof D!="function"||W!=null&&typeof W!="function")throw new TypeError(Zu);var se=function(){var Ie=arguments,ht=W?W.apply(this,Ie):Ie[0],Pt=se.cache;if(Pt.has(ht))return Pt.get(ht);var br=D.apply(this,Ie);return se.cache=Pt.set(ht,br)||Pt,br};return se.cache=new(ml.Cache||Gu),se}ml.Cache=Gu;var uf=ml,yo=500;function gl(D){var W=uf(D,function(Ie){return se.size===yo&&se.clear(),Ie}),se=W.cache;return W}var Om=gl,ga=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cf=/\\(\\)?/g,Tm=Om(function(D){var W=[];return D.charCodeAt(0)===46&&W.push(""),D.replace(ga,function(se,Ie,ht,Pt){W.push(ht?Pt.replace(cf,"$1"):Ie||se)}),W}),Am=Tm;function df(D,W){for(var se=-1,Ie=D==null?0:D.length,ht=Array(Ie);++se<Ie;)ht[se]=W(D[se],se,D);return ht}var ff=df,vn=I?I.prototype:void 0,Xu=vn?vn.toString:void 0;function pf(D){if(typeof D=="string")return D;if(Et(D))return ff(D,pf)+"";if(Gi(D))return Xu?Xu.call(D):"";var W=D+"";return W=="0"&&1/D==-1/0?"-0":W}var hf=pf;function mf(D){return D==null?"":hf(D)}var gf=mf;function vf(D,W){return Et(D)?D:Mu(D,W)?[D]:Am(gf(D))}var yf=vf;function bf(D){if(typeof D=="string"||Gi(D))return D;var W=D+"";return W=="0"&&1/D==-1/0?"-0":W}var va=bf;function Ji(D,W){W=yf(W,D);for(var se=0,Ie=W.length;D!=null&&se<Ie;)D=D[va(W[se++])];return se&&se==Ie?D:void 0}var Dm=Ji;function Yu(D,W,se){var Ie=D==null?void 0:Dm(D,W);return Ie===void 0?se:Ie}var wf=Yu;function zm(D,W){return function(se){return D(W(se))}}var Bm=zm,Vo=Bm(Object.getPrototypeOf,Object),ya=Vo,kf="[object Object]",vl=Function.prototype,Nm=Object.prototype,_f=vl.toString,xf=Nm.hasOwnProperty,Sf=_f.call(Object);function Ef(D){if(!Fu(D)||No(D)!=kf)return!1;var W=ya(D);if(W===null)return!0;var se=xf.call(W,"constructor")&&W.constructor;return typeof se=="function"&&se instanceof se&&_f.call(se)==Sf}var Qu=Ef;function Pf(D){var W=D==null?0:D.length;return W?D[W-1]:void 0}var Rm=Pf,es=new WeakMap,Cf=new WeakMap,ts=Symbol("pointerMeta"),If={get(D,W){if(W===ts)return es.get(D);let se=Cf.get(D);se||(se=new Map,Cf.set(D,se));const Ie=se.get(W);if(Ie!==void 0)return Ie;const ht=es.get(D),Pt=rs({root:ht.root,path:[...ht.path,W]});return se.set(W,Pt),Pt}},Xn=D=>D[ts],oi=D=>{const{root:W,path:se}=Xn(D);return{root:W,path:se}};function rs(D){var W;const se={root:D.root,path:(W=D.path)!=null?W:[]},Ie={};return es.set(Ie,se),new Proxy(Ie,If)}var Ju=rs,ba=D=>D&&!!Xn(D);function ec(D,W,se){return W.length===0?se(D):ai(D,W,se)}var ai=(D,W,se)=>{if(W.length===0)return se(D);if(Array.isArray(D)){let[Ie,...ht]=W;Ie=parseInt(String(Ie),10),isNaN(Ie)&&(Ie=0);const Pt=D[Ie],br=ai(Pt,ht,se);if(Pt===br)return D;const Yn=[...D];return Yn.splice(Ie,1,br),Yn}else if(typeof D=="object"&&D!==null){const[Ie,...ht]=W,Pt=D[Ie],br=ai(Pt,ht,se);return Pt===br?D:ia(Br({},D),{[Ie]:br})}else{const[Ie,...ht]=W;return{[Ie]:ai(void 0,ht,se)}}},yr=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const D=this._head;if(D)return this._head=D.next,D.data}push(D){const W={next:this._head,data:D};this._head=W}};function Ho(D){return!!(D&&D.isPrism&&D.isPrism===!0)}function yl(){const D=()=>{},W=new yr,se=D;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{W.push(se)},stopIgnoringDependencies:()=>{W.peek()!==se||W.pop()},reportResolutionStart:si=>{const cs=W.peek();cs&&cs(si),W.push(se)},reportResolutionEnd:si=>{W.pop()},pushCollector:si=>{W.push(si)},popCollector:si=>{if(W.peek()!==si)throw new Error("Popped collector is not on top of the stack");W.pop()}}}function jf(){const D="__dataverse_discoveryMechanism_sharedStack",W=typeof window!="undefined"?window:typeof vr!="undefined"?vr:{};if(W){const se=W[D];if(se&&typeof se=="object"&&se.type==="Dataverse_discoveryMechanism")return se;{const Ie=yl();return W[D]=Ie,Ie}}else return yl()}var{startIgnoringDependencies:Lo,stopIgnoringDependencies:ns,reportResolutionEnd:Of,reportResolutionStart:Tf,pushCollector:tc,popCollector:Fm}=jf(),os=()=>{},rc=class{constructor(D,W){this._fn=D,this._prismInstance=W,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new Df(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=se=>{this._possiblyStaleDeps.add(se),this._markAsStale()};for(const se of this._dependencies)se._addDependent(this._reactToDependencyGoingStale);Lo(),this.getValue(),ns()}get hasDependents(){return this._dependents.size>0}removeDependent(D){this._dependents.delete(D)}addDependent(D){this._dependents.add(D)}destroy(){for(const D of this._dependencies)D._removeDependent(this._reactToDependencyGoingStale);zf(this._scope)}getValue(){if(!this._isFresh){const D=this._recalculate();this._lastValue=D,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let D;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let Ie=!1;Lo();for(const ht of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(ht)!==ht.getValue()){Ie=!0;break}if(ns(),this._possiblyStaleDeps.clear(),!Ie)return this._lastValue}const W=new Set;this._cacheOfDendencyValues.clear();const se=Ie=>{W.add(Ie),this._addDependency(Ie)};tc(se),jr.push(this._scope);try{D=this._fn()}catch(Ie){console.error(Ie)}finally{jr.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}Fm(se);for(const Ie of this._dependencies)W.has(Ie)||this._removeDependency(Ie);this._dependencies=W,Lo();for(const Ie of W)this._cacheOfDendencyValues.set(Ie,Ie.getValue());return ns(),D}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const D of this._dependents)D(this._prismInstance)}}_addDependency(D){this._dependencies.has(D)||(this._dependencies.add(D),D._addDependent(this._reactToDependencyGoingStale))}_removeDependency(D){this._dependencies.has(D)&&(this._dependencies.delete(D),D._removeDependent(this._reactToDependencyGoingStale))}},nc={},Af=class{constructor(D){this._fn=D,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(D,W,se=!1){const Ie=()=>{D.onThisOrNextTick(Pt)};let ht=nc;const Pt=()=>{const Yn=this.getValue();Yn!==ht&&(ht=Yn,W(Yn))};return this._addDependent(Ie),se&&(ht=this.getValue(),W(ht)),()=>{this._removeDependent(Ie),D.offThisOrNextTick(Pt),D.offNextTick(Pt)}}onStale(D){const W=()=>{this._removeDependent(se)},se=()=>D();return this._addDependent(se),W}keepHot(){return this.onStale(()=>{})}_addDependent(D){this._state.hot||this._goHot(),this._state.handle.addDependent(D)}_goHot(){const D=new rc(this._fn,this);this._state={hot:!0,handle:D}}_removeDependent(D){const W=this._state;if(!W.hot)return;const se=W.handle;se.removeDependent(D),se.hasDependents||(this._state={hot:!1,handle:void 0},se.destroy())}getValue(){Tf(this);const D=this._state;let W;return D.hot?W=D.handle.getValue():W=Ko(this._fn),Of(this),W}},Df=class{constructor(D){this._hotHandle=D,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(D,W){let se=this._refs.get(D);if(se!==void 0)return se;{const Ie={current:W};return this._refs.set(D,Ie),Ie}}effect(D,W,se){let Ie=this.effects.get(D);Ie===void 0&&(Ie={cleanup:os,deps:void 0},this.effects.set(D,Ie)),oc(Ie.deps,se)&&(Ie.cleanup(),Lo(),Ie.cleanup=as(W,os).value,ns(),Ie.deps=se)}memo(D,W,se){let Ie=this.memos.get(D);return Ie===void 0&&(Ie={cachedValue:null,deps:void 0},this.memos.set(D,Ie)),oc(Ie.deps,se)&&(Lo(),Ie.cachedValue=as(W,void 0).value,ns(),Ie.deps=se),Ie.cachedValue}state(D,W){const{value:se,setValue:Ie}=this.memo("state/"+D,()=>{const ht={current:W};return{value:ht,setValue:br=>{ht.current=br,this._hotHandle.forceStale()}}},[]);return[se.current,Ie]}sub(D){return this.subs[D]||(this.subs[D]=new Df(this._hotHandle)),this.subs[D]}cleanupEffects(){for(const D of this.effects.values())as(D.cleanup,void 0);this.effects.clear()}source(D,W){return this.effect("$$source/blah",()=>D(()=>{this._hotHandle.forceStale()}),[D]),W()}};function zf(D){for(const W of Object.values(D.subs))zf(W);D.cleanupEffects()}function as(D,W){try{return{value:D(),ok:!0}}catch(se){return setTimeout(function(){throw se}),{value:W,ok:!1}}}var jr=new yr;function Mm(D,W){const se=jr.peek();if(!se)throw new Error("prism.ref() is called outside of a prism() call.");return se.ref(D,W)}function is(D,W,se){const Ie=jr.peek();if(!Ie)throw new Error("prism.effect() is called outside of a prism() call.");return Ie.effect(D,W,se)}function oc(D,W){if(D===void 0||W===void 0)return!0;const se=D.length;if(se!==W.length)return!0;for(let Ie=0;Ie<se;Ie++)if(D[Ie]!==W[Ie])return!0;return!1}function Bf(D,W,se){const Ie=jr.peek();if(!Ie)throw new Error("prism.memo() is called outside of a prism() call.");return Ie.memo(D,W,se)}function Hr(D,W){const se=jr.peek();if(!se)throw new Error("prism.state() is called outside of a prism() call.");return se.state(D,W)}function Um(){if(!jr.peek())throw new Error("The parent function is called outside of a prism() call.")}function Vm(D,W){const se=jr.peek();if(!se)throw new Error("prism.scope() is called outside of a prism() call.");const Ie=se.sub(D);jr.push(Ie);const ht=as(W,void 0).value;return jr.pop(),ht}function Nf(D,W,se){return Bf(D,()=>ur(W),se).getValue()}function ac(){return!!jr.peek()}function ss(D,W){const se=jr.peek();if(!se)throw new Error("prism.source() is called outside of a prism() call.");return se.source(D,W)}var ur=D=>new Af(D),ls=class{effect(D,W,se){console.warn("prism.effect() does not run in cold prisms")}memo(D,W,se){return W()}state(D,W){return[W,()=>{}]}ref(D,W){return{current:W}}sub(D){return new ls}source(D,W){return W()}};function Ko(D){const W=new ls;jr.push(W);let se;try{se=D()}catch(Ie){console.error(Ie)}finally{jr.pop()!==W&&console.warn("The Prism hook stack has slipped. This is a bug.")}return se}ur.ref=Mm,ur.effect=is,ur.memo=Bf,ur.ensurePrism=Um,ur.state=Hr,ur.scope=Vm,ur.sub=Nf,ur.inPrism=ac,ur.source=ss;var wa=ur,Rf;(function(D){D[D.Dict=0]="Dict",D[D.Array=1]="Array",D[D.Other=2]="Other"})(Rf||(Rf={}));var It=D=>Array.isArray(D)?1:Qu(D)?0:2,ii=(D,W,se=It(D))=>se===0&&typeof W=="string"||se===1&&Hm(W)?D[W]:void 0,Hm=D=>{const W=typeof D=="number"?D:parseInt(D,10);return!isNaN(W)&&W>=0&&W<1/0&&(W|0)===W},ic=class{constructor(D,W){this._parent=D,this._path=W,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(D){this.identityChangeListeners.add(D)}removeIdentityChangeListener(D){this.identityChangeListeners.delete(D),this._checkForGC()}removeChild(D){this.children.delete(D),this._checkForGC()}getChild(D){return this.children.get(D)}getOrCreateChild(D){let W=this.children.get(D);return W||(W=W=new ic(this,this._path.concat([D])),this.children.set(D,W)),W}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(Rm(this._path))}},sc=class{constructor(D){this.$$isPointerToPrismProvider=!0,this.pointer=Ju({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(W,se)=>{const{path:Ie}=oi(W),ht=this._getOrCreateScopeForPath(Ie);return ht.identityChangeListeners.add(se),()=>{ht.identityChangeListeners.delete(se)}},this._currentState=D,this._rootScope=new ic(void 0,[])}set(D){const W=this._currentState;this._currentState=D,this._checkUpdates(this._rootScope,W,D)}get(){return this._currentState}getByPointer(D){const W=ba(D)?D:D(this.pointer),se=oi(W).path;return this._getIn(se)}_getIn(D){return D.length===0?this.get():wf(this.get(),D)}reduce(D){this.set(D(this.get()))}reduceByPointer(D,W){const se=ba(D)?D:D(this.pointer),Ie=oi(se).path,ht=ec(this.get(),Ie,W);this.set(ht)}setByPointer(D,W){this.reduceByPointer(D,()=>W)}_checkUpdates(D,W,se){if(W===se)return;for(const Pt of D.identityChangeListeners)Pt(se);if(D.children.size===0)return;const Ie=It(W),ht=It(se);if(!(Ie===2&&Ie===ht))for(const[Pt,br]of D.children){const Yn=ii(W,Pt,Ie),wl=ii(se,Pt,ht);this._checkUpdates(br,Yn,wl)}}_getOrCreateScopeForPath(D){let W=this._rootScope;for(const se of D)W=W.getOrCreateChild(se);return W}pointerToPrism(D){const{path:W}=oi(D),se=ht=>this._onPointerValueChange(D,ht),Ie=()=>this._getIn(W);return wa(()=>wa.source(se,Ie))}},lc=new WeakMap;function Lm(D){return typeof D=="object"&&D!==null&&D.$$isPointerToPrismProvider===!0}var bl=D=>{const W=Xn(D);let se=lc.get(W);if(!se){const Ie=W.root;if(!Lm(Ie))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");se=Ie.pointerToPrism(D),lc.set(W,se)}return se},us=D=>ba(D)?bl(D).getValue():Ho(D)?D.getValue():D;function*Ff(D){let W;if(ba(D))W=bl(D);else if(Ho(D))W=D;else throw new Error("Only pointers and prisms are supported");let se=0;const Ie=W.onStale(()=>{se++});try{for(;;){const ht=se;se=0,yield{value:W.getValue(),ticks:ht}}}finally{Ie()}}var Km=60*3,Mf=class{constructor(D){this._conf=D,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(D){this._scheduledForThisOrNextTick.add(D),this._dormant&&this._goActive()}onNextTick(D){this._scheduledForNextTick.add(D),this._dormant&&this._goActive()}offThisOrNextTick(D){this._scheduledForThisOrNextTick.delete(D)}offNextTick(D){this._scheduledForNextTick.delete(D)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var D,W;this._dormant&&(this._dormant=!1,(W=(D=this._conf)==null?void 0:D.onActive)==null||W.call(D))}_goDormant(){var D,W;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,(W=(D=this._conf)==null?void 0:D.onDormant)==null||W.call(D))}tick(D=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=Km)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=D;for(const W of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(W);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(D){const W=this.time;if(D>10&&console.warn("_tick() recursing for 10 times"),D>100)throw new Error("Maximum recursion limit for _tick()");const se=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const Ie of se)Ie(W);if(this._scheduledForThisOrNextTick.size>0)return this._tick(D+1)}};function*uc(D){let W;if(ba(D))W=bl(D);else if(Ho(D))W=D;else throw new Error("Only pointers and prisms are supported");const se=new Mf,Ie=W.onChange(se,ht=>{});try{for(;;)se.tick(),yield W.getValue()}finally{Ie()}}var Uf=class{constructor(D){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new sc(D),this.pointer=Ju({root:this,path:[]})}setPointer(D){this._currentPointerBox.set(D)}pointerToPrism(D){const{path:W}=Xn(D);return wa(()=>{const se=this._currentPointerBox.prism.getValue(),Ie=W.reduce((ht,Pt)=>ht[Pt],se);return us(Ie)})}}})(Ne);WE.exports;(function(dt,nt){var Ut={},Vt=Object.create,Cr=Object.freeze,dr=Object.defineProperty,uo=Object.defineProperties,co=Object.getOwnPropertyDescriptor,Br=Object.getOwnPropertyDescriptors,ia=Object.getOwnPropertyNames,fo=Object.getOwnPropertySymbols,pn=Object.getPrototypeOf,hn=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,Ir=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},po=Math.pow,zo=(e,t,r)=>t in e?dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,J=(e,t)=>{for(var r in t||(t={}))hn.call(t,r)&&zo(e,r,t[r]);if(fo)for(var r of fo(t))Et.call(t,r)&&zo(e,r,t[r]);return e},Se=(e,t)=>uo(e,Br(t)),Bo=(e,t)=>{var r={};for(var o in e)hn.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&fo)for(var o of fo(e))t.indexOf(o)<0&&Et.call(e,o)&&(r[o]=e[o]);return r},I=(e,t)=>()=>(e&&(t=e(e=0)),t),st=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),sa=(e,t)=>{for(var r in t)dr(e,r,{get:t[r],enumerable:!0})},ei=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ia(t))!hn.call(e,i)&&i!==r&&dr(e,i,{get:()=>t[i],enumerable:!(o=co(t,i))||o.enumerable});return e},Q=(e,t,r)=>(r=e!=null?Vt(pn(e)):{},ei(t||!e||!e.__esModule?dr(r,"default",{value:e,enumerable:!0}):r,e)),ti=e=>ei(dr({},"__esModule",{value:!0}),e),St=(e,t,r)=>(zo(e,typeof t!="symbol"?t+"":t,r),r),U=(e,t)=>Cr(dr(e,"raw",{value:Cr(e.slice())})),et=(e,t,r)=>new Promise((o,i)=>{var s=f=>{try{c(r.next(f))}catch(p){i(p)}},u=f=>{try{c(r.throw(f))}catch(p){i(p)}},c=f=>f.done?o(f.value):Promise.resolve(f.value).then(s,u);c((r=r.apply(e,t)).next())}),ot=function(e,t){this[0]=e,this[1]=t},xt=e=>{var t=e[Ir("asyncIterator")],r=!1,o,i={};return t==null?(t=e[Ir("iterator")](),o=s=>i[s]=u=>t[s](u)):(t=t.call(e),o=s=>i[s]=u=>{if(r){if(r=!1,s==="throw")throw u;return u}return r=!0,{done:!1,value:new ot(new Promise(c=>{var f=t[s](u);if(!(f instanceof Object))throw TypeError("Object expected");c(f)}),1)}}),i[Ir("iterator")]=()=>i,o("next"),"throw"in t?o("throw"):i.throw=s=>{throw s},"return"in t&&o("return"),i};function Ht(e){In=e}function ie(){return In}var In,$e=I(()=>{});function No(e,t,r=[]){if(typeof e=="object"&&e){if(jn(e)||Fu(e)){t(e,r);return}for(let[o,i]of Object.entries(e))No(i,t,[...r,o])}else{if(e==null)return;t(e,r)}}var jn,Fu,al=I(()=>{jn=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"type")&&e.type==="image"&&Object.hasOwnProperty.call(e,"id")&&typeof e.id=="string"&&e.id!=="",Fu=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"&&typeof e.a=="number"});function Ro(e){return t=>typeof t=="object"&&!!t&&t.type===e}var Gi,Ur,Rd,lr,Mu,Fd,il,la,ua=I(()=>{Gi=Ro("Theatre_Project"),Ur=Ro("Theatre_Sheet"),Rd=Ro("Theatre_SheetTemplate"),lr=Ro("Theatre_SheetObject"),Mu=Ro("Theatre_Sequence"),Fd=Ro("Theatre_SheetObjectTemplate"),il=Ro("Theatre_Sheet_PublicAPI"),la=Ro("Theatre_SheetObject_PublicAPI")}),Md,Uu,Ud=I(()=>{Md=typeof vr=="object"&&vr&&vr.Object===Object&&vr,Uu=Md}),Vd,Hd,Vr,mn=I(()=>{Ud(),Vd=typeof self=="object"&&self&&self.Object===Object&&self,Hd=Uu||Vd||Function("return this")(),Vr=Hd}),Vu,On,Tn=I(()=>{mn(),Vu=Vr.Symbol,On=Vu});function vm(e){var t=Ld.call(e,ho),r=e[ho];try{e[ho]=void 0;var o=!0}catch(s){}var i=Kd.call(e);return o&&(t?e[ho]=r:delete e[ho]),i}var An,Ld,Kd,ho,qd,ym=I(()=>{Tn(),An=Object.prototype,Ld=An.hasOwnProperty,Kd=An.toString,ho=On?On.toStringTag:void 0,qd=vm});function bm(e){return Wd.call(e)}var sl,Wd,gn,wm=I(()=>{sl=Object.prototype,Wd=sl.toString,gn=bm});function km(e){return e==null?e===void 0?Gd:$d:ll&&ll in Object(e)?qd(e):gn(e)}var $d,Gd,ll,mo,Gn=I(()=>{Tn(),ym(),wm(),$d="[object Null]",Gd="[object Undefined]",ll=On?On.toStringTag:void 0,mo=km});function Hu(e){return e!=null&&typeof e=="object"}var go,ri=I(()=>{go=Hu});function _m(e){return typeof e=="symbol"||go(e)&&mo(e)==Zd}var Zd,ca,Zi=I(()=>{Gn(),ri(),Zd="[object Symbol]",ca=_m});function da(e,t){for(var r=-1,o=e==null?0:e.length,i=Array(o);++r<o;)i[r]=t(e[r],r,e);return i}var ni,Lu=I(()=>{ni=da}),Xd,Zr,Dn=I(()=>{Xd=Array.isArray,Zr=Xd});function Yd(e){if(typeof e=="string")return e;if(Zr(e))return ni(e,Yd)+"";if(ca(e))return Fo?Fo.call(e):"";var t=e+"";return t=="0"&&1/e==-Qd?"-0":t}var Qd,Ku,Fo,qu,xm=I(()=>{Tn(),Lu(),Dn(),Zi(),Qd=1/0,Ku=On?On.prototype:void 0,Fo=Ku?Ku.toString:void 0,qu=Yd});function Sm(e){for(var t=e.length;t--&&Mo.test(e.charAt(t)););return t}var Mo,Jd,Xi=I(()=>{Mo=/\s/,Jd=Sm});function ul(e){return e&&e.slice(0,Jd(e)+1).replace(ef,"")}var ef,tf,Em=I(()=>{Xi(),ef=/^\s+/,tf=ul});function Pm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zn,fa=I(()=>{Zn=Pm});function Cm(e){if(typeof e=="number")return e;if(ca(e))return Wu;if(Zn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Zn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tf(e);var r=nf.test(e);return r||pa.test(e)?of(e.slice(2),r?2:8):rf.test(e)?Wu:+e}var Wu,rf,nf,pa,of,vo,Yi=I(()=>{Em(),fa(),Zi(),Wu=NaN,rf=/^[-+]0x[0-9a-f]+$/i,nf=/^0b[01]+$/i,pa=/^0o[0-7]+$/i,of=parseInt,vo=Cm});function Im(e){if(!e)return e===0?e:0;if(e=vo(e),e===Uo||e===-Uo){var t=e<0?-1:1;return t*$u}return e===e?e:0}var Uo,$u,cl,af=I(()=>{Yi(),Uo=1/0,$u=17976931348623157e292,cl=Im});function dl(e){var t=cl(e),r=t%1;return t===t?r?t-r:t:0}var ha,fl=I(()=>{af(),ha=dl});function pl(e){return e}var Qi,hl=I(()=>{Qi=pl});function jm(e){if(!Zn(e))return!1;var t=mo(e);return t==lf||t==ma||t==sf||t==Gu}var sf,lf,ma,Gu,Zu,ml=I(()=>{Gn(),fa(),sf="[object AsyncFunction]",lf="[object Function]",ma="[object GeneratorFunction]",Gu="[object Proxy]",Zu=jm}),uf,yo,gl=I(()=>{mn(),uf=Vr["__core-js_shared__"],yo=uf});function Om(e){return!!ga&&ga in e}var ga,cf,Tm=I(()=>{gl(),ga=function(){var e=/[^.]+$/.exec(yo&&yo.keys&&yo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),cf=Om});function Am(e){if(e!=null){try{return ff.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var df,ff,vn,Xu=I(()=>{df=Function.prototype,ff=df.toString,vn=Am});function pf(e){if(!Zn(e)||cf(e))return!1;var t=Zu(e)?va:mf;return t.test(vn(e))}var hf,mf,gf,vf,yf,bf,va,Ji,Dm=I(()=>{ml(),Tm(),fa(),Xu(),hf=/[\\^$.*+?()[\]{}|]/g,mf=/^\[object .+?Constructor\]$/,gf=Function.prototype,vf=Object.prototype,yf=gf.toString,bf=vf.hasOwnProperty,va=RegExp("^"+yf.call(bf).replace(hf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ji=pf});function Yu(e,t){return e==null?void 0:e[t]}var wf,zm=I(()=>{wf=Yu});function Bm(e,t){var r=wf(e,t);return Ji(r)?r:void 0}var Vo,ya=I(()=>{Dm(),zm(),Vo=Bm}),kf,vl,Nm=I(()=>{ya(),mn(),kf=Vo(Vr,"WeakMap"),vl=kf});function _f(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var xf,Sf=I(()=>{xf=_f});function Ef(){}var Qu,Pf=I(()=>{Qu=Ef});function Rm(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var es,Cf=I(()=>{es=Rm});function ts(e){var t=0,r=0;return function(){var o=oi(),i=Xn-(o-r);if(r=o,i>0){if(++t>=If)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var If,Xn,oi,rs,Ju=I(()=>{If=800,Xn=16,oi=Date.now,rs=ts});function ba(e){return function(){return e}}var ec,ai=I(()=>{ec=ba}),yr,Ho,yl=I(()=>{ya(),yr=function(){try{var e=Vo(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ho=yr}),jf,Lo,ns=I(()=>{ai(),yl(),hl(),jf=Ho?function(e,t){return Ho(e,"toString",{configurable:!0,enumerable:!1,value:ec(t),writable:!0})}:Qi,Lo=jf}),Of,Tf,tc=I(()=>{ns(),Ju(),Of=rs(Lo),Tf=Of});function Fm(e,t,r,o){for(var i=e.length,s=r+(o?1:-1);o?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var os,rc=I(()=>{os=Fm});function nc(e){return e!==e}var Af,Df=I(()=>{Af=nc});function zf(e,t,r){for(var o=r-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}var as,jr=I(()=>{as=zf});function Mm(e,t,r){return t===t?as(e,t,r):os(e,Af,r)}var is,oc=I(()=>{rc(),Df(),jr(),is=Mm});function Bf(e,t){var r=e==null?0:e.length;return!!r&&is(e,t,0)>-1}var Hr,Um=I(()=>{oc(),Hr=Bf});function Vm(e,t){var r=typeof e;return t=t==null?Nf:t,!!t&&(r=="number"||r!="symbol"&&ac.test(e))&&e>-1&&e%1==0&&e<t}var Nf,ac,ss,ur=I(()=>{Nf=9007199254740991,ac=/^(?:0|[1-9]\d*)$/,ss=Vm});function ls(e,t,r){t=="__proto__"&&Ho?Ho(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ko,wa=I(()=>{yl(),Ko=ls});function Rf(e,t){return e===t||e!==e&&t!==t}var It,ii=I(()=>{It=Rf});function Hm(e,t,r){var o=e[t];(!(sc.call(e,t)&&It(o,r))||r===void 0&&!(t in e))&&Ko(e,t,r)}var ic,sc,lc,Lm=I(()=>{wa(),ii(),ic=Object.prototype,sc=ic.hasOwnProperty,lc=Hm});function bl(e,t,r){return t=us(t===void 0?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=us(o.length-t,0),u=Array(s);++i<s;)u[i]=o[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=o[i];return c[t]=r(u),xf(e,this,c)}}var us,Ff,Km=I(()=>{Sf(),us=Math.max,Ff=bl});function Mf(e,t){return Tf(Ff(e,t,Qi),e+"")}var uc,Uf=I(()=>{hl(),Km(),tc(),uc=Mf});function D(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=W}var W,se,Ie=I(()=>{W=9007199254740991,se=D});function ht(e){return e!=null&&se(e.length)&&!Zu(e)}var Pt,br=I(()=>{ml(),Ie(),Pt=ht});function Yn(e,t,r){if(!Zn(r))return!1;var o=typeof t;return(o=="number"?Pt(r)&&ss(t,r.length):o=="string"&&t in r)?It(r[t],e):!1}var wl,si=I(()=>{ii(),br(),ur(),fa(),wl=Yn});function cs(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qm;return e===r}var qm,Vy,GE=I(()=>{qm=Object.prototype,Vy=cs});function ZE(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var Hy,XE=I(()=>{Hy=ZE});function YE(e){return go(e)&&mo(e)==Ly}var Ly,kl,QE=I(()=>{Gn(),ri(),Ly="[object Arguments]",kl=YE}),Wm,Vf,Ky,$m,Hf,Gm=I(()=>{QE(),ri(),Wm=Object.prototype,Vf=Wm.hasOwnProperty,Ky=Wm.propertyIsEnumerable,$m=kl(function(){return arguments}())?kl:function(e){return go(e)&&Vf.call(e,"callee")&&!Ky.call(e,"callee")},Hf=$m});function Zm(){return!1}var qy,JE=I(()=>{qy=Zm}),Xm,Ym,Qm,Lf,Wy,$y,Kf,Jm=I(()=>{mn(),JE(),Xm=nt&&!nt.nodeType&&nt,Ym=Xm&&!0&&dt&&!dt.nodeType&&dt,Qm=Ym&&Ym.exports===Xm,Lf=Qm?Vr.Buffer:void 0,Wy=Lf?Lf.isBuffer:void 0,$y=Wy||qy,Kf=$y});function eP(e){return go(e)&&se(e.length)&&!!$t[mo(e)]}var Gy,eg,tg,Zy,rg,Xy,Yy,cc,Qy,Jy,eb,tb,rb,nb,ob,ab,ib,sb,lb,ub,cb,db,fb,pb,$t,hb,tP=I(()=>{Gn(),Ie(),ri(),Gy="[object Arguments]",eg="[object Array]",tg="[object Boolean]",Zy="[object Date]",rg="[object Error]",Xy="[object Function]",Yy="[object Map]",cc="[object Number]",Qy="[object Object]",Jy="[object RegExp]",eb="[object Set]",tb="[object String]",rb="[object WeakMap]",nb="[object ArrayBuffer]",ob="[object DataView]",ab="[object Float32Array]",ib="[object Float64Array]",sb="[object Int8Array]",lb="[object Int16Array]",ub="[object Int32Array]",cb="[object Uint8Array]",db="[object Uint8ClampedArray]",fb="[object Uint16Array]",pb="[object Uint32Array]",$t={},$t[ab]=$t[ib]=$t[sb]=$t[lb]=$t[ub]=$t[cb]=$t[db]=$t[fb]=$t[pb]=!0,$t[Gy]=$t[eg]=$t[nb]=$t[tg]=$t[ob]=$t[Zy]=$t[rg]=$t[Xy]=$t[Yy]=$t[cc]=$t[Qy]=$t[Jy]=$t[eb]=$t[tb]=$t[rb]=!1,hb=eP});function rP(e){return function(t){return e(t)}}var qf,ng=I(()=>{qf=rP}),og,_l,Gt,Wf,mb,ag,ig=I(()=>{Ud(),og=nt&&!nt.nodeType&&nt,_l=og&&!0&&dt&&!dt.nodeType&&dt,Gt=_l&&_l.exports===og,Wf=Gt&&Uu.process,mb=function(){try{var e=_l&&_l.require&&_l.require("util").types;return e||Wf&&Wf.binding&&Wf.binding("util")}catch(t){}}(),ag=mb}),$f,xl,sg,Gf=I(()=>{tP(),ng(),ig(),$f=ag&&ag.isTypedArray,xl=$f?qf($f):hb,sg=xl});function nP(e,t){var r=Zr(e),o=!r&&Hf(e),i=!r&&!o&&Kf(e),s=!r&&!o&&!i&&sg(e),u=r||o||i||s,c=u?Hy(e.length,String):[],f=c.length;for(var p in e)(t||lg.call(e,p))&&!(u&&(p=="length"||i&&(p=="offset"||p=="parent")||s&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||ss(p,f)))&&c.push(p);return c}var ds,lg,gb,vb=I(()=>{XE(),Gm(),Dn(),Jm(),ur(),Gf(),ds=Object.prototype,lg=ds.hasOwnProperty,gb=nP});function oP(e,t){return function(r){return e(t(r))}}var ug,yb=I(()=>{ug=oP}),cg,bb,wb=I(()=>{yb(),cg=ug(Object.keys,Object),bb=cg});function aP(e){if(!Vy(e))return bb(e);var t=[];for(var r in Object(e))_b.call(e,r)&&r!="constructor"&&t.push(r);return t}var kb,_b,xb,iP=I(()=>{GE(),wb(),kb=Object.prototype,_b=kb.hasOwnProperty,xb=aP});function sP(e){return Pt(e)?gb(e):xb(e)}var Zf,fs=I(()=>{vb(),iP(),br(),Zf=sP});function lP(e,t){if(Zr(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ca(e)?!0:Eb.test(e)||!Sb.test(e)||t!=null&&e in Object(t)}var Sb,Eb,Xf,dg=I(()=>{Dn(),Zi(),Sb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eb=/^\w*$/,Xf=lP}),Pb,Sl,El=I(()=>{ya(),Pb=Vo(Object,"create"),Sl=Pb});function uP(){this.__data__=Sl?Sl(null):{},this.size=0}var fg,cP=I(()=>{El(),fg=uP});function pg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Cb,dP=I(()=>{Cb=pg});function fP(e){var t=this.__data__;if(Sl){var r=t[e];return r===hg?void 0:r}return jb.call(t,e)?t[e]:void 0}var hg,Ib,jb,Ob,pP=I(()=>{El(),hg="__lodash_hash_undefined__",Ib=Object.prototype,jb=Ib.hasOwnProperty,Ob=fP});function hP(e){var t=this.__data__;return Sl?t[e]!==void 0:Tb.call(t,e)}var mg,Tb,Ab,mP=I(()=>{El(),mg=Object.prototype,Tb=mg.hasOwnProperty,Ab=hP});function gP(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Sl&&t===void 0?Db:t,this}var Db,zb,vP=I(()=>{El(),Db="__lodash_hash_undefined__",zb=gP});function Pl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}var gg,yP=I(()=>{cP(),dP(),pP(),mP(),vP(),Pl.prototype.clear=fg,Pl.prototype.delete=Cb,Pl.prototype.get=Ob,Pl.prototype.has=Ab,Pl.prototype.set=zb,gg=Pl});function bP(){this.__data__=[],this.size=0}var Yf,wP=I(()=>{Yf=bP});function kP(e,t){for(var r=e.length;r--;)if(It(e[r][0],t))return r;return-1}var Cl,Qf=I(()=>{ii(),Cl=kP});function _P(e){var t=this.__data__,r=Cl(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():Nb.call(t,r,1),--this.size,!0}var Bb,Nb,Rb,xP=I(()=>{Qf(),Bb=Array.prototype,Nb=Bb.splice,Rb=_P});function vg(e){var t=this.__data__,r=Cl(t,e);return r<0?void 0:t[r][1]}var Jf,SP=I(()=>{Qf(),Jf=vg});function Fb(e){return Cl(this.__data__,e)>-1}var yg,Mb=I(()=>{Qf(),yg=Fb});function EP(e,t){var r=this.__data__,o=Cl(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var bg,Ub=I(()=>{Qf(),bg=EP});function Il(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}var dc,ep=I(()=>{wP(),xP(),SP(),Mb(),Ub(),Il.prototype.clear=Yf,Il.prototype.delete=Rb,Il.prototype.get=Jf,Il.prototype.has=yg,Il.prototype.set=bg,dc=Il}),Vb,jl,wg=I(()=>{ya(),mn(),Vb=Vo(Vr,"Map"),jl=Vb});function PP(){this.size=0,this.__data__={hash:new gg,map:new(jl||dc),string:new gg}}var Hb,CP=I(()=>{yP(),ep(),wg(),Hb=PP});function IP(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Lb,Kb=I(()=>{Lb=IP});function jP(e,t){var r=e.__data__;return Lb(t)?r[typeof t=="string"?"string":"hash"]:r.map}var fc,tp=I(()=>{Kb(),fc=jP});function OP(e){var t=fc(this,e).delete(e);return this.size-=t?1:0,t}var qb,TP=I(()=>{tp(),qb=OP});function AP(e){return fc(this,e).get(e)}var Wb,DP=I(()=>{tp(),Wb=AP});function zP(e){return fc(this,e).has(e)}var $b,Ol=I(()=>{tp(),$b=zP});function pc(e,t){var r=fc(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var Gb,BP=I(()=>{tp(),Gb=pc});function Tl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}var hc,rp=I(()=>{CP(),TP(),DP(),Ol(),BP(),Tl.prototype.clear=Hb,Tl.prototype.delete=qb,Tl.prototype.get=Wb,Tl.prototype.has=$b,Tl.prototype.set=Gb,hc=Tl});function np(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zb);var r=function(){var o=arguments,i=t?t.apply(this,o):o[0],s=r.cache;if(s.has(i))return s.get(i);var u=e.apply(this,o);return r.cache=s.set(i,u)||s,u};return r.cache=new(np.Cache||hc),r}var Zb,op,kg=I(()=>{rp(),Zb="Expected a function",np.Cache=hc,op=np});function NP(e){var t=op(e,function(o){return r.size===Xb&&r.clear(),o}),r=t.cache;return t}var Xb,Yb,RP=I(()=>{kg(),Xb=500,Yb=NP}),Qb,_g,Jb,e1,t1=I(()=>{RP(),Qb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_g=/\\(\\)?/g,Jb=Yb(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qb,function(r,o,i,s){t.push(i?s.replace(_g,"$1"):o||r)}),t}),e1=Jb});function FP(e){return e==null?"":qu(e)}var Al,r1=I(()=>{xm(),Al=FP});function MP(e,t){return Zr(e)?e:Xf(e,t)?[e]:e1(Al(e))}var ap,xg=I(()=>{Dn(),dg(),t1(),r1(),ap=MP});function n1(e){if(typeof e=="string"||ca(e))return e;var t=e+"";return t=="0"&&1/e==-o1?"-0":t}var o1,Dl,mc=I(()=>{Zi(),o1=1/0,Dl=n1});function a1(e,t){t=ap(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[Dl(t[r++])];return r&&r==o?e:void 0}var ip,gc=I(()=>{xg(),mc(),ip=a1});function UP(e,t,r){var o=e==null?void 0:ip(e,t);return o===void 0?r:o}var ps,vc=I(()=>{gc(),ps=UP});function Sg(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e}var Eg,sp=I(()=>{Eg=Sg});function VP(e){return Zr(e)||Hf(e)||!!(yc&&e&&e[yc])}var yc,Pg,HP=I(()=>{Tn(),Gm(),Dn(),yc=On?On.isConcatSpreadable:void 0,Pg=VP});function Cg(e,t,r,o,i){var s=-1,u=e.length;for(r||(r=Pg),i||(i=[]);++s<u;){var c=e[s];t>0&&r(c)?t>1?Cg(c,t-1,r,o,i):Eg(i,c):o||(i[i.length]=c)}return i}var Ig,i1=I(()=>{sp(),HP(),Ig=Cg}),jg,s1,LP=I(()=>{yb(),jg=ug(Object.getPrototypeOf,Object),s1=jg});function KP(e){if(!go(e)||mo(e)!=l1)return!1;var t=s1(e);if(t===null)return!0;var r=c1.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hs.call(r)==d1}var l1,u1,li,hs,c1,d1,lp,f1=I(()=>{Gn(),LP(),ri(),l1="[object Object]",u1=Function.prototype,li=Object.prototype,hs=u1.toString,c1=li.hasOwnProperty,d1=hs.call(Object),lp=KP});function qP(e){var t=Math[e];return function(r,o){if(r=vo(r),o=o==null?0:p1(ha(o),292),o&&bc(r)){var i=(Al(r)+"e").split("e"),s=t(i[0]+"e"+(+i[1]+o));return i=(Al(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-o))}return t(r)}}var bc,p1,up,WP=I(()=>{mn(),fl(),Yi(),r1(),bc=Vr.isFinite,p1=Math.min,up=qP});function $P(e,t,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),t!==void 0&&(e=e>=t?e:t)),e}var h1,GP=I(()=>{h1=$P});function ZP(e,t,r){return r===void 0&&(r=t,t=void 0),r!==void 0&&(r=vo(r),r=r===r?r:0),t!==void 0&&(t=vo(t),t=t===t?t:0),h1(vo(e),t,r)}var Xt,wc=I(()=>{GP(),Yi(),Xt=ZP});function XP(){this.__data__=new dc,this.size=0}var m1,YP=I(()=>{ep(),m1=XP});function QP(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var g1,JP=I(()=>{g1=QP});function e2(e){return this.__data__.get(e)}var v1,t2=I(()=>{v1=e2});function r2(e){return this.__data__.has(e)}var y1,n2=I(()=>{y1=r2});function o2(e,t){var r=this.__data__;if(r instanceof dc){var o=r.__data__;if(!jl||o.length<b1-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new hc(o)}return r.set(e,t),this.size=r.size,this}var b1,w1,a2=I(()=>{ep(),wg(),rp(),b1=200,w1=o2});function zl(e){var t=this.__data__=new dc(e);this.size=t.size}var kc,k1=I(()=>{ep(),YP(),JP(),t2(),n2(),a2(),zl.prototype.clear=m1,zl.prototype.delete=g1,zl.prototype.get=v1,zl.prototype.has=y1,zl.prototype.set=w1,kc=zl});function i2(e,t){for(var r=-1,o=e==null?0:e.length,i=0,s=[];++r<o;){var u=e[r];t(u,r,e)&&(s[i++]=u)}return s}var _1,s2=I(()=>{_1=i2});function l2(){return[]}var x1,u2=I(()=>{x1=l2}),S1,E1,Og,P1,C1,I1=I(()=>{s2(),u2(),S1=Object.prototype,E1=S1.propertyIsEnumerable,Og=Object.getOwnPropertySymbols,P1=Og?function(e){return e==null?[]:(e=Object(e),_1(Og(e),function(t){return E1.call(e,t)}))}:x1,C1=P1});function c2(e,t,r){var o=t(e);return Zr(e)?o:Eg(o,r(e))}var j1,d2=I(()=>{sp(),Dn(),j1=c2});function f2(e){return j1(e,Zf,C1)}var Tg,O1=I(()=>{d2(),I1(),fs(),Tg=f2}),T1,cp,p2=I(()=>{ya(),mn(),T1=Vo(Vr,"DataView"),cp=T1}),A1,dp,D1=I(()=>{ya(),mn(),A1=Vo(Vr,"Promise"),dp=A1}),z1,ms,B1=I(()=>{ya(),mn(),z1=Vo(Vr,"Set"),ms=z1}),Ag,Dg,zg,Bg,Ng,fp,N1,R1,F1,M1,U1,ui,Rg,h2=I(()=>{p2(),wg(),D1(),B1(),Nm(),Gn(),Xu(),Ag="[object Map]",Dg="[object Object]",zg="[object Promise]",Bg="[object Set]",Ng="[object WeakMap]",fp="[object DataView]",N1=vn(cp),R1=vn(jl),F1=vn(dp),M1=vn(ms),U1=vn(vl),ui=mo,(cp&&ui(new cp(new ArrayBuffer(1)))!=fp||jl&&ui(new jl)!=Ag||dp&&ui(dp.resolve())!=zg||ms&&ui(new ms)!=Bg||vl&&ui(new vl)!=Ng)&&(ui=function(e){var t=mo(e),r=t==Dg?e.constructor:void 0,o=r?vn(r):"";if(o)switch(o){case N1:return fp;case R1:return Ag;case F1:return zg;case M1:return Bg;case U1:return Ng}return t}),Rg=ui}),V1,Fg,m2=I(()=>{mn(),V1=Vr.Uint8Array,Fg=V1});function g2(e){return this.__data__.set(e,H1),this}var H1,L1,v2=I(()=>{H1="__lodash_hash_undefined__",L1=g2});function y2(e){return this.__data__.has(e)}var Lt,pp=I(()=>{Lt=y2});function hp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hc;++t<r;)this.add(e[t])}var Mg,K1=I(()=>{rp(),v2(),pp(),hp.prototype.add=hp.prototype.push=L1,hp.prototype.has=Lt,Mg=hp});function b2(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}var q1,w2=I(()=>{q1=b2});function k2(e,t){return e.has(t)}var Ug,W1=I(()=>{Ug=k2});function _2(e,t,r,o,i,s){var u=r&_c,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var p=s.get(e),v=s.get(t);if(p&&v)return p==t&&v==e;var b=-1,y=!0,g=r&$1?new Mg:void 0;for(s.set(e,t),s.set(t,e);++b<c;){var k=e[b],w=t[b];if(o)var x=u?o(w,k,b,t,e,s):o(k,w,b,e,t,s);if(x!==void 0){if(x)continue;y=!1;break}if(g){if(!q1(t,function(E,P){if(!Ug(g,P)&&(k===E||i(k,E,r,o,s)))return g.push(P)})){y=!1;break}}else if(!(k===w||i(k,w,r,o,s))){y=!1;break}}return s.delete(e),s.delete(t),y}var _c,$1,Vg,G1=I(()=>{K1(),w2(),W1(),_c=1,$1=2,Vg=_2});function x2(e){var t=-1,r=Array(e.size);return e.forEach(function(o,i){r[++t]=[i,o]}),r}var Z1,S2=I(()=>{Z1=x2});function E2(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var mp,gp=I(()=>{mp=E2});function P2(e,t,r,o,i,s,u){switch(r){case lw:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sw:return!(e.byteLength!=t.byteLength||!s(new Fg(e),new Fg(t)));case Q1:case J1:case rw:return It(+e,+t);case ew:return e.name==t.name&&e.message==t.message;case nw:case aw:return e==t+"";case tw:var c=Z1;case ow:var f=o&X1;if(c||(c=mp),e.size!=t.size&&!f)return!1;var p=u.get(e);if(p)return p==t;o|=Y1,u.set(e,t);var v=Vg(c(e),c(t),o,i,s,u);return u.delete(e),v;case iw:if(vp)return vp.call(e)==vp.call(t)}return!1}var X1,Y1,Q1,J1,ew,tw,rw,nw,ow,aw,iw,sw,lw,Hg,vp,uw,cw=I(()=>{Tn(),m2(),ii(),G1(),S2(),gp(),X1=1,Y1=2,Q1="[object Boolean]",J1="[object Date]",ew="[object Error]",tw="[object Map]",rw="[object Number]",nw="[object RegExp]",ow="[object Set]",aw="[object String]",iw="[object Symbol]",sw="[object ArrayBuffer]",lw="[object DataView]",Hg=On?On.prototype:void 0,vp=Hg?Hg.valueOf:void 0,uw=P2});function Lg(e,t,r,o,i,s){var u=r&dw,c=Tg(e),f=c.length,p=Tg(t),v=p.length;if(f!=v&&!u)return!1;for(var b=f;b--;){var y=c[b];if(!(u?y in t:pw.call(t,y)))return!1}var g=s.get(e),k=s.get(t);if(g&&k)return g==t&&k==e;var w=!0;s.set(e,t),s.set(t,e);for(var x=u;++b<f;){y=c[b];var E=e[y],P=t[y];if(o)var O=u?o(P,E,y,t,e,s):o(E,P,y,e,t,s);if(!(O===void 0?E===P||i(E,P,r,o,s):O)){w=!1;break}x||(x=y=="constructor")}if(w&&!x){var B=e.constructor,z=t.constructor;B!=z&&"constructor"in e&&"constructor"in t&&!(typeof B=="function"&&B instanceof B&&typeof z=="function"&&z instanceof z)&&(w=!1)}return s.delete(e),s.delete(t),w}var dw,fw,pw,hw,C2=I(()=>{O1(),dw=1,fw=Object.prototype,pw=fw.hasOwnProperty,hw=Lg});function I2(e,t,r,o,i,s){var u=Zr(e),c=Zr(t),f=u?yp:Rg(e),p=c?yp:Rg(t);f=f==Kg?Bl:f,p=p==Kg?Bl:p;var v=f==Bl,b=p==Bl,y=f==p;if(y&&Kf(e)){if(!Kf(t))return!1;u=!0,v=!1}if(y&&!v)return s||(s=new kc),u||sg(e)?Vg(e,t,r,o,i,s):uw(e,t,f,r,o,i,s);if(!(r&mw)){var g=v&&qg.call(e,"__wrapped__"),k=b&&qg.call(t,"__wrapped__");if(g||k){var w=g?e.value():e,x=k?t.value():t;return s||(s=new kc),i(w,x,r,o,s)}}return y?(s||(s=new kc),hw(e,t,r,o,i,s)):!1}var mw,Kg,yp,Bl,xc,qg,Wg,j2=I(()=>{k1(),G1(),cw(),C2(),h2(),Dn(),Jm(),Gf(),mw=1,Kg="[object Arguments]",yp="[object Array]",Bl="[object Object]",xc=Object.prototype,qg=xc.hasOwnProperty,Wg=I2});function gw(e,t,r,o,i){return e===t?!0:e==null||t==null||!go(e)&&!go(t)?e!==e&&t!==t:Wg(e,t,r,o,gw,i)}var bp,$g=I(()=>{j2(),ri(),bp=gw});function O2(e,t,r,o){var i=r.length,s=i,u=!o;if(e==null)return!s;for(e=Object(e);i--;){var c=r[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){c=r[i];var f=c[0],p=e[f],v=c[1];if(u&&c[2]){if(p===void 0&&!(f in e))return!1}else{var b=new kc;if(o)var y=o(p,v,f,e,t,b);if(!(y===void 0?bp(v,p,vw|yw,o,b):y))return!1}}return!0}var vw,yw,bw,T2=I(()=>{k1(),$g(),vw=1,yw=2,bw=O2});function ww(e){return e===e&&!Zn(e)}var Gg,kw=I(()=>{fa(),Gg=ww});function A2(e){for(var t=Zf(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,Gg(i)]}return t}var Zg,D2=I(()=>{kw(),fs(),Zg=A2});function z2(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Xg,_w=I(()=>{Xg=z2});function B2(e){var t=Zg(e);return t.length==1&&t[0][2]?Xg(t[0][0],t[0][1]):function(r){return r===e||bw(r,e,t)}}var xw,N2=I(()=>{T2(),D2(),_w(),xw=B2});function R2(e,t){return e!=null&&t in Object(e)}var Sw,F2=I(()=>{Sw=R2});function M2(e,t,r){t=ap(t,e);for(var o=-1,i=t.length,s=!1;++o<i;){var u=Dl(t[o]);if(!(s=e!=null&&r(e,u)))break;e=e[u]}return s||++o!=i?s:(i=e==null?0:e.length,!!i&&se(i)&&ss(u,i)&&(Zr(e)||Hf(e)))}var Ew,U2=I(()=>{xg(),Gm(),Dn(),ur(),Ie(),mc(),Ew=M2});function Pw(e,t){return e!=null&&Ew(e,t,Sw)}var Cw,V2=I(()=>{F2(),U2(),Cw=Pw});function H2(e,t){return Xf(e)&&Gg(t)?Xg(Dl(e),t):function(r){var o=ps(r,e);return o===void 0&&o===t?Cw(r,e):bp(t,o,Iw|jw)}}var Iw,jw,Ow,L2=I(()=>{$g(),vc(),V2(),dg(),kw(),_w(),mc(),Iw=1,jw=2,Ow=H2});function K2(e){return function(t){return t==null?void 0:t[e]}}var Tw,q2=I(()=>{Tw=K2});function W2(e){return function(t){return ip(t,e)}}var Aw,$2=I(()=>{gc(),Aw=W2});function Yg(e){return Xf(e)?Tw(Dl(e)):Aw(e)}var Dw,G2=I(()=>{q2(),$2(),dg(),mc(),Dw=Yg});function Z2(e){return typeof e=="function"?e:e==null?Qi:typeof e=="object"?Zr(e)?Ow(e[0],e[1]):xw(e):Dw(e)}var Nl,Sc=I(()=>{N2(),L2(),hl(),Dn(),G2(),Nl=Z2});function X2(e,t,r,o){for(var i=-1,s=e==null?0:e.length;++i<s;){var u=e[i];t(o,u,r(u),e)}return o}var zw,Y2=I(()=>{zw=X2});function Q2(e){return function(t,r,o){for(var i=-1,s=Object(t),u=o(t),c=u.length;c--;){var f=u[e?c:++i];if(r(s[f],f,s)===!1)break}return t}}var Bw,J2=I(()=>{Bw=Q2}),Nw,Rw,eC=I(()=>{J2(),Nw=Bw(),Rw=Nw});function tC(e,t){return e&&Rw(e,t,Zf)}var Qg,Fw=I(()=>{eC(),fs(),Qg=tC});function rC(e,t){return function(r,o){if(r==null)return r;if(!Pt(r))return e(r,o);for(var i=r.length,s=t?i:-1,u=Object(r);(t?s--:++s<i)&&o(u[s],s,u)!==!1;);return r}}var Jg,nC=I(()=>{br(),Jg=rC}),Mw,wp,Uw=I(()=>{Fw(),nC(),Mw=Jg(Qg),wp=Mw});function oC(e,t,r,o){return wp(e,function(i,s,u){t(o,i,r(i),u)}),o}var Vw,aC=I(()=>{Uw(),Vw=oC});function iC(e,t){return function(r,o){var i=Zr(r)?zw:Vw,s=t?t():{};return i(r,e,Nl(o,2),s)}}var Hw,ev=I(()=>{Y2(),aC(),Sc(),Dn(),Hw=iC}),kp,_p,Lw=I(()=>{mn(),kp=function(){return Vr.Date.now()},_p=kp});function Kw(e,t,r){var o,i,s,u,c,f,p=0,v=!1,b=!1,y=!0;if(typeof e!="function")throw new TypeError(tv);t=vo(t)||0,Zn(r)&&(v=!!r.leading,b="maxWait"in r,s=b?qw(vo(r.maxWait)||0,t):s,y="trailing"in r?!!r.trailing:y);function g(F){var Z=o,ee=i;return o=i=void 0,p=F,u=e.apply(ee,Z),u}function k(F){return p=F,c=setTimeout(E,t),v?g(F):u}function w(F){var Z=F-f,ee=F-p,K=t-Z;return b?rv(K,s-ee):K}function x(F){var Z=F-f,ee=F-p;return f===void 0||Z>=t||Z<0||b&&ee>=s}function E(){var F=_p();if(x(F))return P(F);c=setTimeout(E,w(F))}function P(F){return c=void 0,y&&o?g(F):(o=i=void 0,u)}function O(){c!==void 0&&clearTimeout(c),p=0,o=f=i=c=void 0}function B(){return c===void 0?u:P(_p())}function z(){var F=_p(),Z=x(F);if(o=arguments,i=this,f=F,Z){if(c===void 0)return k(f);if(b)return clearTimeout(c),c=setTimeout(E,t),g(f)}return c===void 0&&(c=setTimeout(E,t)),u}return z.cancel=O,z.flush=B,z}var tv,qw,rv,xp,Ww=I(()=>{fa(),Lw(),Yi(),tv="Expected a function",qw=Math.max,rv=Math.min,xp=Kw});function sC(e,t,r){for(var o=-1,i=e==null?0:e.length;++o<i;)if(r(t,e[o]))return!0;return!1}var $w,Gw=I(()=>{$w=sC});function lC(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gs,Sp=I(()=>{gs=lC});function Zw(e,t,r){var o=e==null?0:e.length;if(!o)return-1;var i=r==null?0:ha(r);return i<0&&(i=Xw(o+i,0)),os(e,Nl(t,3),i)}var Xw,nv,uC=I(()=>{rc(),Sc(),fl(),Xw=Math.max,nv=Zw});function cC(e,t,r){var o=e==null?0:e.length;if(!o)return-1;var i=o-1;return r!==void 0&&(i=ha(r),i=r<0?Rl(o+i,0):Yw(i,o-1)),os(e,Nl(t,3),i,!0)}var Rl,Yw,ov,dC=I(()=>{rc(),Sc(),fl(),Rl=Math.max,Yw=Math.min,ov=cC});function fC(e,t){var r=-1,o=Pt(e)?Array(e.length):[];return wp(e,function(i,s,u){o[++r]=t(i,s,u)}),o}var Qw,Ep=I(()=>{Uw(),br(),Qw=fC});function av(e,t,r){return e>=ek(t,r)&&e<Jw(t,r)}var Jw,ek,Kt,zn=I(()=>{Jw=Math.max,ek=Math.min,Kt=av});function Bn(e,t,r){return t=cl(t),r===void 0?(r=t,t=0):r=cl(r),e=vo(e),Kt(e,t,r)}var ka,Zt=I(()=>{zn(),af(),Yi(),ka=Bn});function _a(e){return typeof e=="number"&&e==ha(e)}var Pp,tk=I(()=>{fl(),Pp=_a}),rk,Ec,pC=I(()=>{wa(),ev(),rk=Hw(function(e,t,r){Ko(e,r,t)}),Ec=rk});function hC(e,t){var r={};return t=Nl(t,3),Qg(e,function(o,i,s){Ko(r,i,t(o,i,s))}),r}var ci,iv=I(()=>{wa(),Fw(),Sc(),ci=hC});function Cp(e,t,r,o){if(!Zn(e))return e;t=ap(t,e);for(var i=-1,s=t.length,u=s-1,c=e;c!=null&&++i<s;){var f=Dl(t[i]),p=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(i!=u){var v=c[f];p=o?o(v,f,c):void 0,p===void 0&&(p=Zn(v)?v:ss(t[i+1])?[]:{})}lc(c,f,p),c=c[f]}return e}var sv,mC=I(()=>{Lm(),xg(),ur(),fa(),mc(),sv=Cp});function nk(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var lv,ok=I(()=>{lv=nk});function gC(e,t){if(e!==t){var r=e!==void 0,o=e===null,i=e===e,s=ca(e),u=t!==void 0,c=t===null,f=t===t,p=ca(t);if(!c&&!p&&!s&&e>t||s&&u&&f&&!c&&!p||o&&u&&f||!r&&f||!i)return 1;if(!o&&!s&&!p&&e<t||p&&r&&i&&!o&&!s||c&&r&&i||!u&&i||!f)return-1}return 0}var ak,ik=I(()=>{Zi(),ak=gC});function vC(e,t,r){for(var o=-1,i=e.criteria,s=t.criteria,u=i.length,c=r.length;++o<u;){var f=ak(i[o],s[o]);if(f){if(o>=c)return f;var p=r[o];return f*(p=="desc"?-1:1)}}return e.index-t.index}var sk,Pc=I(()=>{ik(),sk=vC});function lk(e,t,r){t.length?t=ni(t,function(s){return Zr(s)?function(u){return ip(u,s.length===1?s[0]:s)}:s}):t=[Qi];var o=-1;t=ni(t,qf(Nl));var i=Qw(e,function(s,u,c){var f=ni(t,function(p){return p(s)});return{criteria:f,index:++o,value:s}});return lv(i,function(s,u){return sk(s,u,r)})}var uk,yC=I(()=>{Lu(),gc(),Sc(),Ep(),ok(),ng(),Pc(),hl(),Dn(),uk=lk});function Or(e,t,r,o){for(var i=r-1,s=e.length;++i<s;)if(o(e[i],t))return i;return-1}var xa,bC=I(()=>{xa=Or});function Ip(e,t,r,o){var i=o?xa:is,s=-1,u=t.length,c=e;for(e===t&&(t=es(t)),r&&(c=ni(e,qf(r)));++s<u;)for(var f=0,p=t[s],v=r?r(p):p;(f=i(c,v,f,o))>-1;)c!==e&&uv.call(c,f,1),uv.call(e,f,1);return e}var ck,uv,dk,wC=I(()=>{Lu(),oc(),bC(),ng(),Cf(),ck=Array.prototype,uv=ck.splice,dk=Ip});function cv(e,t){return e&&e.length&&t&&t.length?dk(e,t):e}var fk,jp=I(()=>{wC(),fk=cv}),vs,pk,kC=I(()=>{Uf(),jp(),vs=uc(fk),pk=vs}),dv,Op,_C=I(()=>{WP(),dv=up("round"),Op=dv});function Tp(e,t,r){return e==null?e:sv(e,t,r)}var ys,Ap=I(()=>{mC(),ys=Tp}),hk,mk,xC=I(()=>{i1(),yC(),Uf(),si(),hk=uc(function(e,t){if(e==null)return[];var r=t.length;return r>1&&wl(e,t[0],t[1])?t=[]:r>2&&wl(t[0],t[1],t[2])&&(t=[t[0]]),uk(e,Ig(t,1),[])}),mk=hk}),gk,vk,yk,SC=I(()=>{B1(),Pf(),gp(),gk=1/0,vk=ms&&1/mp(new ms([,-0]))[1]==gk?function(e){return new ms(e)}:Qu,yk=vk});function bs(e,t,r){var o=-1,i=Hr,s=e.length,u=!0,c=[],f=c;if(r)u=!1,i=$w;else if(s>=di){var p=t?null:yk(e);if(p)return mp(p);u=!1,i=Ug,f=new Mg}else f=t?[]:c;e:for(;++o<s;){var v=e[o],b=t?t(v):v;if(v=r||v!==0?v:0,u&&b===b){for(var y=f.length;y--;)if(f[y]===b)continue e;t&&f.push(b),c.push(v)}else i(f,b,r)||(f!==c&&f.push(b),c.push(v))}return c}var di,ws,fv=I(()=>{K1(),Um(),Gw(),W1(),SC(),gp(),di=200,ws=bs});function bk(e){return e&&e.length?ws(e):[]}var fi,wk=I(()=>{fv(),fi=bk}),_r=I(()=>{wc(),Ww(),uC(),Zt(),tk(),f1(),Sp(),iv(),kg(),_C(),wk()}),pv=st((e,t)=>{var r;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:vr):o=>(r||(r=Promise.resolve())).then(o).catch(i=>setTimeout(()=>{throw i},0))}),EC=st(e=>{var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;function g(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(V,q,ge){this.props=V,this.context=q,this.refs=x,this.updater=ge||k}E.prototype.isReactComponent={},E.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=E.prototype;function O(V,q,ge){this.props=V,this.context=q,this.refs=x,this.updater=ge||k}var B=O.prototype=new P;B.constructor=O,w(B,E.prototype),B.isPureReactComponent=!0;var z=Array.isArray,F=Object.prototype.hasOwnProperty,Z={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function K(V,q,ge){var we,_e={},fe=null,Ge=null;if(q!=null)for(we in q.ref!==void 0&&(Ge=q.ref),q.key!==void 0&&(fe=""+q.key),q)F.call(q,we)&&!ee.hasOwnProperty(we)&&(_e[we]=q[we]);var Oe=arguments.length-2;if(Oe===1)_e.children=ge;else if(1<Oe){for(var qe=Array(Oe),tt=0;tt<Oe;tt++)qe[tt]=arguments[tt+2];_e.children=qe}if(V&&V.defaultProps)for(we in Oe=V.defaultProps,Oe)_e[we]===void 0&&(_e[we]=Oe[we]);return{$$typeof:t,type:V,key:fe,ref:Ge,props:_e,_owner:Z.current}}function ne(V,q){return{$$typeof:t,type:V.type,key:q,ref:V.ref,props:V.props,_owner:V._owner}}function me(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function M(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return q[ge]})}var oe=/\/+/g;function T(V,q){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):q.toString(36)}function ue(V,q,ge,we,_e){var fe=typeof V;(fe==="undefined"||fe==="boolean")&&(V=null);var Ge=!1;if(V===null)Ge=!0;else switch(fe){case"string":case"number":Ge=!0;break;case"object":switch(V.$$typeof){case t:case r:Ge=!0}}if(Ge)return Ge=V,_e=_e(Ge),V=we===""?"."+T(Ge,0):we,z(_e)?(ge="",V!=null&&(ge=V.replace(oe,"$&/")+"/"),ue(_e,q,ge,"",function(tt){return tt})):_e!=null&&(me(_e)&&(_e=ne(_e,ge+(!_e.key||Ge&&Ge.key===_e.key?"":(""+_e.key).replace(oe,"$&/")+"/")+V)),q.push(_e)),1;if(Ge=0,we=we===""?".":we+":",z(V))for(var Oe=0;Oe<V.length;Oe++){fe=V[Oe];var qe=we+T(fe,Oe);Ge+=ue(fe,q,ge,qe,_e)}else if(qe=g(V),typeof qe=="function")for(V=qe.call(V),Oe=0;!(fe=V.next()).done;)fe=fe.value,qe=we+T(fe,Oe++),Ge+=ue(fe,q,ge,qe,_e);else if(fe==="object")throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Re(V,q,ge){if(V==null)return V;var we=[],_e=0;return ue(V,we,"","",function(fe){return q.call(ge,fe,_e++)}),we}function te(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var Y={current:null},de={transition:null},Te={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:de,ReactCurrentOwner:Z};e.Children={map:Re,forEach:function(V,q,ge){Re(V,function(){q.apply(this,arguments)},ge)},count:function(V){var q=0;return Re(V,function(){q++}),q},toArray:function(V){return Re(V,function(q){return q})||[]},only:function(V){if(!me(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},e.Component=E,e.Fragment=o,e.Profiler=s,e.PureComponent=O,e.StrictMode=i,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,e.cloneElement=function(V,q,ge){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var we=w({},V.props),_e=V.key,fe=V.ref,Ge=V._owner;if(q!=null){if(q.ref!==void 0&&(fe=q.ref,Ge=Z.current),q.key!==void 0&&(_e=""+q.key),V.type&&V.type.defaultProps)var Oe=V.type.defaultProps;for(qe in q)F.call(q,qe)&&!ee.hasOwnProperty(qe)&&(we[qe]=q[qe]===void 0&&Oe!==void 0?Oe[qe]:q[qe])}var qe=arguments.length-2;if(qe===1)we.children=ge;else if(1<qe){Oe=Array(qe);for(var tt=0;tt<qe;tt++)Oe[tt]=arguments[tt+2];we.children=Oe}return{$$typeof:t,type:V.type,key:_e,ref:fe,props:we,_owner:Ge}},e.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:u,_context:V},V.Consumer=V},e.createElement=K,e.createFactory=function(V){var q=K.bind(null,V);return q.type=V,q},e.createRef=function(){return{current:null}},e.forwardRef=function(V){return{$$typeof:f,render:V}},e.isValidElement=me,e.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:te}},e.memo=function(V,q){return{$$typeof:v,type:V,compare:q===void 0?null:q}},e.startTransition=function(V){var q=de.transition;de.transition={};try{V()}finally{de.transition=q}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(V,q){return Y.current.useCallback(V,q)},e.useContext=function(V){return Y.current.useContext(V)},e.useDebugValue=function(){},e.useDeferredValue=function(V){return Y.current.useDeferredValue(V)},e.useEffect=function(V,q){return Y.current.useEffect(V,q)},e.useId=function(){return Y.current.useId()},e.useImperativeHandle=function(V,q,ge){return Y.current.useImperativeHandle(V,q,ge)},e.useInsertionEffect=function(V,q){return Y.current.useInsertionEffect(V,q)},e.useLayoutEffect=function(V,q){return Y.current.useLayoutEffect(V,q)},e.useMemo=function(V,q){return Y.current.useMemo(V,q)},e.useReducer=function(V,q,ge){return Y.current.useReducer(V,q,ge)},e.useRef=function(V){return Y.current.useRef(V)},e.useState=function(V){return Y.current.useState(V)},e.useSyncExternalStore=function(V,q,ge){return Y.current.useSyncExternalStore(V,q,ge)},e.useTransition=function(){return Y.current.useTransition()},e.version="18.2.0"}),ae=st((e,t)=>{t.exports=EC()}),kk=st(e=>{function t(Y,de){var Te=Y.length;Y.push(de);e:for(;0<Te;){var V=Te-1>>>1,q=Y[V];if(0<i(q,de))Y[V]=de,Y[Te]=q,Te=V;else break e}}function r(Y){return Y.length===0?null:Y[0]}function o(Y){if(Y.length===0)return null;var de=Y[0],Te=Y.pop();if(Te!==de){Y[0]=Te;e:for(var V=0,q=Y.length,ge=q>>>1;V<ge;){var we=2*(V+1)-1,_e=Y[we],fe=we+1,Ge=Y[fe];if(0>i(_e,Te))fe<q&&0>i(Ge,_e)?(Y[V]=Ge,Y[fe]=Te,V=fe):(Y[V]=_e,Y[we]=Te,V=we);else if(fe<q&&0>i(Ge,Te))Y[V]=Ge,Y[fe]=Te,V=fe;else break e}}return de}function i(Y,de){var Te=Y.sortIndex-de.sortIndex;return Te!==0?Te:Y.id-de.id}typeof performance=="object"&&typeof performance.now=="function"?(s=performance,e.unstable_now=function(){return s.now()}):(u=Date,c=u.now(),e.unstable_now=function(){return u.now()-c});var s,u,c,f=[],p=[],v=1,b=null,y=3,g=!1,k=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Y){for(var de=r(p);de!==null;){if(de.callback===null)o(p);else if(de.startTime<=Y)o(p),de.sortIndex=de.expirationTime,t(f,de);else break;de=r(p)}}function B(Y){if(w=!1,O(Y),!k)if(r(f)!==null)k=!0,Re(z);else{var de=r(p);de!==null&&te(B,de.startTime-Y)}}function z(Y,de){k=!1,w&&(w=!1,E(ee),ee=-1),g=!0;var Te=y;try{for(O(de),b=r(f);b!==null&&(!(b.expirationTime>de)||Y&&!me());){var V=b.callback;if(typeof V=="function"){b.callback=null,y=b.priorityLevel;var q=V(b.expirationTime<=de);de=e.unstable_now(),typeof q=="function"?b.callback=q:b===r(f)&&o(f),O(de)}else o(f);b=r(f)}if(b!==null)var ge=!0;else{var we=r(p);we!==null&&te(B,we.startTime-de),ge=!1}return ge}finally{b=null,y=Te,g=!1}}var F=!1,Z=null,ee=-1,K=5,ne=-1;function me(){return!(e.unstable_now()-ne<K)}function M(){if(Z!==null){var Y=e.unstable_now();ne=Y;var de=!0;try{de=Z(!0,Y)}finally{de?oe():(F=!1,Z=null)}}else F=!1}var oe;typeof P=="function"?oe=function(){P(M)}:typeof MessageChannel!="undefined"?(T=new MessageChannel,ue=T.port2,T.port1.onmessage=M,oe=function(){ue.postMessage(null)}):oe=function(){x(M,0)};var T,ue;function Re(Y){Z=Y,F||(F=!0,oe())}function te(Y,de){ee=x(function(){Y(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){k||g||(k=!0,Re(z))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var Te=y;y=de;try{return Y()}finally{y=Te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,de){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Te=y;y=Y;try{return de()}finally{y=Te}},e.unstable_scheduleCallback=function(Y,de,Te){var V=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?V+Te:V):Te=V,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Te+q,Y={id:v++,callback:de,priorityLevel:Y,startTime:Te,expirationTime:q,sortIndex:-1},Te>V?(Y.sortIndex=Te,t(p,Y),r(f)===null&&Y===r(p)&&(w?(E(ee),ee=-1):w=!0,te(B,Te-V))):(Y.sortIndex=q,t(f,Y),k||g||(k=!0,Re(z))),Y},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(Y){var de=y;return function(){var Te=y;y=de;try{return Y.apply(this,arguments)}finally{y=Te}}}}),_k=st((e,t)=>{t.exports=kk()}),PC=st(e=>{var t=ae(),r=_k();function o(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function u(n,a){c(n,a),c(n+"Capture",a)}function c(n,a){for(s[n]=a,n=0;n<a.length;n++)i.add(a[n])}var f=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},y={};function g(n){return p.call(y,n)?!0:p.call(b,n)?!1:v.test(n)?y[n]=!0:(b[n]=!0,!1)}function k(n,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,a,d,m){if(a===null||typeof a=="undefined"||k(n,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(n,a,d,m,S,C,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=S,this.mustUseProperty=d,this.propertyName=n,this.type=a,this.sanitizeURL=C,this.removeEmptyString=R}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new x(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];E[a]=new x(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new x(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new x(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new x(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new x(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new x(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new x(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new x(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(P,O);E[a]=new x(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(P,O);E[a]=new x(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(P,O);E[a]=new x(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new x(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new x(n,1,!1,n.toLowerCase(),null,!0,!0)});function B(n,a,d,m){var S=E.hasOwnProperty(a)?E[a]:null;(S!==null?S.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,d,S,m)&&(d=null),m||S===null?g(a)&&(d===null?n.removeAttribute(a):n.setAttribute(a,""+d)):S.mustUseProperty?n[S.propertyName]=d===null?S.type===3?!1:"":d:(a=S.attributeName,m=S.attributeNamespace,d===null?n.removeAttribute(a):(S=S.type,d=S===3||S===4&&d===!0?"":""+d,m?n.setAttributeNS(m,a,d):n.setAttribute(a,d))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),M=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),de=Symbol.iterator;function Te(n){return n===null||typeof n!="object"?null:(n=de&&n[de]||n["@@iterator"],typeof n=="function"?n:null)}var V=Object.assign,q;function ge(n){if(q===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+n}var we=!1;function _e(n,a){if(!n||we)return"";we=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ce){var m=Ce}Reflect.construct(n,[],a)}else{try{a.call()}catch(Ce){m=Ce}n.call(a.prototype)}else{try{throw Error()}catch(Ce){m=Ce}n()}}catch(Ce){if(Ce&&m&&typeof Ce.stack=="string"){for(var S=Ce.stack.split(`
`),C=m.stack.split(`
`),R=S.length-1,X=C.length-1;1<=R&&0<=X&&S[R]!==C[X];)X--;for(;1<=R&&0<=X;R--,X--)if(S[R]!==C[X]){if(R!==1||X!==1)do if(R--,X--,0>X||S[R]!==C[X]){var le=`
`+S[R].replace(" at new "," at ");return n.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",n.displayName)),le}while(1<=R&&0<=X);break}}}finally{we=!1,Error.prepareStackTrace=d}return(n=n?n.displayName||n.name:"")?ge(n):""}function fe(n){switch(n.tag){case 5:return ge(n.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return n=_e(n.type,!1),n;case 11:return n=_e(n.type.render,!1),n;case 1:return n=_e(n.type,!0),n;default:return""}}function Ge(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ee:return"Fragment";case Z:return"Portal";case ne:return"Profiler";case K:return"StrictMode";case T:return"Suspense";case ue:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case M:return(n.displayName||"Context")+".Consumer";case me:return(n._context.displayName||"Context")+".Provider";case oe:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Re:return a=n.displayName||null,a!==null?a:Ge(n.type)||"Memo";case te:a=n._payload,n=n._init;try{return Ge(n(a))}catch(d){}}return null}function Oe(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(a);case 8:return a===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tt(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pt(n){var a=tt(n)?"checked":"value",d=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),m=""+n[a];if(!n.hasOwnProperty(a)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,C=d.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return S.call(this)},set:function(R){m=""+R,C.call(this,R)}}),Object.defineProperty(n,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function ct(n){n._valueTracker||(n._valueTracker=pt(n))}function Nt(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return n&&(m=tt(n)?n.checked?"true":"false":n.value),n=m,n!==d?(a.setValue(n),!0):!1}function A(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(a){return n.body}}function Pe(n,a){var d=a.checked;return V({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d!=null?d:n._wrapperState.initialChecked})}function xe(n,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=qe(a.value!=null?a.value:d),n._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function G(n,a){a=a.checked,a!=null&&B(n,"checked",a,!1)}function $(n,a){G(n,a);var d=qe(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&n.value===""||n.value!=d)&&(n.value=""+d):n.value!==""+d&&(n.value=""+d);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?Ae(n,a.type,d):a.hasOwnProperty("defaultValue")&&Ae(n,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function pe(n,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,d||a===n.value||(n.value=a),n.defaultValue=a}d=n.name,d!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,d!==""&&(n.name=d)}function Ae(n,a,d){(a!=="number"||A(n.ownerDocument)!==n)&&(d==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+d&&(n.defaultValue=""+d))}var ze=Array.isArray;function ve(n,a,d,m){if(n=n.options,a){a={};for(var S=0;S<d.length;S++)a["$"+d[S]]=!0;for(d=0;d<n.length;d++)S=a.hasOwnProperty("$"+n[d].value),n[d].selected!==S&&(n[d].selected=S),S&&m&&(n[d].defaultSelected=!0)}else{for(d=""+qe(d),a=null,S=0;S<n.length;S++){if(n[S].value===d){n[S].selected=!0,m&&(n[S].defaultSelected=!0);return}a!==null||n[S].disabled||(a=n[S])}a!==null&&(a.selected=!0)}}function Fe(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(o(91));return V({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function De(n,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(o(92));if(ze(d)){if(1<d.length)throw Error(o(93));d=d[0]}a=d}a==null&&(a=""),d=a}n._wrapperState={initialValue:qe(d)}}function Be(n,a){var d=qe(a.value),m=qe(a.defaultValue);d!=null&&(d=""+d,d!==n.value&&(n.value=d),a.defaultValue==null&&n.defaultValue!==d&&(n.defaultValue=d)),m!=null&&(n.defaultValue=""+m)}function ut(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function zt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?zt(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var un,yu=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,d,m,S){MSApp.execUnsafeLocalFunction(function(){return n(a,d,m,S)})}:n}(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=un.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function xn(n,a){if(a){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=a;return}}n.textContent=a}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(n){hr.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),Ka[a]=Ka[n]})});function xd(n,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Ka.hasOwnProperty(n)&&Ka[n]?(""+a).trim():a+"px"}function Kh(n,a){n=n.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,S=xd(d,a[d],m);d==="float"&&(d="cssFloat"),m?n.setProperty(d,S):n[d]=S}}var qa=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qh(n,a){if(a){if(qa[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(o(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(o(61))}if(a.style!=null&&typeof a.style!="object")throw Error(o(62))}}function ry(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=null;function oy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wh=null,Jo=null,Wa=null;function nG(n){if(n=Ey(n)){if(typeof Wh!="function")throw Error(o(280));var a=n.stateNode;a&&(a=nE(a),Wh(n.stateNode,n.type,a))}}function oG(n){Jo?Wa?Wa.push(n):Wa=[n]:Jo=n}function aG(){if(Jo){var n=Jo,a=Wa;if(Wa=Jo=null,nG(n),a)for(n=0;n<a.length;n++)nG(a[n])}}function iG(n,a){return n(a)}function sG(){}var NO=!1;function lG(n,a,d){if(NO)return n(a,d);NO=!0;try{return iG(n,a,d)}finally{NO=!1,(Jo!==null||Wa!==null)&&(sG(),aG())}}function ay(n,a){var d=n.stateNode;if(d===null)return null;var m=nE(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(o(231,a,typeof d));return d}var RO=!1;if(f)try{$h={},Object.defineProperty($h,"passive",{get:function(){RO=!0}}),window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch(n){RO=!1}var $h;function Rae(n,a,d,m,S,C,R,X,le){var Ce=Array.prototype.slice.call(arguments,3);try{a.apply(d,Ce)}catch(Ue){this.onError(Ue)}}var iy=!1,AS=null,DS=!1,FO=null,Fae={onError:function(n){iy=!0,AS=n}};function Mae(n,a,d,m,S,C,R,X,le){iy=!1,AS=null,Rae.apply(Fae,arguments)}function Uae(n,a,d,m,S,C,R,X,le){if(Mae.apply(this,arguments),iy){if(iy){var Ce=AS;iy=!1,AS=null}else throw Error(o(198));DS||(DS=!0,FO=Ce)}}function Sd(n){var a=n,d=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,a.flags&4098&&(d=a.return),n=a.return;while(n)}return a.tag===3?d:null}function uG(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function cG(n){if(Sd(n)!==n)throw Error(o(188))}function Vae(n){var a=n.alternate;if(!a){if(a=Sd(n),a===null)throw Error(o(188));return a!==n?null:n}for(var d=n,m=a;;){var S=d.return;if(S===null)break;var C=S.alternate;if(C===null){if(m=S.return,m!==null){d=m;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===d)return cG(S),n;if(C===m)return cG(S),a;C=C.sibling}throw Error(o(188))}if(d.return!==m.return)d=S,m=C;else{for(var R=!1,X=S.child;X;){if(X===d){R=!0,d=S,m=C;break}if(X===m){R=!0,m=S,d=C;break}X=X.sibling}if(!R){for(X=C.child;X;){if(X===d){R=!0,d=C,m=S;break}if(X===m){R=!0,m=C,d=S;break}X=X.sibling}if(!R)throw Error(o(189))}}if(d.alternate!==m)throw Error(o(190))}if(d.tag!==3)throw Error(o(188));return d.stateNode.current===d?n:a}function dG(n){return n=Vae(n),n!==null?fG(n):null}function fG(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=fG(n);if(a!==null)return a;n=n.sibling}return null}var pG=r.unstable_scheduleCallback,hG=r.unstable_cancelCallback,Hae=r.unstable_shouldYield,Lae=r.unstable_requestPaint,Er=r.unstable_now,Kae=r.unstable_getCurrentPriorityLevel,MO=r.unstable_ImmediatePriority,mG=r.unstable_UserBlockingPriority,zS=r.unstable_NormalPriority,qae=r.unstable_LowPriority,gG=r.unstable_IdlePriority,BS=null,Li=null;function Wae(n){if(Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(BS,n,void 0,(n.current.flags&128)===128)}catch(a){}}var $a=Math.clz32?Math.clz32:Zae,$ae=Math.log,Gae=Math.LN2;function Zae(n){return n>>>=0,n===0?32:31-($ae(n)/Gae|0)|0}var NS=64,RS=4194304;function sy(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function FS(n,a){var d=n.pendingLanes;if(d===0)return 0;var m=0,S=n.suspendedLanes,C=n.pingedLanes,R=d&268435455;if(R!==0){var X=R&~S;X!==0?m=sy(X):(C&=R,C!==0&&(m=sy(C)))}else R=d&~S,R!==0?m=sy(R):C!==0&&(m=sy(C));if(m===0)return 0;if(a!==0&&a!==m&&!(a&S)&&(S=m&-m,C=a&-a,S>=C||S===16&&(C&4194240)!==0))return a;if(m&4&&(m|=d&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=m;0<a;)d=31-$a(a),S=1<<d,m|=n[d],a&=~S;return m}function Xae(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yae(n,a){for(var d=n.suspendedLanes,m=n.pingedLanes,S=n.expirationTimes,C=n.pendingLanes;0<C;){var R=31-$a(C),X=1<<R,le=S[R];le===-1?(!(X&d)||X&m)&&(S[R]=Xae(X,a)):le<=a&&(n.expiredLanes|=X),C&=~X}}function UO(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function vG(){var n=NS;return NS<<=1,!(NS&4194240)&&(NS=64),n}function VO(n){for(var a=[],d=0;31>d;d++)a.push(n);return a}function ly(n,a,d){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-$a(a),n[a]=d}function Qae(n,a){var d=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<d;){var S=31-$a(d),C=1<<S;a[S]=0,m[S]=-1,n[S]=-1,d&=~C}}function HO(n,a){var d=n.entangledLanes|=a;for(n=n.entanglements;d;){var m=31-$a(d),S=1<<m;S&a|n[m]&a&&(n[m]|=a),d&=~S}}var Wt=0;function yG(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var bG,LO,wG,kG,_G,KO=!1,MS=[],bu=null,wu=null,ku=null,uy=new Map,cy=new Map,_u=[],Jae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xG(n,a){switch(n){case"focusin":case"focusout":bu=null;break;case"dragenter":case"dragleave":wu=null;break;case"mouseover":case"mouseout":ku=null;break;case"pointerover":case"pointerout":uy.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cy.delete(a.pointerId)}}function dy(n,a,d,m,S,C){return n===null||n.nativeEvent!==C?(n={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:C,targetContainers:[S]},a!==null&&(a=Ey(a),a!==null&&LO(a)),n):(n.eventSystemFlags|=m,a=n.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),n)}function eie(n,a,d,m,S){switch(a){case"focusin":return bu=dy(bu,n,a,d,m,S),!0;case"dragenter":return wu=dy(wu,n,a,d,m,S),!0;case"mouseover":return ku=dy(ku,n,a,d,m,S),!0;case"pointerover":var C=S.pointerId;return uy.set(C,dy(uy.get(C)||null,n,a,d,m,S)),!0;case"gotpointercapture":return C=S.pointerId,cy.set(C,dy(cy.get(C)||null,n,a,d,m,S)),!0}return!1}function SG(n){var a=Ed(n.target);if(a!==null){var d=Sd(a);if(d!==null){if(a=d.tag,a===13){if(a=uG(d),a!==null){n.blockedOn=a,_G(n.priority,function(){wG(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function US(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var d=WO(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(d===null){d=n.nativeEvent;var m=new d.constructor(d.type,d);ny=m,d.target.dispatchEvent(m),ny=null}else return a=Ey(d),a!==null&&LO(a),n.blockedOn=d,!1;a.shift()}return!0}function EG(n,a,d){US(n)&&d.delete(a)}function tie(){KO=!1,bu!==null&&US(bu)&&(bu=null),wu!==null&&US(wu)&&(wu=null),ku!==null&&US(ku)&&(ku=null),uy.forEach(EG),cy.forEach(EG)}function fy(n,a){n.blockedOn===a&&(n.blockedOn=null,KO||(KO=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tie)))}function py(n){function a(S){return fy(S,n)}if(0<MS.length){fy(MS[0],n);for(var d=1;d<MS.length;d++){var m=MS[d];m.blockedOn===n&&(m.blockedOn=null)}}for(bu!==null&&fy(bu,n),wu!==null&&fy(wu,n),ku!==null&&fy(ku,n),uy.forEach(a),cy.forEach(a),d=0;d<_u.length;d++)m=_u[d],m.blockedOn===n&&(m.blockedOn=null);for(;0<_u.length&&(d=_u[0],d.blockedOn===null);)SG(d),d.blockedOn===null&&_u.shift()}var Gh=z.ReactCurrentBatchConfig,VS=!0;function rie(n,a,d,m){var S=Wt,C=Gh.transition;Gh.transition=null;try{Wt=1,qO(n,a,d,m)}finally{Wt=S,Gh.transition=C}}function nie(n,a,d,m){var S=Wt,C=Gh.transition;Gh.transition=null;try{Wt=4,qO(n,a,d,m)}finally{Wt=S,Gh.transition=C}}function qO(n,a,d,m){if(VS){var S=WO(n,a,d,m);if(S===null)sT(n,a,m,HS,d),xG(n,m);else if(eie(S,n,a,d,m))m.stopPropagation();else if(xG(n,m),a&4&&-1<Jae.indexOf(n)){for(;S!==null;){var C=Ey(S);if(C!==null&&bG(C),C=WO(n,a,d,m),C===null&&sT(n,a,m,HS,d),C===S)break;S=C}S!==null&&m.stopPropagation()}else sT(n,a,m,null,d)}}var HS=null;function WO(n,a,d,m){if(HS=null,n=oy(m),n=Ed(n),n!==null)if(a=Sd(n),a===null)n=null;else if(d=a.tag,d===13){if(n=uG(a),n!==null)return n;n=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return HS=n,null}function PG(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kae()){case MO:return 1;case mG:return 4;case zS:case qae:return 16;case gG:return 536870912;default:return 16}default:return 16}}var xu=null,$O=null,LS=null;function CG(){if(LS)return LS;var n,a=$O,d=a.length,m,S="value"in xu?xu.value:xu.textContent,C=S.length;for(n=0;n<d&&a[n]===S[n];n++);var R=d-n;for(m=1;m<=R&&a[d-m]===S[C-m];m++);return LS=S.slice(n,1<m?1-m:void 0)}function KS(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function qS(){return!0}function IG(){return!1}function Oo(n){function a(d,m,S,C,R){this._reactName=d,this._targetInst=S,this.type=m,this.nativeEvent=C,this.target=R,this.currentTarget=null;for(var X in n)n.hasOwnProperty(X)&&(d=n[X],this[X]=d?d(C):C[X]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?qS:IG,this.isPropagationStopped=IG,this}return V(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=qS)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=qS)},persist:function(){},isPersistent:qS}),a}var Zh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GO=Oo(Zh),hy=V({},Zh,{view:0,detail:0}),oie=Oo(hy),ZO,XO,my,WS=V({},hy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QO,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==my&&(my&&n.type==="mousemove"?(ZO=n.screenX-my.screenX,XO=n.screenY-my.screenY):XO=ZO=0,my=n),ZO)},movementY:function(n){return"movementY"in n?n.movementY:XO}}),jG=Oo(WS),aie=V({},WS,{dataTransfer:0}),iie=Oo(aie),sie=V({},hy,{relatedTarget:0}),YO=Oo(sie),lie=V({},Zh,{animationName:0,elapsedTime:0,pseudoElement:0}),uie=Oo(lie),cie=V({},Zh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),die=Oo(cie),fie=V({},Zh,{data:0}),OG=Oo(fie),pie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gie(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=mie[n])?!!a[n]:!1}function QO(){return gie}var vie=V({},hy,{key:function(n){if(n.key){var a=pie[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=KS(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hie[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QO,charCode:function(n){return n.type==="keypress"?KS(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?KS(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yie=Oo(vie),bie=V({},WS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TG=Oo(bie),wie=V({},hy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QO}),kie=Oo(wie),_ie=V({},Zh,{propertyName:0,elapsedTime:0,pseudoElement:0}),xie=Oo(_ie),Sie=V({},WS,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Eie=Oo(Sie),Pie=[9,13,27,32],JO=f&&"CompositionEvent"in window,gy=null;f&&"documentMode"in document&&(gy=document.documentMode);var Cie=f&&"TextEvent"in window&&!gy,AG=f&&(!JO||gy&&8<gy&&11>=gy),DG=" ",zG=!1;function BG(n,a){switch(n){case"keyup":return Pie.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NG(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xh=!1;function Iie(n,a){switch(n){case"compositionend":return NG(a);case"keypress":return a.which!==32?null:(zG=!0,DG);case"textInput":return n=a.data,n===DG&&zG?null:n;default:return null}}function jie(n,a){if(Xh)return n==="compositionend"||!JO&&BG(n,a)?(n=CG(),LS=$O=xu=null,Xh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return AG&&a.locale!=="ko"?null:a.data;default:return null}}var Oie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RG(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Oie[n.type]:a==="textarea"}function FG(n,a,d,m){oG(m),a=eE(a,"onChange"),0<a.length&&(d=new GO("onChange","change",null,d,m),n.push({event:d,listeners:a}))}var vy=null,yy=null;function Tie(n){nZ(n,0)}function $S(n){var a=tm(n);if(Nt(a))return n}function Aie(n,a){if(n==="change")return a}var MG=!1;f&&(f?(GS="oninput"in document,GS||(tT=document.createElement("div"),tT.setAttribute("oninput","return;"),GS=typeof tT.oninput=="function"),eT=GS):eT=!1,MG=eT&&(!document.documentMode||9<document.documentMode));var eT,GS,tT;function UG(){vy&&(vy.detachEvent("onpropertychange",VG),yy=vy=null)}function VG(n){if(n.propertyName==="value"&&$S(yy)){var a=[];FG(a,yy,n,oy(n)),lG(Tie,a)}}function Die(n,a,d){n==="focusin"?(UG(),vy=a,yy=d,vy.attachEvent("onpropertychange",VG)):n==="focusout"&&UG()}function zie(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $S(yy)}function Bie(n,a){if(n==="click")return $S(a)}function Nie(n,a){if(n==="input"||n==="change")return $S(a)}function Rie(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Ga=typeof Object.is=="function"?Object.is:Rie;function by(n,a){if(Ga(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var d=Object.keys(n),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var S=d[m];if(!p.call(a,S)||!Ga(n[S],a[S]))return!1}return!0}function HG(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function LG(n,a){var d=HG(n);n=0;for(var m;d;){if(d.nodeType===3){if(m=n+d.textContent.length,n<=a&&m>=a)return{node:d,offset:a-n};n=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=HG(d)}}function KG(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?KG(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function qG(){for(var n=window,a=A();a instanceof n.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch(m){d=!1}if(d)n=a.contentWindow;else break;a=A(n.document)}return a}function rT(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function Fie(n){var a=qG(),d=n.focusedElem,m=n.selectionRange;if(a!==d&&d&&d.ownerDocument&&KG(d.ownerDocument.documentElement,d)){if(m!==null&&rT(d)){if(a=m.start,n=m.end,n===void 0&&(n=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(n,d.value.length);else if(n=(a=d.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var S=d.textContent.length,C=Math.min(m.start,S);m=m.end===void 0?C:Math.min(m.end,S),!n.extend&&C>m&&(S=m,m=C,C=S),S=LG(d,C);var R=LG(d,m);S&&R&&(n.rangeCount!==1||n.anchorNode!==S.node||n.anchorOffset!==S.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(S.node,S.offset),n.removeAllRanges(),C>m?(n.addRange(a),n.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),n.addRange(a)))}}for(a=[],n=d;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)n=a[d],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Mie=f&&"documentMode"in document&&11>=document.documentMode,Yh=null,nT=null,wy=null,oT=!1;function WG(n,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;oT||Yh==null||Yh!==A(m)||(m=Yh,"selectionStart"in m&&rT(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wy&&by(wy,m)||(wy=m,m=eE(nT,"onSelect"),0<m.length&&(a=new GO("onSelect","select",null,a,d),n.push({event:a,listeners:m}),a.target=Yh)))}function ZS(n,a){var d={};return d[n.toLowerCase()]=a.toLowerCase(),d["Webkit"+n]="webkit"+a,d["Moz"+n]="moz"+a,d}var Qh={animationend:ZS("Animation","AnimationEnd"),animationiteration:ZS("Animation","AnimationIteration"),animationstart:ZS("Animation","AnimationStart"),transitionend:ZS("Transition","TransitionEnd")},aT={},$G={};f&&($G=document.createElement("div").style,"AnimationEvent"in window||(delete Qh.animationend.animation,delete Qh.animationiteration.animation,delete Qh.animationstart.animation),"TransitionEvent"in window||delete Qh.transitionend.transition);function XS(n){if(aT[n])return aT[n];if(!Qh[n])return n;var a=Qh[n],d;for(d in a)if(a.hasOwnProperty(d)&&d in $G)return aT[n]=a[d];return n}var GG=XS("animationend"),ZG=XS("animationiteration"),XG=XS("animationstart"),YG=XS("transitionend"),QG=new Map,JG="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Su(n,a){QG.set(n,a),u(a,[n])}for(QS=0;QS<JG.length;QS++)YS=JG[QS],eZ=YS.toLowerCase(),tZ=YS[0].toUpperCase()+YS.slice(1),Su(eZ,"on"+tZ);var YS,eZ,tZ,QS;Su(GG,"onAnimationEnd"),Su(ZG,"onAnimationIteration"),Su(XG,"onAnimationStart"),Su("dblclick","onDoubleClick"),Su("focusin","onFocus"),Su("focusout","onBlur"),Su(YG,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uie=new Set("cancel close invalid load scroll toggle".split(" ").concat(ky));function rZ(n,a,d){var m=n.type||"unknown-event";n.currentTarget=d,Uae(m,a,void 0,n),n.currentTarget=null}function nZ(n,a){a=(a&4)!==0;for(var d=0;d<n.length;d++){var m=n[d],S=m.event;m=m.listeners;e:{var C=void 0;if(a)for(var R=m.length-1;0<=R;R--){var X=m[R],le=X.instance,Ce=X.currentTarget;if(X=X.listener,le!==C&&S.isPropagationStopped())break e;rZ(S,X,Ce),C=le}else for(R=0;R<m.length;R++){if(X=m[R],le=X.instance,Ce=X.currentTarget,X=X.listener,le!==C&&S.isPropagationStopped())break e;rZ(S,X,Ce),C=le}}}if(DS)throw n=FO,DS=!1,FO=null,n}function ir(n,a){var d=a[pT];d===void 0&&(d=a[pT]=new Set);var m=n+"__bubble";d.has(m)||(oZ(a,n,2,!1),d.add(m))}function iT(n,a,d){var m=0;a&&(m|=4),oZ(d,n,m,a)}var JS="_reactListening"+Math.random().toString(36).slice(2);function _y(n){if(!n[JS]){n[JS]=!0,i.forEach(function(d){d!=="selectionchange"&&(Uie.has(d)||iT(d,!1,n),iT(d,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[JS]||(a[JS]=!0,iT("selectionchange",!1,a))}}function oZ(n,a,d,m){switch(PG(a)){case 1:var S=rie;break;case 4:S=nie;break;default:S=qO}d=S.bind(null,a,d,n),S=void 0,!RO||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),m?S!==void 0?n.addEventListener(a,d,{capture:!0,passive:S}):n.addEventListener(a,d,!0):S!==void 0?n.addEventListener(a,d,{passive:S}):n.addEventListener(a,d,!1)}function sT(n,a,d,m,S){var C=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var X=m.stateNode.containerInfo;if(X===S||X.nodeType===8&&X.parentNode===S)break;if(R===4)for(R=m.return;R!==null;){var le=R.tag;if((le===3||le===4)&&(le=R.stateNode.containerInfo,le===S||le.nodeType===8&&le.parentNode===S))return;R=R.return}for(;X!==null;){if(R=Ed(X),R===null)return;if(le=R.tag,le===5||le===6){m=C=R;continue e}X=X.parentNode}}m=m.return}lG(function(){var Ce=C,Ue=oy(d),Le=[];e:{var Me=QG.get(n);if(Me!==void 0){var Ze=GO,rt=n;switch(n){case"keypress":if(KS(d)===0)break e;case"keydown":case"keyup":Ze=yie;break;case"focusin":rt="focus",Ze=YO;break;case"focusout":rt="blur",Ze=YO;break;case"beforeblur":case"afterblur":Ze=YO;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=jG;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=iie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=kie;break;case GG:case ZG:case XG:Ze=uie;break;case YG:Ze=xie;break;case"scroll":Ze=oie;break;case"wheel":Ze=Eie;break;case"copy":case"cut":case"paste":Ze=die;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=TG}var it=(a&4)!==0,Pr=!it&&n==="scroll",ye=it?Me!==null?Me+"Capture":null:Me;it=[];for(var ce=Ce,ke;ce!==null;){ke=ce;var Ke=ke.stateNode;if(ke.tag===5&&Ke!==null&&(ke=Ke,ye!==null&&(Ke=ay(ce,ye),Ke!=null&&it.push(xy(ce,Ke,ke)))),Pr)break;ce=ce.return}0<it.length&&(Me=new Ze(Me,rt,null,d,Ue),Le.push({event:Me,listeners:it}))}}if(!(a&7)){e:{if(Me=n==="mouseover"||n==="pointerover",Ze=n==="mouseout"||n==="pointerout",Me&&d!==ny&&(rt=d.relatedTarget||d.fromElement)&&(Ed(rt)||rt[Ys]))break e;if((Ze||Me)&&(Me=Ue.window===Ue?Ue:(Me=Ue.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ze?(rt=d.relatedTarget||d.toElement,Ze=Ce,rt=rt?Ed(rt):null,rt!==null&&(Pr=Sd(rt),rt!==Pr||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Ze=null,rt=Ce),Ze!==rt)){if(it=jG,Ke="onMouseLeave",ye="onMouseEnter",ce="mouse",(n==="pointerout"||n==="pointerover")&&(it=TG,Ke="onPointerLeave",ye="onPointerEnter",ce="pointer"),Pr=Ze==null?Me:tm(Ze),ke=rt==null?Me:tm(rt),Me=new it(Ke,ce+"leave",Ze,d,Ue),Me.target=Pr,Me.relatedTarget=ke,Ke=null,Ed(Ue)===Ce&&(it=new it(ye,ce+"enter",rt,d,Ue),it.target=ke,it.relatedTarget=Pr,Ke=it),Pr=Ke,Ze&&rt)t:{for(it=Ze,ye=rt,ce=0,ke=it;ke;ke=Jh(ke))ce++;for(ke=0,Ke=ye;Ke;Ke=Jh(Ke))ke++;for(;0<ce-ke;)it=Jh(it),ce--;for(;0<ke-ce;)ye=Jh(ye),ke--;for(;ce--;){if(it===ye||ye!==null&&it===ye.alternate)break t;it=Jh(it),ye=Jh(ye)}it=null}else it=null;Ze!==null&&aZ(Le,Me,Ze,it,!1),rt!==null&&Pr!==null&&aZ(Le,Pr,rt,it,!0)}}e:{if(Me=Ce?tm(Ce):window,Ze=Me.nodeName&&Me.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Me.type==="file")var lt=Aie;else if(RG(Me))if(MG)lt=Nie;else{lt=zie;var mt=Die}else(Ze=Me.nodeName)&&Ze.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(lt=Bie);if(lt&&(lt=lt(n,Ce))){FG(Le,lt,d,Ue);break e}mt&&mt(n,Me,Ce),n==="focusout"&&(mt=Me._wrapperState)&&mt.controlled&&Me.type==="number"&&Ae(Me,"number",Me.value)}switch(mt=Ce?tm(Ce):window,n){case"focusin":(RG(mt)||mt.contentEditable==="true")&&(Yh=mt,nT=Ce,wy=null);break;case"focusout":wy=nT=Yh=null;break;case"mousedown":oT=!0;break;case"contextmenu":case"mouseup":case"dragend":oT=!1,WG(Le,d,Ue);break;case"selectionchange":if(Mie)break;case"keydown":case"keyup":WG(Le,d,Ue)}var gt;if(JO)e:{switch(n){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Xh?BG(n,d)&&(kt="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(kt="onCompositionStart");kt&&(AG&&d.locale!=="ko"&&(Xh||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Xh&&(gt=CG()):(xu=Ue,$O="value"in xu?xu.value:xu.textContent,Xh=!0)),mt=eE(Ce,kt),0<mt.length&&(kt=new OG(kt,n,null,d,Ue),Le.push({event:kt,listeners:mt}),gt?kt.data=gt:(gt=NG(d),gt!==null&&(kt.data=gt)))),(gt=Cie?Iie(n,d):jie(n,d))&&(Ce=eE(Ce,"onBeforeInput"),0<Ce.length&&(Ue=new OG("onBeforeInput","beforeinput",null,d,Ue),Le.push({event:Ue,listeners:Ce}),Ue.data=gt))}nZ(Le,a)})}function xy(n,a,d){return{instance:n,listener:a,currentTarget:d}}function eE(n,a){for(var d=a+"Capture",m=[];n!==null;){var S=n,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=ay(n,d),C!=null&&m.unshift(xy(n,C,S)),C=ay(n,a),C!=null&&m.push(xy(n,C,S))),n=n.return}return m}function Jh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function aZ(n,a,d,m,S){for(var C=a._reactName,R=[];d!==null&&d!==m;){var X=d,le=X.alternate,Ce=X.stateNode;if(le!==null&&le===m)break;X.tag===5&&Ce!==null&&(X=Ce,S?(le=ay(d,C),le!=null&&R.unshift(xy(d,le,X))):S||(le=ay(d,C),le!=null&&R.push(xy(d,le,X)))),d=d.return}R.length!==0&&n.push({event:a,listeners:R})}var Vie=/\r\n?/g,Hie=/\u0000|\uFFFD/g;function iZ(n){return(typeof n=="string"?n:""+n).replace(Vie,`
`).replace(Hie,"")}function tE(n,a,d){if(a=iZ(a),iZ(n)!==a&&d)throw Error(o(425))}function rE(){}var lT=null,uT=null;function cT(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var dT=typeof setTimeout=="function"?setTimeout:void 0,Lie=typeof clearTimeout=="function"?clearTimeout:void 0,sZ=typeof Promise=="function"?Promise:void 0,Kie=typeof queueMicrotask=="function"?queueMicrotask:typeof sZ!="undefined"?function(n){return sZ.resolve(null).then(n).catch(qie)}:dT;function qie(n){setTimeout(function(){throw n})}function fT(n,a){var d=a,m=0;do{var S=d.nextSibling;if(n.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(m===0){n.removeChild(S),py(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=S}while(d);py(a)}function Eu(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function lZ(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return n;a--}else d==="/$"&&a++}n=n.previousSibling}return null}var em=Math.random().toString(36).slice(2),Ki="__reactFiber$"+em,Sy="__reactProps$"+em,Ys="__reactContainer$"+em,pT="__reactEvents$"+em,Wie="__reactListeners$"+em,$ie="__reactHandles$"+em;function Ed(n){var a=n[Ki];if(a)return a;for(var d=n.parentNode;d;){if(a=d[Ys]||d[Ki]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(n=lZ(n);n!==null;){if(d=n[Ki])return d;n=lZ(n)}return a}n=d,d=n.parentNode}return null}function Ey(n){return n=n[Ki]||n[Ys],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function tm(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function nE(n){return n[Sy]||null}var hT=[],rm=-1;function Pu(n){return{current:n}}function sr(n){0>rm||(n.current=hT[rm],hT[rm]=null,rm--)}function tr(n,a){rm++,hT[rm]=n.current,n.current=a}var Cu={},Sn=Pu(Cu),oo=Pu(!1),Pd=Cu;function nm(n,a){var d=n.type.contextTypes;if(!d)return Cu;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in d)S[C]=a[C];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=S),S}function ao(n){return n=n.childContextTypes,n!=null}function oE(){sr(oo),sr(Sn)}function uZ(n,a,d){if(Sn.current!==Cu)throw Error(o(168));tr(Sn,a),tr(oo,d)}function cZ(n,a,d){var m=n.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var S in m)if(!(S in a))throw Error(o(108,Oe(n)||"Unknown",S));return V({},d,m)}function aE(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Cu,Pd=Sn.current,tr(Sn,n),tr(oo,oo.current),!0}function dZ(n,a,d){var m=n.stateNode;if(!m)throw Error(o(169));d?(n=cZ(n,a,Pd),m.__reactInternalMemoizedMergedChildContext=n,sr(oo),sr(Sn),tr(Sn,n)):sr(oo),tr(oo,d)}var Qs=null,iE=!1,mT=!1;function fZ(n){Qs===null?Qs=[n]:Qs.push(n)}function Gie(n){iE=!0,fZ(n)}function Iu(){if(!mT&&Qs!==null){mT=!0;var n=0,a=Wt;try{var d=Qs;for(Wt=1;n<d.length;n++){var m=d[n];do m=m(!0);while(m!==null)}Qs=null,iE=!1}catch(S){throw Qs!==null&&(Qs=Qs.slice(n+1)),pG(MO,Iu),S}finally{Wt=a,mT=!1}}return null}var om=[],am=0,sE=null,lE=0,ea=[],ta=0,Cd=null,Js=1,el="";function Id(n,a){om[am++]=lE,om[am++]=sE,sE=n,lE=a}function pZ(n,a,d){ea[ta++]=Js,ea[ta++]=el,ea[ta++]=Cd,Cd=n;var m=Js;n=el;var S=32-$a(m)-1;m&=~(1<<S),d+=1;var C=32-$a(a)+S;if(30<C){var R=S-S%5;C=(m&(1<<R)-1).toString(32),m>>=R,S-=R,Js=1<<32-$a(a)+S|d<<S|m,el=C+n}else Js=1<<C|d<<S|m,el=n}function gT(n){n.return!==null&&(Id(n,1),pZ(n,1,0))}function vT(n){for(;n===sE;)sE=om[--am],om[am]=null,lE=om[--am],om[am]=null;for(;n===Cd;)Cd=ea[--ta],ea[ta]=null,el=ea[--ta],ea[ta]=null,Js=ea[--ta],ea[ta]=null}var To=null,Ao=null,cr=!1,Za=null;function hZ(n,a){var d=aa(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=n,a=n.deletions,a===null?(n.deletions=[d],n.flags|=16):a.push(d)}function mZ(n,a){switch(n.tag){case 5:var d=n.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,To=n,Ao=Eu(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,To=n,Ao=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Cd!==null?{id:Js,overflow:el}:null,n.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=aa(18,null,null,0),d.stateNode=a,d.return=n,n.child=d,To=n,Ao=null,!0):!1;default:return!1}}function yT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function bT(n){if(cr){var a=Ao;if(a){var d=a;if(!mZ(n,a)){if(yT(n))throw Error(o(418));a=Eu(d.nextSibling);var m=To;a&&mZ(n,a)?hZ(m,d):(n.flags=n.flags&-4097|2,cr=!1,To=n)}}else{if(yT(n))throw Error(o(418));n.flags=n.flags&-4097|2,cr=!1,To=n}}}function gZ(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;To=n}function uE(n){if(n!==To)return!1;if(!cr)return gZ(n),cr=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!cT(n.type,n.memoizedProps)),a&&(a=Ao)){if(yT(n))throw vZ(),Error(o(418));for(;a;)hZ(n,a),a=Eu(a.nextSibling)}if(gZ(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"){if(a===0){Ao=Eu(n.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}n=n.nextSibling}Ao=null}}else Ao=To?Eu(n.stateNode.nextSibling):null;return!0}function vZ(){for(var n=Ao;n;)n=Eu(n.nextSibling)}function im(){Ao=To=null,cr=!1}function wT(n){Za===null?Za=[n]:Za.push(n)}var Zie=z.ReactCurrentBatchConfig;function Xa(n,a){if(n&&n.defaultProps){a=V({},a),n=n.defaultProps;for(var d in n)a[d]===void 0&&(a[d]=n[d]);return a}return a}var cE=Pu(null),dE=null,sm=null,kT=null;function _T(){kT=sm=dE=null}function xT(n){var a=cE.current;sr(cE),n._currentValue=a}function ST(n,a,d){for(;n!==null;){var m=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),n===d)break;n=n.return}}function lm(n,a){dE=n,kT=sm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&a&&(io=!0),n.firstContext=null)}function ra(n){var a=n._currentValue;if(kT!==n)if(n={context:n,memoizedValue:a,next:null},sm===null){if(dE===null)throw Error(o(308));sm=n,dE.dependencies={lanes:0,firstContext:n}}else sm=sm.next=n;return a}var jd=null;function ET(n){jd===null?jd=[n]:jd.push(n)}function yZ(n,a,d,m){var S=a.interleaved;return S===null?(d.next=d,ET(a)):(d.next=S.next,S.next=d),a.interleaved=d,tl(n,m)}function tl(n,a){n.lanes|=a;var d=n.alternate;for(d!==null&&(d.lanes|=a),d=n,n=n.return;n!==null;)n.childLanes|=a,d=n.alternate,d!==null&&(d.childLanes|=a),d=n,n=n.return;return d.tag===3?d.stateNode:null}var ju=!1;function PT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bZ(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function rl(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function Ou(n,a,d){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,Bt&2){var S=m.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),m.pending=a,tl(n,d)}return S=m.interleaved,S===null?(a.next=a,ET(m)):(a.next=S.next,S.next=a),m.interleaved=a,tl(n,d)}function fE(n,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=n.pendingLanes,d|=m,a.lanes=d,HO(n,d)}}function wZ(n,a){var d=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var S=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var R={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};C===null?S=C=R:C=C.next=R,d=d.next}while(d!==null);C===null?S=C=a:C=C.next=a}else S=C=a;d={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:m.shared,effects:m.effects},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=a:n.next=a,d.lastBaseUpdate=a}function pE(n,a,d,m){var S=n.updateQueue;ju=!1;var C=S.firstBaseUpdate,R=S.lastBaseUpdate,X=S.shared.pending;if(X!==null){S.shared.pending=null;var le=X,Ce=le.next;le.next=null,R===null?C=Ce:R.next=Ce,R=le;var Ue=n.alternate;Ue!==null&&(Ue=Ue.updateQueue,X=Ue.lastBaseUpdate,X!==R&&(X===null?Ue.firstBaseUpdate=Ce:X.next=Ce,Ue.lastBaseUpdate=le))}if(C!==null){var Le=S.baseState;R=0,Ue=Ce=le=null,X=C;do{var Me=X.lane,Ze=X.eventTime;if((m&Me)===Me){Ue!==null&&(Ue=Ue.next={eventTime:Ze,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var rt=n,it=X;switch(Me=a,Ze=d,it.tag){case 1:if(rt=it.payload,typeof rt=="function"){Le=rt.call(Ze,Le,Me);break e}Le=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=it.payload,Me=typeof rt=="function"?rt.call(Ze,Le,Me):rt,Me==null)break e;Le=V({},Le,Me);break e;case 2:ju=!0}}X.callback!==null&&X.lane!==0&&(n.flags|=64,Me=S.effects,Me===null?S.effects=[X]:Me.push(X))}else Ze={eventTime:Ze,lane:Me,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ue===null?(Ce=Ue=Ze,le=Le):Ue=Ue.next=Ze,R|=Me;if(X=X.next,X===null){if(X=S.shared.pending,X===null)break;Me=X,X=Me.next,Me.next=null,S.lastBaseUpdate=Me,S.shared.pending=null}}while(!0);if(Ue===null&&(le=Le),S.baseState=le,S.firstBaseUpdate=Ce,S.lastBaseUpdate=Ue,a=S.shared.interleaved,a!==null){S=a;do R|=S.lane,S=S.next;while(S!==a)}else C===null&&(S.shared.lanes=0);Ad|=R,n.lanes=R,n.memoizedState=Le}}function kZ(n,a,d){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var m=n[a],S=m.callback;if(S!==null){if(m.callback=null,m=d,typeof S!="function")throw Error(o(191,S));S.call(m)}}}var _Z=new t.Component().refs;function CT(n,a,d,m){a=n.memoizedState,d=d(m,a),d=d==null?a:V({},a,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var hE={isMounted:function(n){return(n=n._reactInternals)?Sd(n)===n:!1},enqueueSetState:function(n,a,d){n=n._reactInternals;var m=Wn(),S=zu(n),C=rl(m,S);C.payload=a,d!=null&&(C.callback=d),a=Ou(n,C,S),a!==null&&(Ja(a,n,S,m),fE(a,n,S))},enqueueReplaceState:function(n,a,d){n=n._reactInternals;var m=Wn(),S=zu(n),C=rl(m,S);C.tag=1,C.payload=a,d!=null&&(C.callback=d),a=Ou(n,C,S),a!==null&&(Ja(a,n,S,m),fE(a,n,S))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var d=Wn(),m=zu(n),S=rl(d,m);S.tag=2,a!=null&&(S.callback=a),a=Ou(n,S,m),a!==null&&(Ja(a,n,m,d),fE(a,n,m))}};function xZ(n,a,d,m,S,C,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,C,R):a.prototype&&a.prototype.isPureReactComponent?!by(d,m)||!by(S,C):!0}function SZ(n,a,d){var m=!1,S=Cu,C=a.contextType;return typeof C=="object"&&C!==null?C=ra(C):(S=ao(a)?Pd:Sn.current,m=a.contextTypes,C=(m=m!=null)?nm(n,S):Cu),a=new a(d,C),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hE,n.stateNode=a,a._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=S,n.__reactInternalMemoizedMaskedChildContext=C),a}function EZ(n,a,d,m){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==n&&hE.enqueueReplaceState(a,a.state,null)}function IT(n,a,d,m){var S=n.stateNode;S.props=d,S.state=n.memoizedState,S.refs=_Z,PT(n);var C=a.contextType;typeof C=="object"&&C!==null?S.context=ra(C):(C=ao(a)?Pd:Sn.current,S.context=nm(n,C)),S.state=n.memoizedState,C=a.getDerivedStateFromProps,typeof C=="function"&&(CT(n,a,C,d),S.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(a=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),a!==S.state&&hE.enqueueReplaceState(S,S.state,null),pE(n,d,S,m),S.state=n.memoizedState),typeof S.componentDidMount=="function"&&(n.flags|=4194308)}function Py(n,a,d){if(n=d.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(o(309));var m=d.stateNode}if(!m)throw Error(o(147,n));var S=m,C=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===C?a.ref:(a=function(R){var X=S.refs;X===_Z&&(X=S.refs={}),R===null?delete X[C]:X[C]=R},a._stringRef=C,a)}if(typeof n!="string")throw Error(o(284));if(!d._owner)throw Error(o(290,n))}return n}function mE(n,a){throw n=Object.prototype.toString.call(a),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function PZ(n){var a=n._init;return a(n._payload)}function CZ(n){function a(ye,ce){if(n){var ke=ye.deletions;ke===null?(ye.deletions=[ce],ye.flags|=16):ke.push(ce)}}function d(ye,ce){if(!n)return null;for(;ce!==null;)a(ye,ce),ce=ce.sibling;return null}function m(ye,ce){for(ye=new Map;ce!==null;)ce.key!==null?ye.set(ce.key,ce):ye.set(ce.index,ce),ce=ce.sibling;return ye}function S(ye,ce){return ye=Nu(ye,ce),ye.index=0,ye.sibling=null,ye}function C(ye,ce,ke){return ye.index=ke,n?(ke=ye.alternate,ke!==null?(ke=ke.index,ke<ce?(ye.flags|=2,ce):ke):(ye.flags|=2,ce)):(ye.flags|=1048576,ce)}function R(ye){return n&&ye.alternate===null&&(ye.flags|=2),ye}function X(ye,ce,ke,Ke){return ce===null||ce.tag!==6?(ce=c4(ke,ye.mode,Ke),ce.return=ye,ce):(ce=S(ce,ke),ce.return=ye,ce)}function le(ye,ce,ke,Ke){var lt=ke.type;return lt===ee?Ue(ye,ce,ke.props.children,Ke,ke.key):ce!==null&&(ce.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===te&&PZ(lt)===ce.type)?(Ke=S(ce,ke.props),Ke.ref=Py(ye,ce,ke),Ke.return=ye,Ke):(Ke=zE(ke.type,ke.key,ke.props,null,ye.mode,Ke),Ke.ref=Py(ye,ce,ke),Ke.return=ye,Ke)}function Ce(ye,ce,ke,Ke){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ke.containerInfo||ce.stateNode.implementation!==ke.implementation?(ce=d4(ke,ye.mode,Ke),ce.return=ye,ce):(ce=S(ce,ke.children||[]),ce.return=ye,ce)}function Ue(ye,ce,ke,Ke,lt){return ce===null||ce.tag!==7?(ce=Nd(ke,ye.mode,Ke,lt),ce.return=ye,ce):(ce=S(ce,ke),ce.return=ye,ce)}function Le(ye,ce,ke){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=c4(""+ce,ye.mode,ke),ce.return=ye,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case F:return ke=zE(ce.type,ce.key,ce.props,null,ye.mode,ke),ke.ref=Py(ye,null,ce),ke.return=ye,ke;case Z:return ce=d4(ce,ye.mode,ke),ce.return=ye,ce;case te:var Ke=ce._init;return Le(ye,Ke(ce._payload),ke)}if(ze(ce)||Te(ce))return ce=Nd(ce,ye.mode,ke,null),ce.return=ye,ce;mE(ye,ce)}return null}function Me(ye,ce,ke,Ke){var lt=ce!==null?ce.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return lt!==null?null:X(ye,ce,""+ke,Ke);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case F:return ke.key===lt?le(ye,ce,ke,Ke):null;case Z:return ke.key===lt?Ce(ye,ce,ke,Ke):null;case te:return lt=ke._init,Me(ye,ce,lt(ke._payload),Ke)}if(ze(ke)||Te(ke))return lt!==null?null:Ue(ye,ce,ke,Ke,null);mE(ye,ke)}return null}function Ze(ye,ce,ke,Ke,lt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return ye=ye.get(ke)||null,X(ce,ye,""+Ke,lt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case F:return ye=ye.get(Ke.key===null?ke:Ke.key)||null,le(ce,ye,Ke,lt);case Z:return ye=ye.get(Ke.key===null?ke:Ke.key)||null,Ce(ce,ye,Ke,lt);case te:var mt=Ke._init;return Ze(ye,ce,ke,mt(Ke._payload),lt)}if(ze(Ke)||Te(Ke))return ye=ye.get(ke)||null,Ue(ce,ye,Ke,lt,null);mE(ce,Ke)}return null}function rt(ye,ce,ke,Ke){for(var lt=null,mt=null,gt=ce,kt=ce=0,Gr=null;gt!==null&&kt<ke.length;kt++){gt.index>kt?(Gr=gt,gt=null):Gr=gt.sibling;var Rt=Me(ye,gt,ke[kt],Ke);if(Rt===null){gt===null&&(gt=Gr);break}n&&gt&&Rt.alternate===null&&a(ye,gt),ce=C(Rt,ce,kt),mt===null?lt=Rt:mt.sibling=Rt,mt=Rt,gt=Gr}if(kt===ke.length)return d(ye,gt),cr&&Id(ye,kt),lt;if(gt===null){for(;kt<ke.length;kt++)gt=Le(ye,ke[kt],Ke),gt!==null&&(ce=C(gt,ce,kt),mt===null?lt=gt:mt.sibling=gt,mt=gt);return cr&&Id(ye,kt),lt}for(gt=m(ye,gt);kt<ke.length;kt++)Gr=Ze(gt,ye,kt,ke[kt],Ke),Gr!==null&&(n&&Gr.alternate!==null&&gt.delete(Gr.key===null?kt:Gr.key),ce=C(Gr,ce,kt),mt===null?lt=Gr:mt.sibling=Gr,mt=Gr);return n&&gt.forEach(function(Ru){return a(ye,Ru)}),cr&&Id(ye,kt),lt}function it(ye,ce,ke,Ke){var lt=Te(ke);if(typeof lt!="function")throw Error(o(150));if(ke=lt.call(ke),ke==null)throw Error(o(151));for(var mt=lt=null,gt=ce,kt=ce=0,Gr=null,Rt=ke.next();gt!==null&&!Rt.done;kt++,Rt=ke.next()){gt.index>kt?(Gr=gt,gt=null):Gr=gt.sibling;var Ru=Me(ye,gt,Rt.value,Ke);if(Ru===null){gt===null&&(gt=Gr);break}n&&gt&&Ru.alternate===null&&a(ye,gt),ce=C(Ru,ce,kt),mt===null?lt=Ru:mt.sibling=Ru,mt=Ru,gt=Gr}if(Rt.done)return d(ye,gt),cr&&Id(ye,kt),lt;if(gt===null){for(;!Rt.done;kt++,Rt=ke.next())Rt=Le(ye,Rt.value,Ke),Rt!==null&&(ce=C(Rt,ce,kt),mt===null?lt=Rt:mt.sibling=Rt,mt=Rt);return cr&&Id(ye,kt),lt}for(gt=m(ye,gt);!Rt.done;kt++,Rt=ke.next())Rt=Ze(gt,ye,kt,Rt.value,Ke),Rt!==null&&(n&&Rt.alternate!==null&&gt.delete(Rt.key===null?kt:Rt.key),ce=C(Rt,ce,kt),mt===null?lt=Rt:mt.sibling=Rt,mt=Rt);return n&&gt.forEach(function(Ise){return a(ye,Ise)}),cr&&Id(ye,kt),lt}function Pr(ye,ce,ke,Ke){if(typeof ke=="object"&&ke!==null&&ke.type===ee&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case F:e:{for(var lt=ke.key,mt=ce;mt!==null;){if(mt.key===lt){if(lt=ke.type,lt===ee){if(mt.tag===7){d(ye,mt.sibling),ce=S(mt,ke.props.children),ce.return=ye,ye=ce;break e}}else if(mt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===te&&PZ(lt)===mt.type){d(ye,mt.sibling),ce=S(mt,ke.props),ce.ref=Py(ye,mt,ke),ce.return=ye,ye=ce;break e}d(ye,mt);break}else a(ye,mt);mt=mt.sibling}ke.type===ee?(ce=Nd(ke.props.children,ye.mode,Ke,ke.key),ce.return=ye,ye=ce):(Ke=zE(ke.type,ke.key,ke.props,null,ye.mode,Ke),Ke.ref=Py(ye,ce,ke),Ke.return=ye,ye=Ke)}return R(ye);case Z:e:{for(mt=ke.key;ce!==null;){if(ce.key===mt)if(ce.tag===4&&ce.stateNode.containerInfo===ke.containerInfo&&ce.stateNode.implementation===ke.implementation){d(ye,ce.sibling),ce=S(ce,ke.children||[]),ce.return=ye,ye=ce;break e}else{d(ye,ce);break}else a(ye,ce);ce=ce.sibling}ce=d4(ke,ye.mode,Ke),ce.return=ye,ye=ce}return R(ye);case te:return mt=ke._init,Pr(ye,ce,mt(ke._payload),Ke)}if(ze(ke))return rt(ye,ce,ke,Ke);if(Te(ke))return it(ye,ce,ke,Ke);mE(ye,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,ce!==null&&ce.tag===6?(d(ye,ce.sibling),ce=S(ce,ke),ce.return=ye,ye=ce):(d(ye,ce),ce=c4(ke,ye.mode,Ke),ce.return=ye,ye=ce),R(ye)):d(ye,ce)}return Pr}var um=CZ(!0),IZ=CZ(!1),Cy={},qi=Pu(Cy),Iy=Pu(Cy),jy=Pu(Cy);function Od(n){if(n===Cy)throw Error(o(174));return n}function jT(n,a){switch(tr(jy,a),tr(Iy,n),tr(qi,Cy),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:wt(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=wt(a,n)}sr(qi),tr(qi,a)}function cm(){sr(qi),sr(Iy),sr(jy)}function jZ(n){Od(jy.current);var a=Od(qi.current),d=wt(a,n.type);a!==d&&(tr(Iy,n),tr(qi,d))}function OT(n){Iy.current===n&&(sr(qi),sr(Iy))}var mr=Pu(0);function gE(n){for(var a=n;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var TT=[];function AT(){for(var n=0;n<TT.length;n++)TT[n]._workInProgressVersionPrimary=null;TT.length=0}var vE=z.ReactCurrentDispatcher,DT=z.ReactCurrentBatchConfig,Td=0,gr=null,Fr=null,Wr=null,yE=!1,Oy=!1,Ty=0,Xie=0;function En(){throw Error(o(321))}function zT(n,a){if(a===null)return!1;for(var d=0;d<a.length&&d<n.length;d++)if(!Ga(n[d],a[d]))return!1;return!0}function BT(n,a,d,m,S,C){if(Td=C,gr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,vE.current=n===null||n.memoizedState===null?ese:tse,n=d(m,S),Oy){C=0;do{if(Oy=!1,Ty=0,25<=C)throw Error(o(301));C+=1,Wr=Fr=null,a.updateQueue=null,vE.current=rse,n=d(m,S)}while(Oy)}if(vE.current=kE,a=Fr!==null&&Fr.next!==null,Td=0,Wr=Fr=gr=null,yE=!1,a)throw Error(o(300));return n}function NT(){var n=Ty!==0;return Ty=0,n}function Wi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?gr.memoizedState=Wr=n:Wr=Wr.next=n,Wr}function na(){if(Fr===null){var n=gr.alternate;n=n!==null?n.memoizedState:null}else n=Fr.next;var a=Wr===null?gr.memoizedState:Wr.next;if(a!==null)Wr=a,Fr=n;else{if(n===null)throw Error(o(310));Fr=n,n={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Wr===null?gr.memoizedState=Wr=n:Wr=Wr.next=n}return Wr}function Ay(n,a){return typeof a=="function"?a(n):a}function RT(n){var a=na(),d=a.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=n;var m=Fr,S=m.baseQueue,C=d.pending;if(C!==null){if(S!==null){var R=S.next;S.next=C.next,C.next=R}m.baseQueue=S=C,d.pending=null}if(S!==null){C=S.next,m=m.baseState;var X=R=null,le=null,Ce=C;do{var Ue=Ce.lane;if((Td&Ue)===Ue)le!==null&&(le=le.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),m=Ce.hasEagerState?Ce.eagerState:n(m,Ce.action);else{var Le={lane:Ue,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};le===null?(X=le=Le,R=m):le=le.next=Le,gr.lanes|=Ue,Ad|=Ue}Ce=Ce.next}while(Ce!==null&&Ce!==C);le===null?R=m:le.next=X,Ga(m,a.memoizedState)||(io=!0),a.memoizedState=m,a.baseState=R,a.baseQueue=le,d.lastRenderedState=m}if(n=d.interleaved,n!==null){S=n;do C=S.lane,gr.lanes|=C,Ad|=C,S=S.next;while(S!==n)}else S===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function FT(n){var a=na(),d=a.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=n;var m=d.dispatch,S=d.pending,C=a.memoizedState;if(S!==null){d.pending=null;var R=S=S.next;do C=n(C,R.action),R=R.next;while(R!==S);Ga(C,a.memoizedState)||(io=!0),a.memoizedState=C,a.baseQueue===null&&(a.baseState=C),d.lastRenderedState=C}return[C,m]}function OZ(){}function TZ(n,a){var d=gr,m=na(),S=a(),C=!Ga(m.memoizedState,S);if(C&&(m.memoizedState=S,io=!0),m=m.queue,MT(zZ.bind(null,d,m,n),[n]),m.getSnapshot!==a||C||Wr!==null&&Wr.memoizedState.tag&1){if(d.flags|=2048,Dy(9,DZ.bind(null,d,m,S,a),void 0,null),$r===null)throw Error(o(349));Td&30||AZ(d,a,S)}return S}function AZ(n,a,d){n.flags|=16384,n={getSnapshot:a,value:d},a=gr.updateQueue,a===null?(a={lastEffect:null,stores:null},gr.updateQueue=a,a.stores=[n]):(d=a.stores,d===null?a.stores=[n]:d.push(n))}function DZ(n,a,d,m){a.value=d,a.getSnapshot=m,BZ(a)&&NZ(n)}function zZ(n,a,d){return d(function(){BZ(a)&&NZ(n)})}function BZ(n){var a=n.getSnapshot;n=n.value;try{var d=a();return!Ga(n,d)}catch(m){return!0}}function NZ(n){var a=tl(n,1);a!==null&&Ja(a,n,1,-1)}function RZ(n){var a=Wi();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:n},a.queue=n,n=n.dispatch=Jie.bind(null,gr,n),[a.memoizedState,n]}function Dy(n,a,d,m){return n={tag:n,create:a,destroy:d,deps:m,next:null},a=gr.updateQueue,a===null?(a={lastEffect:null,stores:null},gr.updateQueue=a,a.lastEffect=n.next=n):(d=a.lastEffect,d===null?a.lastEffect=n.next=n:(m=d.next,d.next=n,n.next=m,a.lastEffect=n)),n}function FZ(){return na().memoizedState}function bE(n,a,d,m){var S=Wi();gr.flags|=n,S.memoizedState=Dy(1|a,d,void 0,m===void 0?null:m)}function wE(n,a,d,m){var S=na();m=m===void 0?null:m;var C=void 0;if(Fr!==null){var R=Fr.memoizedState;if(C=R.destroy,m!==null&&zT(m,R.deps)){S.memoizedState=Dy(a,d,C,m);return}}gr.flags|=n,S.memoizedState=Dy(1|a,d,C,m)}function MZ(n,a){return bE(8390656,8,n,a)}function MT(n,a){return wE(2048,8,n,a)}function UZ(n,a){return wE(4,2,n,a)}function VZ(n,a){return wE(4,4,n,a)}function HZ(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function LZ(n,a,d){return d=d!=null?d.concat([n]):null,wE(4,4,HZ.bind(null,a,n),d)}function UT(){}function KZ(n,a){var d=na();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&zT(a,m[1])?m[0]:(d.memoizedState=[n,a],n)}function qZ(n,a){var d=na();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&zT(a,m[1])?m[0]:(n=n(),d.memoizedState=[n,a],n)}function WZ(n,a,d){return Td&21?(Ga(d,a)||(d=vG(),gr.lanes|=d,Ad|=d,n.baseState=!0),a):(n.baseState&&(n.baseState=!1,io=!0),n.memoizedState=d)}function Yie(n,a){var d=Wt;Wt=d!==0&&4>d?d:4,n(!0);var m=DT.transition;DT.transition={};try{n(!1),a()}finally{Wt=d,DT.transition=m}}function $Z(){return na().memoizedState}function Qie(n,a,d){var m=zu(n);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},GZ(n))ZZ(a,d);else if(d=yZ(n,a,d,m),d!==null){var S=Wn();Ja(d,n,m,S),XZ(d,a,m)}}function Jie(n,a,d){var m=zu(n),S={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(GZ(n))ZZ(a,S);else{var C=n.alternate;if(n.lanes===0&&(C===null||C.lanes===0)&&(C=a.lastRenderedReducer,C!==null))try{var R=a.lastRenderedState,X=C(R,d);if(S.hasEagerState=!0,S.eagerState=X,Ga(X,R)){var le=a.interleaved;le===null?(S.next=S,ET(a)):(S.next=le.next,le.next=S),a.interleaved=S;return}}catch(Ce){}finally{}d=yZ(n,a,S,m),d!==null&&(S=Wn(),Ja(d,n,m,S),XZ(d,a,m))}}function GZ(n){var a=n.alternate;return n===gr||a!==null&&a===gr}function ZZ(n,a){Oy=yE=!0;var d=n.pending;d===null?a.next=a:(a.next=d.next,d.next=a),n.pending=a}function XZ(n,a,d){if(d&4194240){var m=a.lanes;m&=n.pendingLanes,d|=m,a.lanes=d,HO(n,d)}}var kE={readContext:ra,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},ese={readContext:ra,useCallback:function(n,a){return Wi().memoizedState=[n,a===void 0?null:a],n},useContext:ra,useEffect:MZ,useImperativeHandle:function(n,a,d){return d=d!=null?d.concat([n]):null,bE(4194308,4,HZ.bind(null,a,n),d)},useLayoutEffect:function(n,a){return bE(4194308,4,n,a)},useInsertionEffect:function(n,a){return bE(4,2,n,a)},useMemo:function(n,a){var d=Wi();return a=a===void 0?null:a,n=n(),d.memoizedState=[n,a],n},useReducer:function(n,a,d){var m=Wi();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},m.queue=n,n=n.dispatch=Qie.bind(null,gr,n),[m.memoizedState,n]},useRef:function(n){var a=Wi();return n={current:n},a.memoizedState=n},useState:RZ,useDebugValue:UT,useDeferredValue:function(n){return Wi().memoizedState=n},useTransition:function(){var n=RZ(!1),a=n[0];return n=Yie.bind(null,n[1]),Wi().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,d){var m=gr,S=Wi();if(cr){if(d===void 0)throw Error(o(407));d=d()}else{if(d=a(),$r===null)throw Error(o(349));Td&30||AZ(m,a,d)}S.memoizedState=d;var C={value:d,getSnapshot:a};return S.queue=C,MZ(zZ.bind(null,m,C,n),[n]),m.flags|=2048,Dy(9,DZ.bind(null,m,C,d,a),void 0,null),d},useId:function(){var n=Wi(),a=$r.identifierPrefix;if(cr){var d=el,m=Js;d=(m&~(1<<32-$a(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=Ty++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=Xie++,a=":"+a+"r"+d.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},tse={readContext:ra,useCallback:KZ,useContext:ra,useEffect:MT,useImperativeHandle:LZ,useInsertionEffect:UZ,useLayoutEffect:VZ,useMemo:qZ,useReducer:RT,useRef:FZ,useState:function(){return RT(Ay)},useDebugValue:UT,useDeferredValue:function(n){var a=na();return WZ(a,Fr.memoizedState,n)},useTransition:function(){var n=RT(Ay)[0],a=na().memoizedState;return[n,a]},useMutableSource:OZ,useSyncExternalStore:TZ,useId:$Z,unstable_isNewReconciler:!1},rse={readContext:ra,useCallback:KZ,useContext:ra,useEffect:MT,useImperativeHandle:LZ,useInsertionEffect:UZ,useLayoutEffect:VZ,useMemo:qZ,useReducer:FT,useRef:FZ,useState:function(){return FT(Ay)},useDebugValue:UT,useDeferredValue:function(n){var a=na();return Fr===null?a.memoizedState=n:WZ(a,Fr.memoizedState,n)},useTransition:function(){var n=FT(Ay)[0],a=na().memoizedState;return[n,a]},useMutableSource:OZ,useSyncExternalStore:TZ,useId:$Z,unstable_isNewReconciler:!1};function dm(n,a){try{var d="",m=a;do d+=fe(m),m=m.return;while(m);var S=d}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:n,source:a,stack:S,digest:null}}function VT(n,a,d){return{value:n,source:null,stack:d!=null?d:null,digest:a!=null?a:null}}function HT(n,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var nse=typeof WeakMap=="function"?WeakMap:Map;function YZ(n,a,d){d=rl(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){IE||(IE=!0,r4=m),HT(n,a)},d}function QZ(n,a,d){d=rl(-1,d),d.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var S=a.value;d.payload=function(){return m(S)},d.callback=function(){HT(n,a)}}var C=n.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(d.callback=function(){HT(n,a),typeof m!="function"&&(Au===null?Au=new Set([this]):Au.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),d}function JZ(n,a,d){var m=n.pingCache;if(m===null){m=n.pingCache=new nse;var S=new Set;m.set(a,S)}else S=m.get(a),S===void 0&&(S=new Set,m.set(a,S));S.has(d)||(S.add(d),n=vse.bind(null,n,a,d),a.then(n,n))}function eX(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function tX(n,a,d,m,S){return n.mode&1?(n.flags|=65536,n.lanes=S,n):(n===a?n.flags|=65536:(n.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=rl(-1,1),a.tag=2,Ou(d,a,1))),d.lanes|=1),n)}var ose=z.ReactCurrentOwner,io=!1;function qn(n,a,d,m){a.child=n===null?IZ(a,null,d,m):um(a,n.child,d,m)}function rX(n,a,d,m,S){d=d.render;var C=a.ref;return lm(a,S),m=BT(n,a,d,m,C,S),d=NT(),n!==null&&!io?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~S,nl(n,a,S)):(cr&&d&&gT(a),a.flags|=1,qn(n,a,m,S),a.child)}function nX(n,a,d,m,S){if(n===null){var C=d.type;return typeof C=="function"&&!u4(C)&&C.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=C,oX(n,a,C,m,S)):(n=zE(d.type,null,m,a,a.mode,S),n.ref=a.ref,n.return=a,a.child=n)}if(C=n.child,!(n.lanes&S)){var R=C.memoizedProps;if(d=d.compare,d=d!==null?d:by,d(R,m)&&n.ref===a.ref)return nl(n,a,S)}return a.flags|=1,n=Nu(C,m),n.ref=a.ref,n.return=a,a.child=n}function oX(n,a,d,m,S){if(n!==null){var C=n.memoizedProps;if(by(C,m)&&n.ref===a.ref)if(io=!1,a.pendingProps=m=C,(n.lanes&S)!==0)n.flags&131072&&(io=!0);else return a.lanes=n.lanes,nl(n,a,S)}return LT(n,a,d,m,S)}function aX(n,a,d){var m=a.pendingProps,S=m.children,C=n!==null?n.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(pm,Do),Do|=d;else{if(!(d&1073741824))return n=C!==null?C.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,tr(pm,Do),Do|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=C!==null?C.baseLanes:d,tr(pm,Do),Do|=m}else C!==null?(m=C.baseLanes|d,a.memoizedState=null):m=d,tr(pm,Do),Do|=m;return qn(n,a,S,d),a.child}function iX(n,a){var d=a.ref;(n===null&&d!==null||n!==null&&n.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function LT(n,a,d,m,S){var C=ao(d)?Pd:Sn.current;return C=nm(a,C),lm(a,S),d=BT(n,a,d,m,C,S),m=NT(),n!==null&&!io?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~S,nl(n,a,S)):(cr&&m&&gT(a),a.flags|=1,qn(n,a,d,S),a.child)}function sX(n,a,d,m,S){if(ao(d)){var C=!0;aE(a)}else C=!1;if(lm(a,S),a.stateNode===null)xE(n,a),SZ(a,d,m),IT(a,d,m,S),m=!0;else if(n===null){var R=a.stateNode,X=a.memoizedProps;R.props=X;var le=R.context,Ce=d.contextType;typeof Ce=="object"&&Ce!==null?Ce=ra(Ce):(Ce=ao(d)?Pd:Sn.current,Ce=nm(a,Ce));var Ue=d.getDerivedStateFromProps,Le=typeof Ue=="function"||typeof R.getSnapshotBeforeUpdate=="function";Le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X!==m||le!==Ce)&&EZ(a,R,m,Ce),ju=!1;var Me=a.memoizedState;R.state=Me,pE(a,m,R,S),le=a.memoizedState,X!==m||Me!==le||oo.current||ju?(typeof Ue=="function"&&(CT(a,d,Ue,m),le=a.memoizedState),(X=ju||xZ(a,d,X,m,Me,le,Ce))?(Le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=le),R.props=m,R.state=le,R.context=Ce,m=X):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{R=a.stateNode,bZ(n,a),X=a.memoizedProps,Ce=a.type===a.elementType?X:Xa(a.type,X),R.props=Ce,Le=a.pendingProps,Me=R.context,le=d.contextType,typeof le=="object"&&le!==null?le=ra(le):(le=ao(d)?Pd:Sn.current,le=nm(a,le));var Ze=d.getDerivedStateFromProps;(Ue=typeof Ze=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X!==Le||Me!==le)&&EZ(a,R,m,le),ju=!1,Me=a.memoizedState,R.state=Me,pE(a,m,R,S);var rt=a.memoizedState;X!==Le||Me!==rt||oo.current||ju?(typeof Ze=="function"&&(CT(a,d,Ze,m),rt=a.memoizedState),(Ce=ju||xZ(a,d,Ce,m,Me,rt,le)||!1)?(Ue||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,rt,le),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,rt,le)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=rt),R.props=m,R.state=rt,R.context=le,m=Ce):(typeof R.componentDidUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===n.memoizedProps&&Me===n.memoizedState||(a.flags|=1024),m=!1)}return KT(n,a,d,m,C,S)}function KT(n,a,d,m,S,C){iX(n,a);var R=(a.flags&128)!==0;if(!m&&!R)return S&&dZ(a,d,!1),nl(n,a,C);m=a.stateNode,ose.current=a;var X=R&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,n!==null&&R?(a.child=um(a,n.child,null,C),a.child=um(a,null,X,C)):qn(n,a,X,C),a.memoizedState=m.state,S&&dZ(a,d,!0),a.child}function lX(n){var a=n.stateNode;a.pendingContext?uZ(n,a.pendingContext,a.pendingContext!==a.context):a.context&&uZ(n,a.context,!1),jT(n,a.containerInfo)}function uX(n,a,d,m,S){return im(),wT(S),a.flags|=256,qn(n,a,d,m),a.child}var qT={dehydrated:null,treeContext:null,retryLane:0};function WT(n){return{baseLanes:n,cachePool:null,transitions:null}}function cX(n,a,d){var m=a.pendingProps,S=mr.current,C=!1,R=(a.flags&128)!==0,X;if((X=R)||(X=n!==null&&n.memoizedState===null?!1:(S&2)!==0),X?(C=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(S|=1),tr(mr,S&1),n===null)return bT(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(a.mode&1?n.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(R=m.children,n=m.fallback,C?(m=a.mode,C=a.child,R={mode:"hidden",children:R},!(m&1)&&C!==null?(C.childLanes=0,C.pendingProps=R):C=BE(R,m,0,null),n=Nd(n,m,d,null),C.return=a,n.return=a,C.sibling=n,a.child=C,a.child.memoizedState=WT(d),a.memoizedState=qT,n):$T(a,R));if(S=n.memoizedState,S!==null&&(X=S.dehydrated,X!==null))return ase(n,a,R,m,X,S,d);if(C){C=m.fallback,R=a.mode,S=n.child,X=S.sibling;var le={mode:"hidden",children:m.children};return!(R&1)&&a.child!==S?(m=a.child,m.childLanes=0,m.pendingProps=le,a.deletions=null):(m=Nu(S,le),m.subtreeFlags=S.subtreeFlags&14680064),X!==null?C=Nu(X,C):(C=Nd(C,R,d,null),C.flags|=2),C.return=a,m.return=a,m.sibling=C,a.child=m,m=C,C=a.child,R=n.child.memoizedState,R=R===null?WT(d):{baseLanes:R.baseLanes|d,cachePool:null,transitions:R.transitions},C.memoizedState=R,C.childLanes=n.childLanes&~d,a.memoizedState=qT,m}return C=n.child,n=C.sibling,m=Nu(C,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=d),m.return=a,m.sibling=null,n!==null&&(d=a.deletions,d===null?(a.deletions=[n],a.flags|=16):d.push(n)),a.child=m,a.memoizedState=null,m}function $T(n,a){return a=BE({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function _E(n,a,d,m){return m!==null&&wT(m),um(a,n.child,null,d),n=$T(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function ase(n,a,d,m,S,C,R){if(d)return a.flags&256?(a.flags&=-257,m=VT(Error(o(422))),_E(n,a,R,m)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(C=m.fallback,S=a.mode,m=BE({mode:"visible",children:m.children},S,0,null),C=Nd(C,S,R,null),C.flags|=2,m.return=a,C.return=a,m.sibling=C,a.child=m,a.mode&1&&um(a,n.child,null,R),a.child.memoizedState=WT(R),a.memoizedState=qT,C);if(!(a.mode&1))return _E(n,a,R,null);if(S.data==="$!"){if(m=S.nextSibling&&S.nextSibling.dataset,m)var X=m.dgst;return m=X,C=Error(o(419)),m=VT(C,m,void 0),_E(n,a,R,m)}if(X=(R&n.childLanes)!==0,io||X){if(m=$r,m!==null){switch(R&-R){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=S&(m.suspendedLanes|R)?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,tl(n,S),Ja(m,n,S,-1))}return l4(),m=VT(Error(o(421))),_E(n,a,R,m)}return S.data==="$?"?(a.flags|=128,a.child=n.child,a=yse.bind(null,n),S._reactRetry=a,null):(n=C.treeContext,Ao=Eu(S.nextSibling),To=a,cr=!0,Za=null,n!==null&&(ea[ta++]=Js,ea[ta++]=el,ea[ta++]=Cd,Js=n.id,el=n.overflow,Cd=a),a=$T(a,m.children),a.flags|=4096,a)}function dX(n,a,d){n.lanes|=a;var m=n.alternate;m!==null&&(m.lanes|=a),ST(n.return,a,d)}function GT(n,a,d,m,S){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:S}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=d,C.tailMode=S)}function fX(n,a,d){var m=a.pendingProps,S=m.revealOrder,C=m.tail;if(qn(n,a,m.children,d),m=mr.current,m&2)m=m&1|2,a.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dX(n,d,a);else if(n.tag===19)dX(n,d,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(tr(mr,m),!(a.mode&1))a.memoizedState=null;else switch(S){case"forwards":for(d=a.child,S=null;d!==null;)n=d.alternate,n!==null&&gE(n)===null&&(S=d),d=d.sibling;d=S,d===null?(S=a.child,a.child=null):(S=d.sibling,d.sibling=null),GT(a,!1,S,d,C);break;case"backwards":for(d=null,S=a.child,a.child=null;S!==null;){if(n=S.alternate,n!==null&&gE(n)===null){a.child=S;break}n=S.sibling,S.sibling=d,d=S,S=n}GT(a,!0,d,null,C);break;case"together":GT(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function xE(n,a){!(a.mode&1)&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function nl(n,a,d){if(n!==null&&(a.dependencies=n.dependencies),Ad|=a.lanes,!(d&a.childLanes))return null;if(n!==null&&a.child!==n.child)throw Error(o(153));if(a.child!==null){for(n=a.child,d=Nu(n,n.pendingProps),a.child=d,d.return=a;n.sibling!==null;)n=n.sibling,d=d.sibling=Nu(n,n.pendingProps),d.return=a;d.sibling=null}return a.child}function ise(n,a,d){switch(a.tag){case 3:lX(a),im();break;case 5:jZ(a);break;case 1:ao(a.type)&&aE(a);break;case 4:jT(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,S=a.memoizedProps.value;tr(cE,m._currentValue),m._currentValue=S;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(tr(mr,mr.current&1),a.flags|=128,null):d&a.child.childLanes?cX(n,a,d):(tr(mr,mr.current&1),n=nl(n,a,d),n!==null?n.sibling:null);tr(mr,mr.current&1);break;case 19:if(m=(d&a.childLanes)!==0,n.flags&128){if(m)return fX(n,a,d);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),tr(mr,mr.current),m)break;return null;case 22:case 23:return a.lanes=0,aX(n,a,d)}return nl(n,a,d)}var pX,ZT,hX,mX;pX=function(n,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ZT=function(){},hX=function(n,a,d,m){var S=n.memoizedProps;if(S!==m){n=a.stateNode,Od(qi.current);var C=null;switch(d){case"input":S=Pe(n,S),m=Pe(n,m),C=[];break;case"select":S=V({},S,{value:void 0}),m=V({},m,{value:void 0}),C=[];break;case"textarea":S=Fe(n,S),m=Fe(n,m),C=[];break;default:typeof S.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=rE)}qh(d,m);var R;d=null;for(Ce in S)if(!m.hasOwnProperty(Ce)&&S.hasOwnProperty(Ce)&&S[Ce]!=null)if(Ce==="style"){var X=S[Ce];for(R in X)X.hasOwnProperty(R)&&(d||(d={}),d[R]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(s.hasOwnProperty(Ce)?C||(C=[]):(C=C||[]).push(Ce,null));for(Ce in m){var le=m[Ce];if(X=S!=null?S[Ce]:void 0,m.hasOwnProperty(Ce)&&le!==X&&(le!=null||X!=null))if(Ce==="style")if(X){for(R in X)!X.hasOwnProperty(R)||le&&le.hasOwnProperty(R)||(d||(d={}),d[R]="");for(R in le)le.hasOwnProperty(R)&&X[R]!==le[R]&&(d||(d={}),d[R]=le[R])}else d||(C||(C=[]),C.push(Ce,d)),d=le;else Ce==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,X=X?X.__html:void 0,le!=null&&X!==le&&(C=C||[]).push(Ce,le)):Ce==="children"?typeof le!="string"&&typeof le!="number"||(C=C||[]).push(Ce,""+le):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ce)?(le!=null&&Ce==="onScroll"&&ir("scroll",n),C||X===le||(C=[])):(C=C||[]).push(Ce,le))}d&&(C=C||[]).push("style",d);var Ce=C;(a.updateQueue=Ce)&&(a.flags|=4)}},mX=function(n,a,d,m){d!==m&&(a.flags|=4)};function zy(n,a){if(!cr)switch(n.tailMode){case"hidden":a=n.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Pn(n){var a=n.alternate!==null&&n.alternate.child===n.child,d=0,m=0;if(a)for(var S=n.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags&14680064,m|=S.flags&14680064,S.return=n,S=S.sibling;else for(S=n.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=n,S=S.sibling;return n.subtreeFlags|=m,n.childLanes=d,a}function sse(n,a,d){var m=a.pendingProps;switch(vT(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(a),null;case 1:return ao(a.type)&&oE(),Pn(a),null;case 3:return m=a.stateNode,cm(),sr(oo),sr(Sn),AT(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(uE(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Za!==null&&(a4(Za),Za=null))),ZT(n,a),Pn(a),null;case 5:OT(a);var S=Od(jy.current);if(d=a.type,n!==null&&a.stateNode!=null)hX(n,a,d,m,S),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(o(166));return Pn(a),null}if(n=Od(qi.current),uE(a)){m=a.stateNode,d=a.type;var C=a.memoizedProps;switch(m[Ki]=a,m[Sy]=C,n=(a.mode&1)!==0,d){case"dialog":ir("cancel",m),ir("close",m);break;case"iframe":case"object":case"embed":ir("load",m);break;case"video":case"audio":for(S=0;S<ky.length;S++)ir(ky[S],m);break;case"source":ir("error",m);break;case"img":case"image":case"link":ir("error",m),ir("load",m);break;case"details":ir("toggle",m);break;case"input":xe(m,C),ir("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!C.multiple},ir("invalid",m);break;case"textarea":De(m,C),ir("invalid",m)}qh(d,C),S=null;for(var R in C)if(C.hasOwnProperty(R)){var X=C[R];R==="children"?typeof X=="string"?m.textContent!==X&&(C.suppressHydrationWarning!==!0&&tE(m.textContent,X,n),S=["children",X]):typeof X=="number"&&m.textContent!==""+X&&(C.suppressHydrationWarning!==!0&&tE(m.textContent,X,n),S=["children",""+X]):s.hasOwnProperty(R)&&X!=null&&R==="onScroll"&&ir("scroll",m)}switch(d){case"input":ct(m),pe(m,C,!0);break;case"textarea":ct(m),ut(m);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(m.onclick=rE)}m=S,a.updateQueue=m,m!==null&&(a.flags|=4)}else{R=S.nodeType===9?S:S.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=zt(d)),n==="http://www.w3.org/1999/xhtml"?d==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=R.createElement(d,{is:m.is}):(n=R.createElement(d),d==="select"&&(R=n,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):n=R.createElementNS(n,d),n[Ki]=a,n[Sy]=m,pX(n,a,!1,!1),a.stateNode=n;e:{switch(R=ry(d,m),d){case"dialog":ir("cancel",n),ir("close",n),S=m;break;case"iframe":case"object":case"embed":ir("load",n),S=m;break;case"video":case"audio":for(S=0;S<ky.length;S++)ir(ky[S],n);S=m;break;case"source":ir("error",n),S=m;break;case"img":case"image":case"link":ir("error",n),ir("load",n),S=m;break;case"details":ir("toggle",n),S=m;break;case"input":xe(n,m),S=Pe(n,m),ir("invalid",n);break;case"option":S=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},S=V({},m,{value:void 0}),ir("invalid",n);break;case"textarea":De(n,m),S=Fe(n,m),ir("invalid",n);break;default:S=m}qh(d,S),X=S;for(C in X)if(X.hasOwnProperty(C)){var le=X[C];C==="style"?Kh(n,le):C==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,le!=null&&yu(n,le)):C==="children"?typeof le=="string"?(d!=="textarea"||le!=="")&&xn(n,le):typeof le=="number"&&xn(n,""+le):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(s.hasOwnProperty(C)?le!=null&&C==="onScroll"&&ir("scroll",n):le!=null&&B(n,C,le,R))}switch(d){case"input":ct(n),pe(n,m,!1);break;case"textarea":ct(n),ut(n);break;case"option":m.value!=null&&n.setAttribute("value",""+qe(m.value));break;case"select":n.multiple=!!m.multiple,C=m.value,C!=null?ve(n,!!m.multiple,C,!1):m.defaultValue!=null&&ve(n,!!m.multiple,m.defaultValue,!0);break;default:typeof S.onClick=="function"&&(n.onclick=rE)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Pn(a),null;case 6:if(n&&a.stateNode!=null)mX(n,a,n.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(o(166));if(d=Od(jy.current),Od(qi.current),uE(a)){if(m=a.stateNode,d=a.memoizedProps,m[Ki]=a,(C=m.nodeValue!==d)&&(n=To,n!==null))switch(n.tag){case 3:tE(m.nodeValue,d,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&tE(m.nodeValue,d,(n.mode&1)!==0)}C&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Ki]=a,a.stateNode=m}return Pn(a),null;case 13:if(sr(mr),m=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(cr&&Ao!==null&&a.mode&1&&!(a.flags&128))vZ(),im(),a.flags|=98560,C=!1;else if(C=uE(a),m!==null&&m.dehydrated!==null){if(n===null){if(!C)throw Error(o(318));if(C=a.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(o(317));C[Ki]=a}else im(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Pn(a),C=!1}else Za!==null&&(a4(Za),Za=null),C=!0;if(!C)return a.flags&65536?a:null}return a.flags&128?(a.lanes=d,a):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(n===null||mr.current&1?Mr===0&&(Mr=3):l4())),a.updateQueue!==null&&(a.flags|=4),Pn(a),null);case 4:return cm(),ZT(n,a),n===null&&_y(a.stateNode.containerInfo),Pn(a),null;case 10:return xT(a.type._context),Pn(a),null;case 17:return ao(a.type)&&oE(),Pn(a),null;case 19:if(sr(mr),C=a.memoizedState,C===null)return Pn(a),null;if(m=(a.flags&128)!==0,R=C.rendering,R===null)if(m)zy(C,!1);else{if(Mr!==0||n!==null&&n.flags&128)for(n=a.child;n!==null;){if(R=gE(n),R!==null){for(a.flags|=128,zy(C,!1),m=R.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)C=d,n=m,C.flags&=14680066,R=C.alternate,R===null?(C.childLanes=0,C.lanes=n,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=R.childLanes,C.lanes=R.lanes,C.child=R.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=R.memoizedProps,C.memoizedState=R.memoizedState,C.updateQueue=R.updateQueue,C.type=R.type,n=R.dependencies,C.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),d=d.sibling;return tr(mr,mr.current&1|2),a.child}n=n.sibling}C.tail!==null&&Er()>hm&&(a.flags|=128,m=!0,zy(C,!1),a.lanes=4194304)}else{if(!m)if(n=gE(R),n!==null){if(a.flags|=128,m=!0,d=n.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),zy(C,!0),C.tail===null&&C.tailMode==="hidden"&&!R.alternate&&!cr)return Pn(a),null}else 2*Er()-C.renderingStartTime>hm&&d!==1073741824&&(a.flags|=128,m=!0,zy(C,!1),a.lanes=4194304);C.isBackwards?(R.sibling=a.child,a.child=R):(d=C.last,d!==null?d.sibling=R:a.child=R,C.last=R)}return C.tail!==null?(a=C.tail,C.rendering=a,C.tail=a.sibling,C.renderingStartTime=Er(),a.sibling=null,d=mr.current,tr(mr,m?d&1|2:d&1),a):(Pn(a),null);case 22:case 23:return s4(),m=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?Do&1073741824&&(Pn(a),a.subtreeFlags&6&&(a.flags|=8192)):Pn(a),null;case 24:return null;case 25:return null}throw Error(o(156,a.tag))}function lse(n,a){switch(vT(a),a.tag){case 1:return ao(a.type)&&oE(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return cm(),sr(oo),sr(Sn),AT(),n=a.flags,n&65536&&!(n&128)?(a.flags=n&-65537|128,a):null;case 5:return OT(a),null;case 13:if(sr(mr),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(o(340));im()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return sr(mr),null;case 4:return cm(),null;case 10:return xT(a.type._context),null;case 22:case 23:return s4(),null;case 24:return null;default:return null}}var SE=!1,Cn=!1,use=typeof WeakSet=="function"?WeakSet:Set,Je=null;function fm(n,a){var d=n.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){kr(n,a,m)}else d.current=null}function gX(n,a,d){try{d()}catch(m){kr(n,a,m)}}var vX=!1;function cse(n,a){if(lT=VS,n=qG(),rT(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var S=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{d.nodeType,C.nodeType}catch(Ke){d=null;break e}var R=0,X=-1,le=-1,Ce=0,Ue=0,Le=n,Me=null;t:for(;;){for(var Ze;Le!==d||S!==0&&Le.nodeType!==3||(X=R+S),Le!==C||m!==0&&Le.nodeType!==3||(le=R+m),Le.nodeType===3&&(R+=Le.nodeValue.length),(Ze=Le.firstChild)!==null;)Me=Le,Le=Ze;for(;;){if(Le===n)break t;if(Me===d&&++Ce===S&&(X=R),Me===C&&++Ue===m&&(le=R),(Ze=Le.nextSibling)!==null)break;Le=Me,Me=Le.parentNode}Le=Ze}d=X===-1||le===-1?null:{start:X,end:le}}else d=null}d=d||{start:0,end:0}}else d=null;for(uT={focusedElem:n,selectionRange:d},VS=!1,Je=a;Je!==null;)if(a=Je,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Je=n;else for(;Je!==null;){a=Je;try{var rt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var it=rt.memoizedProps,Pr=rt.memoizedState,ye=a.stateNode,ce=ye.getSnapshotBeforeUpdate(a.elementType===a.type?it:Xa(a.type,it),Pr);ye.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var ke=a.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ke){kr(a,a.return,Ke)}if(n=a.sibling,n!==null){n.return=a.return,Je=n;break}Je=a.return}return rt=vX,vX=!1,rt}function By(n,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&n)===n){var C=S.destroy;S.destroy=void 0,C!==void 0&&gX(a,d,C)}S=S.next}while(S!==m)}}function EE(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&n)===n){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function XT(n){var a=n.ref;if(a!==null){var d=n.stateNode;switch(n.tag){case 5:n=d;break;default:n=d}typeof a=="function"?a(n):a.current=n}}function yX(n){var a=n.alternate;a!==null&&(n.alternate=null,yX(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[Ki],delete a[Sy],delete a[pT],delete a[Wie],delete a[$ie])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bX(n){return n.tag===5||n.tag===3||n.tag===4}function wX(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bX(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function YT(n,a,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(n,a):d.insertBefore(n,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(n,d)):(a=d,a.appendChild(n)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=rE));else if(m!==4&&(n=n.child,n!==null))for(YT(n,a,d),n=n.sibling;n!==null;)YT(n,a,d),n=n.sibling}function QT(n,a,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,a?d.insertBefore(n,a):d.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(QT(n,a,d),n=n.sibling;n!==null;)QT(n,a,d),n=n.sibling}var cn=null,Ya=!1;function Tu(n,a,d){for(d=d.child;d!==null;)kX(n,a,d),d=d.sibling}function kX(n,a,d){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(BS,d)}catch(X){}switch(d.tag){case 5:Cn||fm(d,a);case 6:var m=cn,S=Ya;cn=null,Tu(n,a,d),cn=m,Ya=S,cn!==null&&(Ya?(n=cn,d=d.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)):cn.removeChild(d.stateNode));break;case 18:cn!==null&&(Ya?(n=cn,d=d.stateNode,n.nodeType===8?fT(n.parentNode,d):n.nodeType===1&&fT(n,d),py(n)):fT(cn,d.stateNode));break;case 4:m=cn,S=Ya,cn=d.stateNode.containerInfo,Ya=!0,Tu(n,a,d),cn=m,Ya=S;break;case 0:case 11:case 14:case 15:if(!Cn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){S=m=m.next;do{var C=S,R=C.destroy;C=C.tag,R!==void 0&&(C&2||C&4)&&gX(d,a,R),S=S.next}while(S!==m)}Tu(n,a,d);break;case 1:if(!Cn&&(fm(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(X){kr(d,a,X)}Tu(n,a,d);break;case 21:Tu(n,a,d);break;case 22:d.mode&1?(Cn=(m=Cn)||d.memoizedState!==null,Tu(n,a,d),Cn=m):Tu(n,a,d);break;default:Tu(n,a,d)}}function _X(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var d=n.stateNode;d===null&&(d=n.stateNode=new use),a.forEach(function(m){var S=bse.bind(null,n,m);d.has(m)||(d.add(m),m.then(S,S))})}}function Qa(n,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var S=d[m];try{var C=n,R=a,X=R;e:for(;X!==null;){switch(X.tag){case 5:cn=X.stateNode,Ya=!1;break e;case 3:cn=X.stateNode.containerInfo,Ya=!0;break e;case 4:cn=X.stateNode.containerInfo,Ya=!0;break e}X=X.return}if(cn===null)throw Error(o(160));kX(C,R,S),cn=null,Ya=!1;var le=S.alternate;le!==null&&(le.return=null),S.return=null}catch(Ce){kr(S,a,Ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)xX(a,n),a=a.sibling}function xX(n,a){var d=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qa(a,n),$i(n),m&4){try{By(3,n,n.return),EE(3,n)}catch(it){kr(n,n.return,it)}try{By(5,n,n.return)}catch(it){kr(n,n.return,it)}}break;case 1:Qa(a,n),$i(n),m&512&&d!==null&&fm(d,d.return);break;case 5:if(Qa(a,n),$i(n),m&512&&d!==null&&fm(d,d.return),n.flags&32){var S=n.stateNode;try{xn(S,"")}catch(it){kr(n,n.return,it)}}if(m&4&&(S=n.stateNode,S!=null)){var C=n.memoizedProps,R=d!==null?d.memoizedProps:C,X=n.type,le=n.updateQueue;if(n.updateQueue=null,le!==null)try{X==="input"&&C.type==="radio"&&C.name!=null&&G(S,C),ry(X,R);var Ce=ry(X,C);for(R=0;R<le.length;R+=2){var Ue=le[R],Le=le[R+1];Ue==="style"?Kh(S,Le):Ue==="dangerouslySetInnerHTML"?yu(S,Le):Ue==="children"?xn(S,Le):B(S,Ue,Le,Ce)}switch(X){case"input":$(S,C);break;case"textarea":Be(S,C);break;case"select":var Me=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var Ze=C.value;Ze!=null?ve(S,!!C.multiple,Ze,!1):Me!==!!C.multiple&&(C.defaultValue!=null?ve(S,!!C.multiple,C.defaultValue,!0):ve(S,!!C.multiple,C.multiple?[]:"",!1))}S[Sy]=C}catch(it){kr(n,n.return,it)}}break;case 6:if(Qa(a,n),$i(n),m&4){if(n.stateNode===null)throw Error(o(162));S=n.stateNode,C=n.memoizedProps;try{S.nodeValue=C}catch(it){kr(n,n.return,it)}}break;case 3:if(Qa(a,n),$i(n),m&4&&d!==null&&d.memoizedState.isDehydrated)try{py(a.containerInfo)}catch(it){kr(n,n.return,it)}break;case 4:Qa(a,n),$i(n);break;case 13:Qa(a,n),$i(n),S=n.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||(t4=Er())),m&4&&_X(n);break;case 22:if(Ue=d!==null&&d.memoizedState!==null,n.mode&1?(Cn=(Ce=Cn)||Ue,Qa(a,n),Cn=Ce):Qa(a,n),$i(n),m&8192){if(Ce=n.memoizedState!==null,(n.stateNode.isHidden=Ce)&&!Ue&&n.mode&1)for(Je=n,Ue=n.child;Ue!==null;){for(Le=Je=Ue;Je!==null;){switch(Me=Je,Ze=Me.child,Me.tag){case 0:case 11:case 14:case 15:By(4,Me,Me.return);break;case 1:fm(Me,Me.return);var rt=Me.stateNode;if(typeof rt.componentWillUnmount=="function"){m=Me,d=Me.return;try{a=m,rt.props=a.memoizedProps,rt.state=a.memoizedState,rt.componentWillUnmount()}catch(it){kr(m,d,it)}}break;case 5:fm(Me,Me.return);break;case 22:if(Me.memoizedState!==null){PX(Le);continue}}Ze!==null?(Ze.return=Me,Je=Ze):PX(Le)}Ue=Ue.sibling}e:for(Ue=null,Le=n;;){if(Le.tag===5){if(Ue===null){Ue=Le;try{S=Le.stateNode,Ce?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(X=Le.stateNode,le=Le.memoizedProps.style,R=le!=null&&le.hasOwnProperty("display")?le.display:null,X.style.display=xd("display",R))}catch(it){kr(n,n.return,it)}}}else if(Le.tag===6){if(Ue===null)try{Le.stateNode.nodeValue=Ce?"":Le.memoizedProps}catch(it){kr(n,n.return,it)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===n)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===n)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===n)break e;Ue===Le&&(Ue=null),Le=Le.return}Ue===Le&&(Ue=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:Qa(a,n),$i(n),m&4&&_X(n);break;case 21:break;default:Qa(a,n),$i(n)}}function $i(n){var a=n.flags;if(a&2){try{e:{for(var d=n.return;d!==null;){if(bX(d)){var m=d;break e}d=d.return}throw Error(o(160))}switch(m.tag){case 5:var S=m.stateNode;m.flags&32&&(xn(S,""),m.flags&=-33);var C=wX(n);QT(n,C,S);break;case 3:case 4:var R=m.stateNode.containerInfo,X=wX(n);YT(n,X,R);break;default:throw Error(o(161))}}catch(le){kr(n,n.return,le)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function dse(n,a,d){Je=n,SX(n)}function SX(n,a,d){for(var m=(n.mode&1)!==0;Je!==null;){var S=Je,C=S.child;if(S.tag===22&&m){var R=S.memoizedState!==null||SE;if(!R){var X=S.alternate,le=X!==null&&X.memoizedState!==null||Cn;X=SE;var Ce=Cn;if(SE=R,(Cn=le)&&!Ce)for(Je=S;Je!==null;)R=Je,le=R.child,R.tag===22&&R.memoizedState!==null?CX(S):le!==null?(le.return=R,Je=le):CX(S);for(;C!==null;)Je=C,SX(C),C=C.sibling;Je=S,SE=X,Cn=Ce}EX(n)}else S.subtreeFlags&8772&&C!==null?(C.return=S,Je=C):EX(n)}}function EX(n){for(;Je!==null;){var a=Je;if(a.flags&8772){var d=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Cn||EE(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Cn)if(d===null)m.componentDidMount();else{var S=a.elementType===a.type?d.memoizedProps:Xa(a.type,d.memoizedProps);m.componentDidUpdate(S,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var C=a.updateQueue;C!==null&&kZ(a,C,m);break;case 3:var R=a.updateQueue;if(R!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}kZ(a,R,d)}break;case 5:var X=a.stateNode;if(d===null&&a.flags&4){d=X;var le=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&d.focus();break;case"img":le.src&&(d.src=le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ce=a.alternate;if(Ce!==null){var Ue=Ce.memoizedState;if(Ue!==null){var Le=Ue.dehydrated;Le!==null&&py(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Cn||a.flags&512&&XT(a)}catch(Me){kr(a,a.return,Me)}}if(a===n){Je=null;break}if(d=a.sibling,d!==null){d.return=a.return,Je=d;break}Je=a.return}}function PX(n){for(;Je!==null;){var a=Je;if(a===n){Je=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Je=d;break}Je=a.return}}function CX(n){for(;Je!==null;){var a=Je;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{EE(4,a)}catch(le){kr(a,d,le)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var S=a.return;try{m.componentDidMount()}catch(le){kr(a,S,le)}}var C=a.return;try{XT(a)}catch(le){kr(a,C,le)}break;case 5:var R=a.return;try{XT(a)}catch(le){kr(a,R,le)}}}catch(le){kr(a,a.return,le)}if(a===n){Je=null;break}var X=a.sibling;if(X!==null){X.return=a.return,Je=X;break}Je=a.return}}var fse=Math.ceil,PE=z.ReactCurrentDispatcher,JT=z.ReactCurrentOwner,oa=z.ReactCurrentBatchConfig,Bt=0,$r=null,zr=null,dn=0,Do=0,pm=Pu(0),Mr=0,Ny=null,Ad=0,CE=0,e4=0,Ry=null,so=null,t4=0,hm=1/0,ol=null,IE=!1,r4=null,Au=null,jE=!1,Du=null,OE=0,Fy=0,n4=null,TE=-1,AE=0;function Wn(){return Bt&6?Er():TE!==-1?TE:TE=Er()}function zu(n){return n.mode&1?Bt&2&&dn!==0?dn&-dn:Zie.transition!==null?(AE===0&&(AE=vG()),AE):(n=Wt,n!==0||(n=window.event,n=n===void 0?16:PG(n.type)),n):1}function Ja(n,a,d,m){if(50<Fy)throw Fy=0,n4=null,Error(o(185));ly(n,d,m),(!(Bt&2)||n!==$r)&&(n===$r&&(!(Bt&2)&&(CE|=d),Mr===4&&Bu(n,dn)),lo(n,m),d===1&&Bt===0&&!(a.mode&1)&&(hm=Er()+500,iE&&Iu()))}function lo(n,a){var d=n.callbackNode;Yae(n,a);var m=FS(n,n===$r?dn:0);if(m===0)d!==null&&hG(d),n.callbackNode=null,n.callbackPriority=0;else if(a=m&-m,n.callbackPriority!==a){if(d!=null&&hG(d),a===1)n.tag===0?Gie(jX.bind(null,n)):fZ(jX.bind(null,n)),Kie(function(){!(Bt&6)&&Iu()}),d=null;else{switch(yG(m)){case 1:d=MO;break;case 4:d=mG;break;case 16:d=zS;break;case 536870912:d=gG;break;default:d=zS}d=RX(d,IX.bind(null,n))}n.callbackPriority=a,n.callbackNode=d}}function IX(n,a){if(TE=-1,AE=0,Bt&6)throw Error(o(327));var d=n.callbackNode;if(mm()&&n.callbackNode!==d)return null;var m=FS(n,n===$r?dn:0);if(m===0)return null;if(m&30||m&n.expiredLanes||a)a=DE(n,m);else{a=m;var S=Bt;Bt|=2;var C=TX();($r!==n||dn!==a)&&(ol=null,hm=Er()+500,zd(n,a));do try{mse();break}catch(X){OX(n,X)}while(!0);_T(),PE.current=C,Bt=S,zr!==null?a=0:($r=null,dn=0,a=Mr)}if(a!==0){if(a===2&&(S=UO(n),S!==0&&(m=S,a=o4(n,S))),a===1)throw d=Ny,zd(n,0),Bu(n,m),lo(n,Er()),d;if(a===6)Bu(n,m);else{if(S=n.current.alternate,!(m&30)&&!pse(S)&&(a=DE(n,m),a===2&&(C=UO(n),C!==0&&(m=C,a=o4(n,C))),a===1))throw d=Ny,zd(n,0),Bu(n,m),lo(n,Er()),d;switch(n.finishedWork=S,n.finishedLanes=m,a){case 0:case 1:throw Error(o(345));case 2:Bd(n,so,ol);break;case 3:if(Bu(n,m),(m&130023424)===m&&(a=t4+500-Er(),10<a)){if(FS(n,0)!==0)break;if(S=n.suspendedLanes,(S&m)!==m){Wn(),n.pingedLanes|=n.suspendedLanes&S;break}n.timeoutHandle=dT(Bd.bind(null,n,so,ol),a);break}Bd(n,so,ol);break;case 4:if(Bu(n,m),(m&4194240)===m)break;for(a=n.eventTimes,S=-1;0<m;){var R=31-$a(m);C=1<<R,R=a[R],R>S&&(S=R),m&=~C}if(m=S,m=Er()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*fse(m/1960))-m,10<m){n.timeoutHandle=dT(Bd.bind(null,n,so,ol),m);break}Bd(n,so,ol);break;case 5:Bd(n,so,ol);break;default:throw Error(o(329))}}}return lo(n,Er()),n.callbackNode===d?IX.bind(null,n):null}function o4(n,a){var d=Ry;return n.current.memoizedState.isDehydrated&&(zd(n,a).flags|=256),n=DE(n,a),n!==2&&(a=so,so=d,a!==null&&a4(a)),n}function a4(n){so===null?so=n:so.push.apply(so,n)}function pse(n){for(var a=n;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var S=d[m],C=S.getSnapshot;S=S.value;try{if(!Ga(C(),S))return!1}catch(R){return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bu(n,a){for(a&=~e4,a&=~CE,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var d=31-$a(a),m=1<<d;n[d]=-1,a&=~m}}function jX(n){if(Bt&6)throw Error(o(327));mm();var a=FS(n,0);if(!(a&1))return lo(n,Er()),null;var d=DE(n,a);if(n.tag!==0&&d===2){var m=UO(n);m!==0&&(a=m,d=o4(n,m))}if(d===1)throw d=Ny,zd(n,0),Bu(n,a),lo(n,Er()),d;if(d===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,Bd(n,so,ol),lo(n,Er()),null}function i4(n,a){var d=Bt;Bt|=1;try{return n(a)}finally{Bt=d,Bt===0&&(hm=Er()+500,iE&&Iu())}}function Dd(n){Du!==null&&Du.tag===0&&!(Bt&6)&&mm();var a=Bt;Bt|=1;var d=oa.transition,m=Wt;try{if(oa.transition=null,Wt=1,n)return n()}finally{Wt=m,oa.transition=d,Bt=a,!(Bt&6)&&Iu()}}function s4(){Do=pm.current,sr(pm)}function zd(n,a){n.finishedWork=null,n.finishedLanes=0;var d=n.timeoutHandle;if(d!==-1&&(n.timeoutHandle=-1,Lie(d)),zr!==null)for(d=zr.return;d!==null;){var m=d;switch(vT(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&oE();break;case 3:cm(),sr(oo),sr(Sn),AT();break;case 5:OT(m);break;case 4:cm();break;case 13:sr(mr);break;case 19:sr(mr);break;case 10:xT(m.type._context);break;case 22:case 23:s4()}d=d.return}if($r=n,zr=n=Nu(n.current,null),dn=Do=a,Mr=0,Ny=null,e4=CE=Ad=0,so=Ry=null,jd!==null){for(a=0;a<jd.length;a++)if(d=jd[a],m=d.interleaved,m!==null){d.interleaved=null;var S=m.next,C=d.pending;if(C!==null){var R=C.next;C.next=S,m.next=R}d.pending=m}jd=null}return n}function OX(n,a){do{var d=zr;try{if(_T(),vE.current=kE,yE){for(var m=gr.memoizedState;m!==null;){var S=m.queue;S!==null&&(S.pending=null),m=m.next}yE=!1}if(Td=0,Wr=Fr=gr=null,Oy=!1,Ty=0,JT.current=null,d===null||d.return===null){Mr=1,Ny=a,zr=null;break}e:{var C=n,R=d.return,X=d,le=a;if(a=dn,X.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ce=le,Ue=X,Le=Ue.tag;if(!(Ue.mode&1)&&(Le===0||Le===11||Le===15)){var Me=Ue.alternate;Me?(Ue.updateQueue=Me.updateQueue,Ue.memoizedState=Me.memoizedState,Ue.lanes=Me.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var Ze=eX(R);if(Ze!==null){Ze.flags&=-257,tX(Ze,R,X,C,a),Ze.mode&1&&JZ(C,Ce,a),a=Ze,le=Ce;var rt=a.updateQueue;if(rt===null){var it=new Set;it.add(le),a.updateQueue=it}else rt.add(le);break e}else{if(!(a&1)){JZ(C,Ce,a),l4();break e}le=Error(o(426))}}else if(cr&&X.mode&1){var Pr=eX(R);if(Pr!==null){!(Pr.flags&65536)&&(Pr.flags|=256),tX(Pr,R,X,C,a),wT(dm(le,X));break e}}C=le=dm(le,X),Mr!==4&&(Mr=2),Ry===null?Ry=[C]:Ry.push(C),C=R;do{switch(C.tag){case 3:C.flags|=65536,a&=-a,C.lanes|=a;var ye=YZ(C,le,a);wZ(C,ye);break e;case 1:X=le;var ce=C.type,ke=C.stateNode;if(!(C.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(Au===null||!Au.has(ke)))){C.flags|=65536,a&=-a,C.lanes|=a;var Ke=QZ(C,X,a);wZ(C,Ke);break e}}C=C.return}while(C!==null)}DX(d)}catch(lt){a=lt,zr===d&&d!==null&&(zr=d=d.return);continue}break}while(!0)}function TX(){var n=PE.current;return PE.current=kE,n===null?kE:n}function l4(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),$r===null||!(Ad&268435455)&&!(CE&268435455)||Bu($r,dn)}function DE(n,a){var d=Bt;Bt|=2;var m=TX();($r!==n||dn!==a)&&(ol=null,zd(n,a));do try{hse();break}catch(S){OX(n,S)}while(!0);if(_T(),Bt=d,PE.current=m,zr!==null)throw Error(o(261));return $r=null,dn=0,Mr}function hse(){for(;zr!==null;)AX(zr)}function mse(){for(;zr!==null&&!Hae();)AX(zr)}function AX(n){var a=NX(n.alternate,n,Do);n.memoizedProps=n.pendingProps,a===null?DX(n):zr=a,JT.current=null}function DX(n){var a=n;do{var d=a.alternate;if(n=a.return,a.flags&32768){if(d=lse(d,a),d!==null){d.flags&=32767,zr=d;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mr=6,zr=null;return}}else if(d=sse(d,a,Do),d!==null){zr=d;return}if(a=a.sibling,a!==null){zr=a;return}zr=a=n}while(a!==null);Mr===0&&(Mr=5)}function Bd(n,a,d){var m=Wt,S=oa.transition;try{oa.transition=null,Wt=1,gse(n,a,d,m)}finally{oa.transition=S,Wt=m}return null}function gse(n,a,d,m){do mm();while(Du!==null);if(Bt&6)throw Error(o(327));d=n.finishedWork;var S=n.finishedLanes;if(d===null)return null;if(n.finishedWork=null,n.finishedLanes=0,d===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var C=d.lanes|d.childLanes;if(Qae(n,C),n===$r&&(zr=$r=null,dn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||jE||(jE=!0,RX(zS,function(){return mm(),null})),C=(d.flags&15990)!==0,d.subtreeFlags&15990||C){C=oa.transition,oa.transition=null;var R=Wt;Wt=1;var X=Bt;Bt|=4,JT.current=null,cse(n,d),xX(d,n),Fie(uT),VS=!!lT,uT=lT=null,n.current=d,dse(d),Lae(),Bt=X,Wt=R,oa.transition=C}else n.current=d;if(jE&&(jE=!1,Du=n,OE=S),C=n.pendingLanes,C===0&&(Au=null),Wae(d.stateNode),lo(n,Er()),a!==null)for(m=n.onRecoverableError,d=0;d<a.length;d++)S=a[d],m(S.value,{componentStack:S.stack,digest:S.digest});if(IE)throw IE=!1,n=r4,r4=null,n;return OE&1&&n.tag!==0&&mm(),C=n.pendingLanes,C&1?n===n4?Fy++:(Fy=0,n4=n):Fy=0,Iu(),null}function mm(){if(Du!==null){var n=yG(OE),a=oa.transition,d=Wt;try{if(oa.transition=null,Wt=16>n?16:n,Du===null)var m=!1;else{if(n=Du,Du=null,OE=0,Bt&6)throw Error(o(331));var S=Bt;for(Bt|=4,Je=n.current;Je!==null;){var C=Je,R=C.child;if(Je.flags&16){var X=C.deletions;if(X!==null){for(var le=0;le<X.length;le++){var Ce=X[le];for(Je=Ce;Je!==null;){var Ue=Je;switch(Ue.tag){case 0:case 11:case 15:By(8,Ue,C)}var Le=Ue.child;if(Le!==null)Le.return=Ue,Je=Le;else for(;Je!==null;){Ue=Je;var Me=Ue.sibling,Ze=Ue.return;if(yX(Ue),Ue===Ce){Je=null;break}if(Me!==null){Me.return=Ze,Je=Me;break}Je=Ze}}}var rt=C.alternate;if(rt!==null){var it=rt.child;if(it!==null){rt.child=null;do{var Pr=it.sibling;it.sibling=null,it=Pr}while(it!==null)}}Je=C}}if(C.subtreeFlags&2064&&R!==null)R.return=C,Je=R;else e:for(;Je!==null;){if(C=Je,C.flags&2048)switch(C.tag){case 0:case 11:case 15:By(9,C,C.return)}var ye=C.sibling;if(ye!==null){ye.return=C.return,Je=ye;break e}Je=C.return}}var ce=n.current;for(Je=ce;Je!==null;){R=Je;var ke=R.child;if(R.subtreeFlags&2064&&ke!==null)ke.return=R,Je=ke;else e:for(R=ce;Je!==null;){if(X=Je,X.flags&2048)try{switch(X.tag){case 0:case 11:case 15:EE(9,X)}}catch(lt){kr(X,X.return,lt)}if(X===R){Je=null;break e}var Ke=X.sibling;if(Ke!==null){Ke.return=X.return,Je=Ke;break e}Je=X.return}}if(Bt=S,Iu(),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(BS,n)}catch(lt){}m=!0}return m}finally{Wt=d,oa.transition=a}}return!1}function zX(n,a,d){a=dm(d,a),a=YZ(n,a,1),n=Ou(n,a,1),a=Wn(),n!==null&&(ly(n,1,a),lo(n,a))}function kr(n,a,d){if(n.tag===3)zX(n,n,d);else for(;a!==null;){if(a.tag===3){zX(a,n,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Au===null||!Au.has(m))){n=dm(d,n),n=QZ(a,n,1),a=Ou(a,n,1),n=Wn(),a!==null&&(ly(a,1,n),lo(a,n));break}}a=a.return}}function vse(n,a,d){var m=n.pingCache;m!==null&&m.delete(a),a=Wn(),n.pingedLanes|=n.suspendedLanes&d,$r===n&&(dn&d)===d&&(Mr===4||Mr===3&&(dn&130023424)===dn&&500>Er()-t4?zd(n,0):e4|=d),lo(n,a)}function BX(n,a){a===0&&(n.mode&1?(a=RS,RS<<=1,!(RS&130023424)&&(RS=4194304)):a=1);var d=Wn();n=tl(n,a),n!==null&&(ly(n,a,d),lo(n,d))}function yse(n){var a=n.memoizedState,d=0;a!==null&&(d=a.retryLane),BX(n,d)}function bse(n,a){var d=0;switch(n.tag){case 13:var m=n.stateNode,S=n.memoizedState;S!==null&&(d=S.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(o(314))}m!==null&&m.delete(a),BX(n,d)}var NX;NX=function(n,a,d){if(n!==null)if(n.memoizedProps!==a.pendingProps||oo.current)io=!0;else{if(!(n.lanes&d)&&!(a.flags&128))return io=!1,ise(n,a,d);io=!!(n.flags&131072)}else io=!1,cr&&a.flags&1048576&&pZ(a,lE,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;xE(n,a),n=a.pendingProps;var S=nm(a,Sn.current);lm(a,d),S=BT(null,a,m,n,S,d);var C=NT();return a.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ao(m)?(C=!0,aE(a)):C=!1,a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,PT(a),S.updater=hE,a.stateNode=S,S._reactInternals=a,IT(a,m,n,d),a=KT(null,a,m,!0,C,d)):(a.tag=0,cr&&C&&gT(a),qn(null,a,S,d),a=a.child),a;case 16:m=a.elementType;e:{switch(xE(n,a),n=a.pendingProps,S=m._init,m=S(m._payload),a.type=m,S=a.tag=kse(m),n=Xa(m,n),S){case 0:a=LT(null,a,m,n,d);break e;case 1:a=sX(null,a,m,n,d);break e;case 11:a=rX(null,a,m,n,d);break e;case 14:a=nX(null,a,m,Xa(m.type,n),d);break e}throw Error(o(306,m,""))}return a;case 0:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Xa(m,S),LT(n,a,m,S,d);case 1:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Xa(m,S),sX(n,a,m,S,d);case 3:e:{if(lX(a),n===null)throw Error(o(387));m=a.pendingProps,C=a.memoizedState,S=C.element,bZ(n,a),pE(a,m,null,d);var R=a.memoizedState;if(m=R.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=C,a.memoizedState=C,a.flags&256){S=dm(Error(o(423)),a),a=uX(n,a,m,d,S);break e}else if(m!==S){S=dm(Error(o(424)),a),a=uX(n,a,m,d,S);break e}else for(Ao=Eu(a.stateNode.containerInfo.firstChild),To=a,cr=!0,Za=null,d=IZ(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(im(),m===S){a=nl(n,a,d);break e}qn(n,a,m,d)}a=a.child}return a;case 5:return jZ(a),n===null&&bT(a),m=a.type,S=a.pendingProps,C=n!==null?n.memoizedProps:null,R=S.children,cT(m,S)?R=null:C!==null&&cT(m,C)&&(a.flags|=32),iX(n,a),qn(n,a,R,d),a.child;case 6:return n===null&&bT(a),null;case 13:return cX(n,a,d);case 4:return jT(a,a.stateNode.containerInfo),m=a.pendingProps,n===null?a.child=um(a,null,m,d):qn(n,a,m,d),a.child;case 11:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Xa(m,S),rX(n,a,m,S,d);case 7:return qn(n,a,a.pendingProps,d),a.child;case 8:return qn(n,a,a.pendingProps.children,d),a.child;case 12:return qn(n,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,S=a.pendingProps,C=a.memoizedProps,R=S.value,tr(cE,m._currentValue),m._currentValue=R,C!==null)if(Ga(C.value,R)){if(C.children===S.children&&!oo.current){a=nl(n,a,d);break e}}else for(C=a.child,C!==null&&(C.return=a);C!==null;){var X=C.dependencies;if(X!==null){R=C.child;for(var le=X.firstContext;le!==null;){if(le.context===m){if(C.tag===1){le=rl(-1,d&-d),le.tag=2;var Ce=C.updateQueue;if(Ce!==null){Ce=Ce.shared;var Ue=Ce.pending;Ue===null?le.next=le:(le.next=Ue.next,Ue.next=le),Ce.pending=le}}C.lanes|=d,le=C.alternate,le!==null&&(le.lanes|=d),ST(C.return,d,a),X.lanes|=d;break}le=le.next}}else if(C.tag===10)R=C.type===a.type?null:C.child;else if(C.tag===18){if(R=C.return,R===null)throw Error(o(341));R.lanes|=d,X=R.alternate,X!==null&&(X.lanes|=d),ST(R,d,a),R=C.sibling}else R=C.child;if(R!==null)R.return=C;else for(R=C;R!==null;){if(R===a){R=null;break}if(C=R.sibling,C!==null){C.return=R.return,R=C;break}R=R.return}C=R}qn(n,a,S.children,d),a=a.child}return a;case 9:return S=a.type,m=a.pendingProps.children,lm(a,d),S=ra(S),m=m(S),a.flags|=1,qn(n,a,m,d),a.child;case 14:return m=a.type,S=Xa(m,a.pendingProps),S=Xa(m.type,S),nX(n,a,m,S,d);case 15:return oX(n,a,a.type,a.pendingProps,d);case 17:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Xa(m,S),xE(n,a),a.tag=1,ao(m)?(n=!0,aE(a)):n=!1,lm(a,d),SZ(a,m,S),IT(a,m,S,d),KT(null,a,m,!0,n,d);case 19:return fX(n,a,d);case 22:return aX(n,a,d)}throw Error(o(156,a.tag))};function RX(n,a){return pG(n,a)}function wse(n,a,d,m){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(n,a,d,m){return new wse(n,a,d,m)}function u4(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kse(n){if(typeof n=="function")return u4(n)?1:0;if(n!=null){if(n=n.$$typeof,n===oe)return 11;if(n===Re)return 14}return 2}function Nu(n,a){var d=n.alternate;return d===null?(d=aa(n.tag,a,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=a,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&14680064,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,a=n.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d}function zE(n,a,d,m,S,C){var R=2;if(m=n,typeof n=="function")u4(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case ee:return Nd(d.children,S,C,a);case K:R=8,S|=8;break;case ne:return n=aa(12,d,a,S|2),n.elementType=ne,n.lanes=C,n;case T:return n=aa(13,d,a,S),n.elementType=T,n.lanes=C,n;case ue:return n=aa(19,d,a,S),n.elementType=ue,n.lanes=C,n;case Y:return BE(d,S,C,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case me:R=10;break e;case M:R=9;break e;case oe:R=11;break e;case Re:R=14;break e;case te:R=16,m=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return a=aa(R,d,a,S),a.elementType=n,a.type=m,a.lanes=C,a}function Nd(n,a,d,m){return n=aa(7,n,m,a),n.lanes=d,n}function BE(n,a,d,m){return n=aa(22,n,m,a),n.elementType=Y,n.lanes=d,n.stateNode={isHidden:!1},n}function c4(n,a,d){return n=aa(6,n,null,a),n.lanes=d,n}function d4(n,a,d){return a=aa(4,n.children!==null?n.children:[],n.key,a),a.lanes=d,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function _se(n,a,d,m,S){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=VO(0),this.expirationTimes=VO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=VO(0),this.identifierPrefix=m,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function f4(n,a,d,m,S,C,R,X,le){return n=new _se(n,a,d,X,le),a===1?(a=1,C===!0&&(a|=8)):a=0,C=aa(3,null,null,a),n.current=C,C.stateNode=n,C.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},PT(C),n}function xse(n,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:m==null?null:""+m,children:n,containerInfo:a,implementation:d}}function FX(n){if(!n)return Cu;n=n._reactInternals;e:{if(Sd(n)!==n||n.tag!==1)throw Error(o(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ao(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(o(171))}if(n.tag===1){var d=n.type;if(ao(d))return cZ(n,d,a)}return a}function MX(n,a,d,m,S,C,R,X,le){return n=f4(d,m,!0,n,S,C,R,X,le),n.context=FX(null),d=n.current,m=Wn(),S=zu(d),C=rl(m,S),C.callback=a!=null?a:null,Ou(d,C,S),n.current.lanes=S,ly(n,S,m),lo(n,m),n}function NE(n,a,d,m){var S=a.current,C=Wn(),R=zu(S);return d=FX(d),a.context===null?a.context=d:a.pendingContext=d,a=rl(C,R),a.payload={element:n},m=m===void 0?null:m,m!==null&&(a.callback=m),n=Ou(S,a,R),n!==null&&(Ja(n,S,R,C),fE(n,S,R)),R}function RE(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function UX(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<a?d:a}}function p4(n,a){UX(n,a),(n=n.alternate)&&UX(n,a)}function Sse(){return null}var VX=typeof reportError=="function"?reportError:function(n){console.error(n)};function h4(n){this._internalRoot=n}FE.prototype.render=h4.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(o(409));NE(n,a,null,null)},FE.prototype.unmount=h4.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Dd(function(){NE(null,n,null,null)}),a[Ys]=null}};function FE(n){this._internalRoot=n}FE.prototype.unstable_scheduleHydration=function(n){if(n){var a=kG();n={blockedOn:null,target:n,priority:a};for(var d=0;d<_u.length&&a!==0&&a<_u[d].priority;d++);_u.splice(d,0,n),d===0&&SG(n)}};function m4(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ME(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function HX(){}function Ese(n,a,d,m,S){if(S){if(typeof m=="function"){var C=m;m=function(){var Ce=RE(R);C.call(Ce)}}var R=MX(a,m,n,0,null,!1,!1,"",HX);return n._reactRootContainer=R,n[Ys]=R.current,_y(n.nodeType===8?n.parentNode:n),Dd(),R}for(;S=n.lastChild;)n.removeChild(S);if(typeof m=="function"){var X=m;m=function(){var Ce=RE(le);X.call(Ce)}}var le=f4(n,0,!1,null,null,!1,!1,"",HX);return n._reactRootContainer=le,n[Ys]=le.current,_y(n.nodeType===8?n.parentNode:n),Dd(function(){NE(a,le,d,m)}),le}function UE(n,a,d,m,S){var C=d._reactRootContainer;if(C){var R=C;if(typeof S=="function"){var X=S;S=function(){var le=RE(R);X.call(le)}}NE(a,R,n,S)}else R=Ese(d,a,n,S,m);return RE(R)}bG=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var d=sy(a.pendingLanes);d!==0&&(HO(a,d|1),lo(a,Er()),!(Bt&6)&&(hm=Er()+500,Iu()))}break;case 13:Dd(function(){var m=tl(n,1);if(m!==null){var S=Wn();Ja(m,n,1,S)}}),p4(n,1)}},LO=function(n){if(n.tag===13){var a=tl(n,134217728);if(a!==null){var d=Wn();Ja(a,n,134217728,d)}p4(n,134217728)}},wG=function(n){if(n.tag===13){var a=zu(n),d=tl(n,a);if(d!==null){var m=Wn();Ja(d,n,a,m)}p4(n,a)}},kG=function(){return Wt},_G=function(n,a){var d=Wt;try{return Wt=n,a()}finally{Wt=d}},Wh=function(n,a,d){switch(a){case"input":if($(n,d),a=d.name,d.type==="radio"&&a!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==n&&m.form===n.form){var S=nE(m);if(!S)throw Error(o(90));Nt(m),$(m,S)}}}break;case"textarea":Be(n,d);break;case"select":a=d.value,a!=null&&ve(n,!!d.multiple,a,!1)}},iG=i4,sG=Dd;var Pse={usingClientEntryPoint:!1,Events:[Ey,tm,nE,oG,aG,i4]},My={findFiberByHostInstance:Ed,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Cse={bundleType:My.bundleType,version:My.version,rendererPackageName:My.rendererPackageName,rendererConfig:My.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dG(n),n===null?null:n.stateNode},findFiberByHostInstance:My.findFiberByHostInstance||Sse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Uy=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Uy.isDisabled&&Uy.supportsFiber))try{BS=Uy.inject(Cse),Li=Uy}catch(n){}var Uy;e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pse,e.createPortal=function(n,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m4(a))throw Error(o(200));return xse(n,a,null,d)},e.createRoot=function(n,a){if(!m4(n))throw Error(o(299));var d=!1,m="",S=VX;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=f4(n,1,!1,null,null,d,!1,m,S),n[Ys]=a.current,_y(n.nodeType===8?n.parentNode:n),new h4(a)},e.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=dG(a),n=n===null?null:n.stateNode,n},e.flushSync=function(n){return Dd(n)},e.hydrate=function(n,a,d){if(!ME(a))throw Error(o(200));return UE(null,n,a,!0,d)},e.hydrateRoot=function(n,a,d){if(!m4(n))throw Error(o(405));var m=d!=null&&d.hydratedSources||null,S=!1,C="",R=VX;if(d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),a=MX(a,null,n,1,d!=null?d:null,S,!1,C,R),n[Ys]=a.current,_y(n),m)for(n=0;n<m.length;n++)d=m[n],S=d._getVersion,S=S(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,S]:a.mutableSourceEagerHydrationData.push(d,S);return new FE(a)},e.render=function(n,a,d){if(!ME(a))throw Error(o(200));return UE(null,n,a,!1,d)},e.unmountComponentAtNode=function(n){if(!ME(n))throw Error(o(40));return n._reactRootContainer?(Dd(function(){UE(null,null,n,!1,function(){n._reactRootContainer=null,n[Ys]=null})}),!0):!1},e.unstable_batchedUpdates=i4,e.unstable_renderSubtreeIntoContainer=function(n,a,d,m){if(!ME(d))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return UE(n,a,d,!1,m)},e.version="18.2.0-next-9e3b772b8-20220608"}),Nr=st((e,t)=>{function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}r(),t.exports=PC()});function xk(e){let[,t]=(0,pi.useState)(0);return(0,pi.useCallback)(()=>{t(r=>r+1)},[])}function bt(e,t,r){let o=(0,pi.useCallback)(e,t),i=(0,pi.useRef)(null);i.current?i.current.set(o):i.current=new Dp.Atom(o);let s=(0,pi.useRef)(null);return s.current||(s.current=(0,Dp.prism)(()=>i.current.prism.getValue()())),Cc(s.current,r)}function CC(){zp||(zp=!0,(0,Sk.default)(()=>{(0,Ek.unstable_batchedUpdates)(function(){for(var e,t;bo.length>0;){let r=bo.shift();Fl.delete(r);let o;hi&&((e=r.debug)==null||e.history.push("queue reached"));try{o=r.der.getValue()}catch(i){hi&&((t=r.debug)==null||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(i),r.runUpdate();continue}o!==r.lastValue&&(r.lastValue=o,r.runUpdate())}zp=!1},1)}))}function Cc(e,t){var r;let o=xk(),i=(0,pi.useRef)(void 0);i.current||(hv++,i.current={order:hv,runUpdate:()=>{i.current.unmounted||o()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var u;hi&&((u=i.current.debug)==null||u.history.push("queueUpdate()")),Pk(i.current)},untap:e.onStale(()=>{hi&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()})},hi&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,pi.useLayoutEffect)(()=>function(){i.current.unmounted=!0,i.current.untap(),gv(i.current)},[]),gv(i.current);let s=i.current.der.getValue();return i.current.lastValue=s,hi&&((r=i.current.debug)==null||r.history.push("rendered")),s}var Dp,Sk,pi,Ek,hi,_t,hv,bo,Fl,zp,Pk,mv,gv,Xe=I(()=>{Dp=Ne,_r(),Sk=Q(pv()),pi=Q(ae()),Ek=Q(Nr()),hi=!1,_t=(e,t)=>bt(()=>(0,Dp.val)(e),[e],t),hv=0,bo=[],Fl=new Set,zp=!1,Pk=e=>{mv(e),CC()},mv=e=>{if(!Fl.has(e))if(Fl.add(e),bo.length===0)bo.push(e);else{let t=nv(bo,r=>r.order>=e.order);t===-1?bo.push(e):bo[t].order>e.order&&bo.splice(t,0,e)}},gv=e=>{if(!Fl.has(e))return;Fl.delete(e);let t=nv(bo,r=>r===e);bo.splice(t,1)}}),Ck=st(e=>{var t=60103,r=60106,o=60107,i=60108,s=60114,u=60109,c=60110,f=60112,p=60113,v=60120,b=60115,y=60116,g=60121,k=60122,w=60117,x=60129,E=60131;typeof Symbol=="function"&&Symbol.for&&(P=Symbol.for,t=P("react.element"),r=P("react.portal"),o=P("react.fragment"),i=P("react.strict_mode"),s=P("react.profiler"),u=P("react.provider"),c=P("react.context"),f=P("react.forward_ref"),p=P("react.suspense"),v=P("react.suspense_list"),b=P("react.memo"),y=P("react.lazy"),g=P("react.block"),k=P("react.server.block"),w=P("react.fundamental"),x=P("react.debug_trace_mode"),E=P("react.legacy_hidden"));var P;function O(T){if(typeof T=="object"&&T!==null){var ue=T.$$typeof;switch(ue){case t:switch(T=T.type,T){case o:case s:case i:case p:case v:return T;default:switch(T=T&&T.$$typeof,T){case c:case f:case y:case b:case u:return T;default:return ue}}case r:return ue}}}var B=u,z=t,F=f,Z=o,ee=y,K=b,ne=r,me=s,M=i,oe=p;e.ContextConsumer=c,e.ContextProvider=B,e.Element=z,e.ForwardRef=F,e.Fragment=Z,e.Lazy=ee,e.Memo=K,e.Portal=ne,e.Profiler=me,e.StrictMode=M,e.Suspense=oe,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(T){return O(T)===c},e.isContextProvider=function(T){return O(T)===u},e.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},e.isForwardRef=function(T){return O(T)===f},e.isFragment=function(T){return O(T)===o},e.isLazy=function(T){return O(T)===y},e.isMemo=function(T){return O(T)===b},e.isPortal=function(T){return O(T)===r},e.isProfiler=function(T){return O(T)===s},e.isStrictMode=function(T){return O(T)===i},e.isSuspense=function(T){return O(T)===p},e.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===o||T===s||T===x||T===i||T===p||T===v||T===E||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===b||T.$$typeof===u||T.$$typeof===c||T.$$typeof===f||T.$$typeof===w||T.$$typeof===g||T[0]===k)},e.typeOf=O}),IC=st((e,t)=>{t.exports=Ck()}),Ik=st((e,t)=>{t.exports=function(r,o,i,s){var u=i?i.call(s,r,o):void 0;if(u!==void 0)return!!u;if(r===o)return!0;if(typeof r!="object"||!r||typeof o!="object"||!o)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(o),v=0;v<c.length;v++){var b=c[v];if(!p(b))return!1;var y=r[b],g=o[b];if(u=i?i.call(s,y,g,b):void 0,u===!1||u===void 0&&y!==g)return!1}return!0}});function jC(e){function t(q,ge,we,_e,fe){for(var Ge=0,Oe=0,qe=0,tt=0,pt,ct,Nt=0,A=0,Pe,xe=Pe=pt=0,G=0,$=0,pe=0,Ae=0,ze=we.length,ve=ze-1,Fe,De="",Be="",ut="",zt="",wt;G<ze;){if(ct=we.charCodeAt(G),G===ve&&Oe+tt+qe+Ge!==0&&(Oe!==0&&(ct=Oe===47?10:47),tt=qe=Ge=0,ze++,ve++),Oe+tt+qe+Ge===0){if(G===ve&&(0<$&&(De=De.replace(y,"")),0<De.trim().length)){switch(ct){case 32:case 9:case 59:case 13:case 10:break;default:De+=we.charAt(G)}ct=59}switch(ct){case 123:for(De=De.trim(),pt=De.charCodeAt(0),Pe=1,Ae=++G;G<ze;){switch(ct=we.charCodeAt(G)){case 123:Pe++;break;case 125:Pe--;break;case 47:switch(ct=we.charCodeAt(G+1)){case 42:case 47:e:{for(xe=G+1;xe<ve;++xe)switch(we.charCodeAt(xe)){case 47:if(ct===42&&we.charCodeAt(xe-1)===42&&G+2!==xe){G=xe+1;break e}break;case 10:if(ct===47){G=xe+1;break e}}G=xe}}break;case 91:ct++;case 40:ct++;case 34:case 39:for(;G++<ve&&we.charCodeAt(G)!==ct;);}if(Pe===0)break;G++}switch(Pe=we.substring(Ae,G),pt===0&&(pt=(De=De.replace(b,"").trim()).charCodeAt(0)),pt){case 64:switch(0<$&&(De=De.replace(y,"")),ct=De.charCodeAt(1),ct){case 100:case 109:case 115:case 45:$=ge;break;default:$=Re}if(Pe=t(ge,$,Pe,ct,fe+1),Ae=Pe.length,0<Y&&($=r(Re,De,pe),wt=c(3,Pe,$,ge,oe,M,Ae,ct,fe,_e),De=$.join(""),wt!==void 0&&(Ae=(Pe=wt.trim()).length)===0&&(ct=0,Pe="")),0<Ae)switch(ct){case 115:De=De.replace(F,u);case 100:case 109:case 45:Pe=De+"{"+Pe+"}";break;case 107:De=De.replace(P,"$1 $2"),Pe=De+"{"+Pe+"}",Pe=ue===1||ue===2&&s("@"+Pe,3)?"@-webkit-"+Pe+"@"+Pe:"@"+Pe;break;default:Pe=De+Pe,_e===112&&(Pe=(Be+=Pe,""))}else Pe="";break;default:Pe=t(ge,r(ge,De,pe),Pe,_e,fe+1)}ut+=Pe,Pe=pe=$=xe=pt=0,De="",ct=we.charCodeAt(++G);break;case 125:case 59:if(De=(0<$?De.replace(y,""):De).trim(),1<(Ae=De.length))switch(xe===0&&(pt=De.charCodeAt(0),pt===45||96<pt&&123>pt)&&(Ae=(De=De.replace(" ",":")).length),0<Y&&(wt=c(1,De,ge,q,oe,M,Be.length,_e,fe,_e))!==void 0&&(Ae=(De=wt.trim()).length)===0&&(De="\0\0"),pt=De.charCodeAt(0),ct=De.charCodeAt(1),pt){case 0:break;case 64:if(ct===105||ct===99){zt+=De+we.charAt(G);break}default:De.charCodeAt(Ae-1)!==58&&(Be+=i(De,pt,ct,De.charCodeAt(2)))}pe=$=xe=pt=0,De="",ct=we.charCodeAt(++G)}}switch(ct){case 13:case 10:Oe===47?Oe=0:1+pt===0&&_e!==107&&0<De.length&&($=1,De+="\0"),0<Y*Te&&c(0,De,ge,q,oe,M,Be.length,_e,fe,_e),M=1,oe++;break;case 59:case 125:if(Oe+tt+qe+Ge===0){M++;break}default:switch(M++,Fe=we.charAt(G),ct){case 9:case 32:if(tt+Ge+Oe===0)switch(Nt){case 44:case 58:case 9:case 32:Fe="";break;default:ct!==32&&(Fe=" ")}break;case 0:Fe="\\0";break;case 12:Fe="\\f";break;case 11:Fe="\\v";break;case 38:tt+Oe+Ge===0&&($=pe=1,Fe="\f"+Fe);break;case 108:if(tt+Oe+Ge+T===0&&0<xe)switch(G-xe){case 2:Nt===112&&we.charCodeAt(G-3)===58&&(T=Nt);case 8:A===111&&(T=A)}break;case 58:tt+Oe+Ge===0&&(xe=G);break;case 44:Oe+qe+tt+Ge===0&&($=1,Fe+="\r");break;case 34:case 39:Oe===0&&(tt=tt===ct?0:tt===0?ct:tt);break;case 91:tt+Oe+qe===0&&Ge++;break;case 93:tt+Oe+qe===0&&Ge--;break;case 41:tt+Oe+Ge===0&&qe--;break;case 40:if(tt+Oe+Ge===0){if(pt===0)switch(2*Nt+3*A){case 533:break;default:pt=1}qe++}break;case 64:Oe+qe+tt+Ge+xe+Pe===0&&(Pe=1);break;case 42:case 47:if(!(0<tt+Ge+qe))switch(Oe){case 0:switch(2*ct+3*we.charCodeAt(G+1)){case 235:Oe=47;break;case 220:Ae=G,Oe=42}break;case 42:ct===47&&Nt===42&&Ae+2!==G&&(we.charCodeAt(Ae+2)===33&&(Be+=we.substring(Ae,G+1)),Fe="",Oe=0)}}Oe===0&&(De+=Fe)}A=Nt,Nt=ct,G++}if(Ae=Be.length,0<Ae){if($=ge,0<Y&&(wt=c(2,Be,$,q,oe,M,Ae,_e,fe,_e),wt!==void 0&&(Be=wt).length===0))return zt+Be+ut;if(Be=$.join(",")+"{"+Be+"}",ue*T!==0){switch(ue!==2||s(Be,2)||(T=0),T){case 111:Be=Be.replace(B,":-moz-$1")+Be;break;case 112:Be=Be.replace(O,"::-webkit-input-$1")+Be.replace(O,"::-moz-$1")+Be.replace(O,":-ms-input-$1")+Be}T=0}}return zt+Be+ut}function r(q,ge,we){var _e=ge.trim().split(x);ge=_e;var fe=_e.length,Ge=q.length;switch(Ge){case 0:case 1:var Oe=0;for(q=Ge===0?"":q[0]+" ";Oe<fe;++Oe)ge[Oe]=o(q,ge[Oe],we).trim();break;default:var qe=Oe=0;for(ge=[];Oe<fe;++Oe)for(var tt=0;tt<Ge;++tt)ge[qe++]=o(q[tt]+" ",_e[Oe],we).trim()}return ge}function o(q,ge,we){var _e=ge.charCodeAt(0);switch(33>_e&&(_e=(ge=ge.trim()).charCodeAt(0)),_e){case 38:return ge.replace(E,"$1"+q.trim());case 58:return q.trim()+ge.replace(E,"$1"+q.trim());default:if(0<1*we&&0<ge.indexOf("\f"))return ge.replace(E,(q.charCodeAt(0)===58?"":"$1")+q.trim())}return q+ge}function i(q,ge,we,_e){var fe=q+";",Ge=2*ge+3*we+4*_e;if(Ge===944){q=fe.indexOf(":",9)+1;var Oe=fe.substring(q,fe.length-1).trim();return Oe=fe.substring(0,q).trim()+Oe+";",ue===1||ue===2&&s(Oe,1)?"-webkit-"+Oe+Oe:Oe}if(ue===0||ue===2&&!s(fe,1))return fe;switch(Ge){case 1015:return fe.charCodeAt(10)===97?"-webkit-"+fe+fe:fe;case 951:return fe.charCodeAt(3)===116?"-webkit-"+fe+fe:fe;case 963:return fe.charCodeAt(5)===110?"-webkit-"+fe+fe:fe;case 1009:if(fe.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+fe+fe;case 978:return"-webkit-"+fe+"-moz-"+fe+fe;case 1019:case 983:return"-webkit-"+fe+"-moz-"+fe+"-ms-"+fe+fe;case 883:if(fe.charCodeAt(8)===45)return"-webkit-"+fe+fe;if(0<fe.indexOf("image-set(",11))return fe.replace(me,"$1-webkit-$2")+fe;break;case 932:if(fe.charCodeAt(4)===45)switch(fe.charCodeAt(5)){case 103:return"-webkit-box-"+fe.replace("-grow","")+"-webkit-"+fe+"-ms-"+fe.replace("grow","positive")+fe;case 115:return"-webkit-"+fe+"-ms-"+fe.replace("shrink","negative")+fe;case 98:return"-webkit-"+fe+"-ms-"+fe.replace("basis","preferred-size")+fe}return"-webkit-"+fe+"-ms-"+fe+fe;case 964:return"-webkit-"+fe+"-ms-flex-"+fe+fe;case 1023:if(fe.charCodeAt(8)!==99)break;return Oe=fe.substring(fe.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Oe+"-webkit-"+fe+"-ms-flex-pack"+Oe+fe;case 1005:return k.test(fe)?fe.replace(g,":-webkit-")+fe.replace(g,":-moz-")+fe:fe;case 1e3:switch(Oe=fe.substring(13).trim(),ge=Oe.indexOf("-")+1,Oe.charCodeAt(0)+Oe.charCodeAt(ge)){case 226:Oe=fe.replace(z,"tb");break;case 232:Oe=fe.replace(z,"tb-rl");break;case 220:Oe=fe.replace(z,"lr");break;default:return fe}return"-webkit-"+fe+"-ms-"+Oe+fe;case 1017:if(fe.indexOf("sticky",9)===-1)break;case 975:switch(ge=(fe=q).length-10,Oe=(fe.charCodeAt(ge)===33?fe.substring(0,ge):fe).substring(q.indexOf(":",7)+1).trim(),Ge=Oe.charCodeAt(0)+(Oe.charCodeAt(7)|0)){case 203:if(111>Oe.charCodeAt(8))break;case 115:fe=fe.replace(Oe,"-webkit-"+Oe)+";"+fe;break;case 207:case 102:fe=fe.replace(Oe,"-webkit-"+(102<Ge?"inline-":"")+"box")+";"+fe.replace(Oe,"-webkit-"+Oe)+";"+fe.replace(Oe,"-ms-"+Oe+"box")+";"+fe}return fe+";";case 938:if(fe.charCodeAt(5)===45)switch(fe.charCodeAt(6)){case 105:return Oe=fe.replace("-items",""),"-webkit-"+fe+"-webkit-box-"+Oe+"-ms-flex-"+Oe+fe;case 115:return"-webkit-"+fe+"-ms-flex-item-"+fe.replace(ee,"")+fe;default:return"-webkit-"+fe+"-ms-flex-line-pack"+fe.replace("align-content","").replace(ee,"")+fe}break;case 973:case 989:if(fe.charCodeAt(3)!==45||fe.charCodeAt(4)===122)break;case 931:case 953:if(ne.test(q)===!0)return(Oe=q.substring(q.indexOf(":")+1)).charCodeAt(0)===115?i(q.replace("stretch","fill-available"),ge,we,_e).replace(":fill-available",":stretch"):fe.replace(Oe,"-webkit-"+Oe)+fe.replace(Oe,"-moz-"+Oe.replace("fill-",""))+fe;break;case 962:if(fe="-webkit-"+fe+(fe.charCodeAt(5)===102?"-ms-"+fe:"")+fe,we+_e===211&&fe.charCodeAt(13)===105&&0<fe.indexOf("transform",10))return fe.substring(0,fe.indexOf(";",27)+1).replace(w,"$1-webkit-$2")+fe}return fe}function s(q,ge){var we=q.indexOf(ge===1?":":"{"),_e=q.substring(0,ge!==3?we:10);return we=q.substring(we+1,q.length-1),de(ge!==2?_e:_e.replace(K,"$1"),we,ge)}function u(q,ge){var we=i(ge,ge.charCodeAt(0),ge.charCodeAt(1),ge.charCodeAt(2));return we!==ge+";"?we.replace(Z," or ($1)").substring(4):"("+ge+")"}function c(q,ge,we,_e,fe,Ge,Oe,qe,tt,pt){for(var ct=0,Nt=ge,A;ct<Y;++ct)switch(A=te[ct].call(v,q,Nt,we,_e,fe,Ge,Oe,qe,tt,pt)){case void 0:case!1:case!0:case null:break;default:Nt=A}if(Nt!==ge)return Nt}function f(q){switch(q){case void 0:case null:Y=te.length=0;break;default:if(typeof q=="function")te[Y++]=q;else if(typeof q=="object")for(var ge=0,we=q.length;ge<we;++ge)f(q[ge]);else Te=!!q|0}return f}function p(q){return q=q.prefix,q!==void 0&&(de=null,q?typeof q!="function"?ue=1:(ue=2,de=q):ue=0),p}function v(q,ge){var we=q;if(33>we.charCodeAt(0)&&(we=we.trim()),V=we,we=[V],0<Y){var _e=c(-1,ge,we,we,oe,M,0,0,0,0);_e!==void 0&&typeof _e=="string"&&(ge=_e)}var fe=t(Re,we,ge,0,0);return 0<Y&&(_e=c(-2,fe,we,we,oe,M,fe.length,0,0,0),_e!==void 0&&(fe=_e)),V="",T=0,M=oe=1,fe}var b=/^\0+/g,y=/[\0\r\f]/g,g=/: */g,k=/zoo|gra/,w=/([,: ])(transform)/g,x=/,\r+?/g,E=/([\t\r\n ])*\f?&/g,P=/@(k\w+)\s*(\S*)\s*/,O=/::(place)/g,B=/:(read-only)/g,z=/[svh]\w+-[tblr]{2}/,F=/\(\s*(.*)\s*\)/g,Z=/([\s\S]*?);/g,ee=/-self|flex-/g,K=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ne=/stretch|:\s*\w+\-(?:conte|avail)/,me=/([^-])(image-set\()/,M=1,oe=1,T=0,ue=1,Re=[],te=[],Y=0,de=null,Te=0,V="";return v.use=f,v.set=p,e!==void 0&&p(e),v}var jk,Bp=I(()=>{jk=jC}),Ok,Ml,OC=I(()=>{Ok={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ml=Ok});function TC(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Tk,AC=I(()=>{Tk=TC}),Np,vv,yv,DC=I(()=>{AC(),Np=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,vv=Tk(function(e){return Np.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),yv=vv}),Qn=st(e=>{var t=typeof Symbol=="function"&&Symbol.for,r=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,v=t?Symbol.for("react.concurrent_mode"):60111,b=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,k=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,P=t?Symbol.for("react.responder"):60118,O=t?Symbol.for("react.scope"):60119;function B(F){if(typeof F=="object"&&F!==null){var Z=F.$$typeof;switch(Z){case r:switch(F=F.type,F){case p:case v:case i:case u:case s:case y:return F;default:switch(F=F&&F.$$typeof,F){case f:case b:case w:case k:case c:return F;default:return Z}}case o:return Z}}}function z(F){return B(F)===v}e.AsyncMode=p,e.ConcurrentMode=v,e.ContextConsumer=f,e.ContextProvider=c,e.Element=r,e.ForwardRef=b,e.Fragment=i,e.Lazy=w,e.Memo=k,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=y,e.isAsyncMode=function(F){return z(F)||B(F)===p},e.isConcurrentMode=z,e.isContextConsumer=function(F){return B(F)===f},e.isContextProvider=function(F){return B(F)===c},e.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===r},e.isForwardRef=function(F){return B(F)===b},e.isFragment=function(F){return B(F)===i},e.isLazy=function(F){return B(F)===w},e.isMemo=function(F){return B(F)===k},e.isPortal=function(F){return B(F)===o},e.isProfiler=function(F){return B(F)===u},e.isStrictMode=function(F){return B(F)===s},e.isSuspense=function(F){return B(F)===y},e.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===i||F===v||F===u||F===s||F===y||F===g||typeof F=="object"&&F!==null&&(F.$$typeof===w||F.$$typeof===k||F.$$typeof===c||F.$$typeof===f||F.$$typeof===b||F.$$typeof===E||F.$$typeof===P||F.$$typeof===O||F.$$typeof===x)},e.typeOf=B}),ks=st((e,t)=>{t.exports=Qn()}),_s=st((e,t)=>{var r=ks(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[r.ForwardRef]=s,c[r.Memo]=u;function f(x){return r.isMemo(x)?u:c[x.$$typeof]||o}var p=Object.defineProperty,v=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,k=Object.prototype;function w(x,E,P){if(typeof E!="string"){if(k){var O=g(E);O&&O!==k&&w(x,O,P)}var B=v(E);b&&(B=B.concat(b(E)));for(var z=f(x),F=f(E),Z=0;Z<B.length;++Z){var ee=B[Z];if(!i[ee]&&!(P&&P[ee])&&!(F&&F[ee])&&!(z&&z[ee])){var K=y(E,ee);try{p(x,ee,K)}catch(ne){}}}}return x}t.exports=w});function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Sa(e){return typeof e=="function"}function xs(e){return e.displayName||e.name||"Component"}function Ic(e){return e&&typeof e.styledComponentId=="string"}function Ea(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}function Rp(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=Kp(t%52)+r;return(Kp(t%52)+r).replace(Rk,"$1-$2")}function Ak(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Sa(r)&&!Ic(r))return!1}return!0}function Fp(e){var t,r,o,i,s=e===void 0?_o:e,u=s.options,c=u===void 0?_o:u,f=s.plugins,p=f===void 0?Hl:f,v=new jk(c),b=[],y=function(w){function x(E){if(E)try{w(E+"}")}catch(P){}}return function(E,P,O,B,z,F,Z,ee,K,ne){switch(E){case 1:if(K===0&&P.charCodeAt(0)===64)return w(P+";"),"";break;case 2:if(ee===0)return P+"/*|*/";break;case 3:switch(ee){case 102:case 112:return w(O[0]+P),"";default:return P+(ne===0?"/*|*/":"")}case-2:P.split("/*|*/}").forEach(x)}}}(function(w){b.push(w)}),g=function(w,x,E){return x===0&&Tv.indexOf(E[r.length])!==-1||E.match(i)?w:"."+t};function k(w,x,E,P){P===void 0&&(P="&");var O=w.replace(qp,""),B=x&&E?E+" "+x+" { "+O+" }":O;return t=P,r=x,o=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),v(E||!x?"":x,B)}return v.use([].concat(p,[function(w,x,E){w===2&&E.length&&E[0].lastIndexOf(r)>0&&(E[0]=E[0].replace(o,g))},y,function(w){if(w===-2){var x=b;return b=[],x}}])),k.hash=p.length?p.reduce(function(w,x){return x.name||Ea(15),vi(w,x.name)},5381).toString():"",k}function jc(){return(0,rr.useContext)(Wp)||Gp}function mi(){return(0,rr.useContext)($p)||Nc}function Mp(e){var t=(0,rr.useState)(e.stylisPlugins),r=t[0],o=t[1],i=jc(),s=(0,rr.useMemo)(function(){var c=i;return e.sheet?c=e.sheet:e.target&&(c=c.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(c=c.reconstructWithOptions({useCSSOMInjection:!1})),c},[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,rr.useMemo)(function(){return Fp({options:{prefix:!e.disableVendorPrefixes},plugins:r})},[e.disableVendorPrefixes,r]);return(0,rr.useEffect)(function(){(0,Ac.default)(r,e.stylisPlugins)||o(e.stylisPlugins)},[e.stylisPlugins]),rr.default.createElement(Wp.Provider,{value:s},rr.default.createElement($p.Provider,{value:u},e.children))}function Up(e){return Uk.test(e)?e.replace(l,_).replace(h,"-ms-"):e}function Ss(e,t,r,o){if(Array.isArray(e)){for(var i,s=[],u=0,c=e.length;u<c;u+=1)(i=Ss(e[u],t,r,o))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(j(e))return"";if(Ic(e))return"."+e.styledComponentId;if(Sa(e)){if(typeof(p=e)!="function"||p.prototype&&p.prototype.isReactComponent||!t)return e;var f=e(t);return Ss(f,t,r,o)}var p;return e instanceof Mk?r?(e.inject(r,o),e.getName(o)):e:Vl(e)?function v(b,y){var g,k,w=[];for(var x in b)b.hasOwnProperty(x)&&!j(b[x])&&(Array.isArray(b[x])&&b[x].isCss||Sa(b[x])?w.push(Up(x)+":",b[x],";"):Vl(b[x])?w.push.apply(w,v(b[x],x)):w.push(Up(x)+": "+(g=x,(k=b[x])==null||typeof k=="boolean"||k===""?"":typeof k!="number"||k===0||g in Ml||g.startsWith("--")?String(k).trim():k+"px")+";"));return y?[y+" {"].concat(w,["}"]):w}(e):e.toString()}function Xr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return Sa(e)||Vl(e)?N(Ss(Ul(Hl,[e].concat(r)))):r.length===0&&e.length===1&&typeof e[0]=="string"?e:N(Ss(Ul(e,r)))}function ko(e){return e.replace(re,"-").replace(he,"")}function Oc(e){return typeof e=="string"&&!0}function bv(e,t,r){var o=e[r];je(t)&&je(o)?Tc(o,t):e[r]=t}function Tc(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];for(var i=0,s=r;i<s.length;i++){var u=s[i];if(je(u))for(var c in u)Ve(c)&&bv(e,u[c],c)}return e}function Vp(e,t,r){var o=Ic(e),i=!Oc(e),s=t.attrs,u=s===void 0?Hl:s,c=t.componentId,f=c===void 0?function(P,O){var B=typeof P!="string"?"sc":ko(P);We[B]=(We[B]||0)+1;var z=B+"-"+be("5.3.11"+B+We[B]);return O?O+"-"+z:z}(t.displayName,t.parentComponentId):c,p=t.displayName,v=p===void 0?function(P){return Oc(P)?"styled."+P:"Styled("+xs(P)+")"}(e):p,b=t.displayName&&t.componentId?ko(t.displayName)+"-"+t.componentId:t.componentId||f,y=o&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,g=t.shouldForwardProp;o&&e.shouldForwardProp&&(g=t.shouldForwardProp?function(P,O,B){return e.shouldForwardProp(P,O,B)&&t.shouldForwardProp(P,O,B)}:e.shouldForwardProp);var k,w=new Ov(r,b,o?e.componentStyle:void 0),x=w.isStatic&&u.length===0,E=function(P,O){return function(B,z,F,Z){var ee=B.attrs,K=B.componentStyle,ne=B.defaultProps,me=B.foldedComponentIds,M=B.shouldForwardProp,oe=B.styledComponentId,T=B.target,ue=function(_e,fe,Ge){_e===void 0&&(_e=_o);var Oe=wo({},fe,{theme:_e}),qe={};return Ge.forEach(function(tt){var pt,ct,Nt,A=tt;for(pt in Sa(A)&&(A=A(Oe)),A)Oe[pt]=qe[pt]=pt==="className"?(ct=qe[pt],Nt=A[pt],ct&&Nt?ct+" "+Nt:ct||Nt):A[pt]}),[Oe,qe]}(H(z,(0,rr.useContext)(He),ne)||_o,z,ee),Re=ue[0],te=ue[1],Y=function(_e,fe,Ge,Oe){var qe=jc(),tt=mi(),pt=fe?_e.generateAndInjectStyles(_o,qe,tt):_e.generateAndInjectStyles(Ge,qe,tt);return pt}(K,Z,Re),de=F,Te=te.$as||z.$as||te.as||z.as||T,V=Oc(Te),q=te!==z?wo({},z,{},te):z,ge={};for(var we in q)we[0]!=="$"&&we!=="as"&&(we==="forwardedAs"?ge.as=q[we]:(M?M(we,yv,Te):!V||yv(we))&&(ge[we]=q[we]));return z.style&&te.style!==z.style&&(ge.style=wo({},z.style,{},te.style)),ge.className=Array.prototype.concat(me,oe,Y!==oe?Y:null,z.className,te.className).filter(Boolean).join(" "),ge.ref=de,(0,rr.createElement)(Te,ge)}(k,P,O,x)};return E.displayName=v,(k=rr.default.forwardRef(E)).attrs=y,k.componentStyle=w,k.displayName=v,k.shouldForwardProp=g,k.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Hl,k.styledComponentId=b,k.target=o?e.target:e,k.withComponent=function(P){var O=t.componentId,B=function(F,Z){if(F==null)return{};var ee,K,ne={},me=Object.keys(F);for(K=0;K<me.length;K++)ee=me[K],Z.indexOf(ee)>=0||(ne[ee]=F[ee]);return ne}(t,["componentId"]),z=O&&O+"-"+(Oc(P)?P:ko(xs(P)));return Vp(P,wo({},B,{attrs:y,componentId:z}),r)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(P){this._foldedDefaultProps=o?Tc({},e.defaultProps,P):P}}),Object.defineProperty(k,"toString",{value:function(){return"."+k.styledComponentId}}),i&&(0,_v.default)(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}function wv(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=Xr.apply(void 0,[e].concat(r)),s="sc-global-"+be(JSON.stringify(i)),u=new Qe(i,s);function c(p){var v=jc(),b=mi(),y=(0,rr.useContext)(He),g=(0,rr.useRef)(v.allocateGSInstance(s)).current;return v.server&&f(g,p,v,y,b),(0,rr.useLayoutEffect)(function(){if(!v.server)return f(g,p,v,y,b),function(){return u.removeStyles(g,v)}},[g,p,v,y,b]),null}function f(p,v,b,y,g){if(u.isStatic)u.renderStyles(p,xv,b,g);else{var k=wo({},v,{theme:H(v,y,c.defaultProps)});u.renderStyles(p,k,b,g)}}return rr.default.memo(c)}var kv,rr,Ac,_v,Ul,Vl,Hl,_o,xo,Ll,Dk,xv,Sv,Pa,Es,Kl,Dc,Ev,Pv,Cv,Yr,zk,Hp,Lp,Iv,zc,Bc,Bk,Qr,Nk,gi,Rk,Kp,vi,jv,Fk,Ov,qp,Tv,Wp,$p,Gp,Nc,Mk,Uk,l,h,_,j,N,H,re,he,be,je,Ve,He,We,at,Qe,L,Ee=I(()=>{kv=Q(IC()),rr=Q(ae()),Ac=Q(Ik()),Bp(),OC(),DC(),_v=Q(_s()),Ul=function(e,t){for(var r=[e[0]],o=0,i=t.length;o<i;o+=1)r.push(t[o],e[o+1]);return r},Vl=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!(0,kv.typeOf)(e)},Hl=Object.freeze([]),_o=Object.freeze({}),xo=typeof process!="undefined"&&Ut!==void 0&&(Ut.REACT_APP_SC_ATTR||Ut.SC_ATTR)||"data-styled",Ll=typeof window!="undefined"&&"HTMLElement"in window,Dk=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&Ut!==void 0&&(Ut.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ut.REACT_APP_SC_DISABLE_SPEEDY!==""?Ut.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ut.REACT_APP_SC_DISABLE_SPEEDY:Ut.SC_DISABLE_SPEEDY!==void 0&&Ut.SC_DISABLE_SPEEDY!==""&&Ut.SC_DISABLE_SPEEDY!=="false"&&Ut.SC_DISABLE_SPEEDY)),xv={},Sv=function(){function e(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var t=e.prototype;return t.indexOfGroup=function(r){for(var o=0,i=0;i<r;i++)o+=this.groupSizes[i];return o},t.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,u=s;r>=u;)(u<<=1)<0&&Ea(16,""+r);this.groupSizes=new Uint32Array(u),this.groupSizes.set(i),this.length=u;for(var c=s;c<u;c++)this.groupSizes[c]=0}for(var f=this.indexOfGroup(r+1),p=0,v=o.length;p<v;p++)this.tag.insertRule(f,o[p])&&(this.groupSizes[r]++,f++)},t.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],i=this.indexOfGroup(r),s=i+o;this.groupSizes[r]=0;for(var u=i;u<s;u++)this.tag.deleteRule(i)}},t.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var i=this.groupSizes[r],s=this.indexOfGroup(r),u=s+i,c=s;c<u;c++)o+=this.tag.getRule(c)+`/*!sc*/
`;return o},e}(),Pa=new Map,Es=new Map,Kl=1,Dc=function(e){if(Pa.has(e))return Pa.get(e);for(;Es.has(Kl);)Kl++;var t=Kl++;return Pa.set(e,t),Es.set(t,e),t},Ev=function(e){return Es.get(e)},Pv=function(e,t){t>=Kl&&(Kl=t+1),Pa.set(e,t),Es.set(t,e)},Cv="style["+xo+'][data-styled-version="5.3.11"]',Yr=new RegExp("^"+xo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),zk=function(e,t,r){for(var o,i=r.split(","),s=0,u=i.length;s<u;s++)(o=i[s])&&e.registerName(t,o)},Hp=function(e,t){for(var r=(t.textContent||"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var u=r[i].trim();if(u){var c=u.match(Yr);if(c){var f=0|parseInt(c[1],10),p=c[2];f!==0&&(Pv(p,f),zk(e,p,c[3]),e.getTag().insertRules(f,o)),o.length=0}else o.push(u)}}},Lp=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},Iv=function(e){var t=document.head,r=e||t,o=document.createElement("style"),i=function(c){for(var f=c.childNodes,p=f.length;p>=0;p--){var v=f[p];if(v&&v.nodeType===1&&v.hasAttribute(xo))return v}}(r),s=i!==void 0?i.nextSibling:null;o.setAttribute(xo,"active"),o.setAttribute("data-styled-version","5.3.11");var u=Lp();return u&&o.setAttribute("nonce",u),r.insertBefore(o,s),o},zc=function(){function e(r){var o=this.element=Iv(r);o.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,u=0,c=s.length;u<c;u++){var f=s[u];if(f.ownerNode===i)return f}Ea(17)}(o),this.length=0}var t=e.prototype;return t.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch(i){return!1}},t.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.getRule=function(r){var o=this.sheet.cssRules[r];return o!==void 0&&typeof o.cssText=="string"?o.cssText:""},e}(),Bc=function(){function e(r){var o=this.element=Iv(r);this.nodes=o.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(r,o){if(r<=this.length&&r>=0){var i=document.createTextNode(o),s=this.nodes[r];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},t.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},e}(),Bk=function(){function e(r){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.getRule=function(r){return r<this.length?this.rules[r]:""},e}(),Qr=Ll,Nk={isServer:!Ll,useCSSOMInjection:!Dk},gi=function(){function e(r,o,i){r===void 0&&(r=_o),o===void 0&&(o={}),this.options=wo({},Nk,{},r),this.gs=o,this.names=new Map(i),this.server=!!r.isServer,!this.server&&Ll&&Qr&&(Qr=!1,function(s){for(var u=document.querySelectorAll(Cv),c=0,f=u.length;c<f;c++){var p=u[c];p&&p.getAttribute(xo)!=="active"&&(Hp(s,p),p.parentNode&&p.parentNode.removeChild(p))}}(this))}e.registerId=function(r){return Dc(r)};var t=e.prototype;return t.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new e(wo({},this.options,{},r),this.gs,o&&this.names||void 0)},t.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(o=this.options).isServer,s=o.useCSSOMInjection,u=o.target,r=i?new Bk(u):s?new zc(u):new Bc(u),new Sv(r)));var r,o,i,s,u},t.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.registerName=function(r,o){if(Dc(r),this.names.has(r))this.names.get(r).add(o);else{var i=new Set;i.add(o),this.names.set(r,i)}},t.insertRules=function(r,o,i){this.registerName(r,o),this.getTag().insertRules(Dc(r),i)},t.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.clearRules=function(r){this.getTag().clearGroup(Dc(r)),this.clearNames(r)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(r){for(var o=r.getTag(),i=o.length,s="",u=0;u<i;u++){var c=Ev(u);if(c!==void 0){var f=r.names.get(c),p=o.getGroup(u);if(f&&p&&f.size){var v=xo+".g"+u+'[id="'+c+'"]',b="";f!==void 0&&f.forEach(function(y){y.length>0&&(b+=y+",")}),s+=""+p+v+'{content:"'+b+`"}/*!sc*/
`}}}return s}(this)},e}(),Rk=/(a)(d)/gi,Kp=function(e){return String.fromCharCode(e+(e>25?39:97))},vi=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},jv=function(e){return vi(5381,e)},Fk=jv("5.3.11"),Ov=function(){function e(t,r,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&Ak(t),this.componentId=r,this.baseHash=vi(Fk,r),this.baseStyle=o,gi.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,o){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(t,r,o)),this.isStatic&&!o.hash)if(this.staticRulesId&&r.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var u=Ss(this.rules,t,r,o).join(""),c=Rp(vi(this.baseHash,u)>>>0);if(!r.hasNameForId(i,c)){var f=o(u,"."+c,void 0,i);r.insertRules(i,c,f)}s.push(c),this.staticRulesId=c}else{for(var p=this.rules.length,v=vi(this.baseHash,o.hash),b="",y=0;y<p;y++){var g=this.rules[y];if(typeof g=="string")b+=g;else if(g){var k=Ss(g,t,r,o),w=Array.isArray(k)?k.join(""):k;v=vi(v,w+y),b+=w}}if(b){var x=Rp(v>>>0);if(!r.hasNameForId(i,x)){var E=o(b,"."+x,void 0,i);r.insertRules(i,x,E)}s.push(x)}}return s.join(" ")},e}(),qp=/^\s*\/\/.*$/gm,Tv=[":","[",".","#"],Wp=rr.default.createContext(),Wp.Consumer,$p=rr.default.createContext(),Gp=($p.Consumer,new gi),Nc=Fp(),Mk=function(){function e(t,r){var o=this;this.inject=function(i,s){s===void 0&&(s=Nc);var u=o.name+s.hash;i.hasNameForId(o.id,u)||i.insertRules(o.id,u,s(o.rules,u,"@keyframes"))},this.toString=function(){return Ea(12,String(o.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=r}return e.prototype.getName=function(t){return t===void 0&&(t=Nc),this.name+t.hash},e}(),Uk=/([A-Z])/,l=/([A-Z])/g,h=/^ms-/,_=function(e){return"-"+e.toLowerCase()},j=function(e){return e==null||e===!1||e===""},N=function(e){return Array.isArray(e)&&(e.isCss=!0),e},H=function(e,t,r){return r===void 0&&(r=_o),e.theme!==r.theme&&e.theme||t||r.theme},re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,he=/(^-|-$)/g,be=function(e){return Rp(jv(e)>>>0)},je=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},Ve=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"},He=rr.default.createContext(),He.Consumer,We={},at=function(e){return function t(r,o,i){if(i===void 0&&(i=_o),!(0,kv.isValidElementType)(o))return Ea(1,String(o));var s=function(){return r(o,i,Xr.apply(void 0,arguments))};return s.withConfig=function(u){return t(r,o,wo({},i,{},u))},s.attrs=function(u){return t(r,o,wo({},i,{attrs:Array.prototype.concat(i.attrs,u).filter(Boolean)}))},s}(Vp,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){at[e]=at(e)}),Qe=function(){function e(r,o){this.rules=r,this.componentId=o,this.isStatic=Ak(r),gi.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(r,o,i,s){var u=s(Ss(this.rules,o,i,s).join(""),""),c=this.componentId+r;i.insertRules(c,c,u)},t.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.renderStyles=function(r,o,i,s){r>2&&gi.registerId(this.componentId+r),this.removeStyles(r,i),this.createStyles(r,o,i,s)},e}(),function(){function e(){var r=this;this._emitSheetCSS=function(){var o=r.instance.toString();if(!o)return"";var i=Lp();return"<style "+[i&&'nonce="'+i+'"',xo+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+o+"</style>"},this.getStyleTags=function(){return r.sealed?Ea(2):r._emitSheetCSS()},this.getStyleElement=function(){var o;if(r.sealed)return Ea(2);var i=((o={})[xo]="",o["data-styled-version"]="5.3.11",o.dangerouslySetInnerHTML={__html:r.instance.toString()},o),s=Lp();return s&&(i.nonce=s),[rr.default.createElement("style",wo({},i,{key:"sc-0-0"}))]},this.seal=function(){r.sealed=!0},this.instance=new gi({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(r){return this.sealed?Ea(2):rr.default.createElement(Mp,{sheet:this.instance},r)},t.interleaveWithNodeStream=function(r){return Ea(3)},e}(),L=at});function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},vt.apply(this,arguments)}var Tt=I(()=>{});function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var yn=I(()=>{});function wr(e,t){return wr=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},wr(e,t)}var Ft=I(()=>{});function Kr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wr(e,t)}var Nn=I(()=>{Ft()});function Jn(e){return Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jn(e)}var Ps=I(()=>{});function Cs(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Is=I(()=>{});function js(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Os=I(()=>{});function nr(e,t,r){return js()?nr=Reflect.construct:nr=function(o,i,s){var u=[null];u.push.apply(u,i);var c=Function.bind.apply(o,u),f=new c;return s&&wr(f,s.prototype),f},nr.apply(null,arguments)}var Rn=I(()=>{Ft(),Os()});function Mt(e){var t=typeof Map=="function"?new Map:void 0;return Mt=function(r){if(r===null||!Cs(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return nr(r,arguments,Jn(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),wr(o,r)},Mt(e)}var Ca=I(()=>{Ps(),Ft(),Is(),Rn()}),Ia=I(()=>{});function ZX(e){return e.charAt(0).toUpperCase()+e.slice(1)}function XX(e,t){if(!e)return t.toLowerCase();var r=e.split("-");if(r.length>1)return r.splice(1,0,t),r.reduce(function(i,s){return""+i+ZX(s)});var o=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===o?""+e+t:o}function YX(e,t){for(var r={},o=0;o<t.length;o+=1)(t[o]||t[o]===0)&&(r[XX(e,P4[o])]=t[o]);return r}function w4(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=r[0],s=r[1],u=s===void 0?i:s,c=r[2],f=c===void 0?i:c,p=r[3],v=p===void 0?u:p,b=[i,u,f,v];return YX(e,b)}function zC(e){return Math.round(e*255)}function QX(e,t,r){return zC(e)+","+zC(t)+","+zC(r)}function Vk(e,t,r,o){if(o===void 0&&(o=QX),t===0)return o(r,r,r);var i=(e%360+360)%360/60,s=(1-Math.abs(2*r-1))*t,u=s*(1-Math.abs(i%2-1)),c=0,f=0,p=0;i>=0&&i<1?(c=s,f=u):i>=1&&i<2?(c=u,f=s):i>=2&&i<3?(f=s,p=u):i>=3&&i<4?(f=u,p=s):i>=4&&i<5?(c=u,p=s):i>=5&&i<6&&(c=s,p=u);var v=r-s/2,b=c+v,y=f+v,g=p+v;return o(b,y,g)}function JX(e){if(typeof e!="string")return e;var t=e.toLowerCase();return MC[t]?"#"+MC[t]:e}function k4(e){if(typeof e!="string")throw new ja(3);var t=JX(e);if(t.match(C4))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(I4)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(j4))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(O4)){var o=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:o}}var i=Kk.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var s=T4.exec(t.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])};var u=A4.exec(t);if(u){var c=parseInt(""+u[1],10),f=parseInt(""+u[2],10)/100,p=parseInt(""+u[3],10)/100,v="rgb("+Vk(c,f,p)+")",b=Kk.exec(v);if(!b)throw new ja(4,t,v);return{red:parseInt(""+b[1],10),green:parseInt(""+b[2],10),blue:parseInt(""+b[3],10)}}var y=D4.exec(t.substring(0,50));if(y){var g=parseInt(""+y[1],10),k=parseInt(""+y[2],10)/100,w=parseInt(""+y[3],10)/100,x="rgb("+Vk(g,k,w)+")",E=Kk.exec(x);if(!E)throw new ja(4,t,x);return{red:parseInt(""+E[1],10),green:parseInt(""+E[2],10),blue:parseInt(""+E[3],10),alpha:parseFloat(""+y[4])}}throw new ja(5)}function eY(e){var t=e.red/255,r=e.green/255,o=e.blue/255,i=Math.max(t,r,o),s=Math.min(t,r,o),u=(i+s)/2;if(i===s)return e.alpha!==void 0?{hue:0,saturation:0,lightness:u,alpha:e.alpha}:{hue:0,saturation:0,lightness:u};var c,f=i-s,p=u>.5?f/(2-i-s):f/(i+s);switch(i){case t:c=(r-o)/f+(r<o?6:0);break;case r:c=(o-t)/f+2;break;default:c=(t-r)/f+4;break}return c*=60,e.alpha!==void 0?{hue:c,saturation:p,lightness:u,alpha:e.alpha}:{hue:c,saturation:p,lightness:u}}function BC(e){return eY(k4(e))}function Rc(e){var t=e.toString(16);return t.length===1?"0"+t:t}function NC(e){return Rc(Math.round(e*255))}function tY(e,t,r){return qk("#"+NC(e)+NC(t)+NC(r))}function _4(e,t,r){return Vk(e,t,r,tY)}function rY(e,t,r){if(typeof e=="object"&&t===void 0&&r===void 0)return _4(e.hue,e.saturation,e.lightness);throw new ja(1)}function nY(e,t,r,o){if(typeof e=="object"&&t===void 0&&r===void 0&&o===void 0)return e.alpha>=1?_4(e.hue,e.saturation,e.lightness):"rgba("+Vk(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new ja(2)}function x4(e,t,r){if(typeof e=="number"&&typeof t=="number"&&typeof r=="number")return qk("#"+Rc(e)+Rc(t)+Rc(r));if(typeof e=="object"&&t===void 0&&r===void 0)return qk("#"+Rc(e.red)+Rc(e.green)+Rc(e.blue));throw new ja(6)}function S4(e,t,r,o){if(typeof e=="object"&&t===void 0&&r===void 0&&o===void 0)return e.alpha>=1?x4(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new ja(7)}function RC(e){if(typeof e!="object")throw new ja(8);if(B4(e))return S4(e);if(z4(e))return x4(e);if(R4(e))return nY(e);if(N4(e))return rY(e);throw new ja(8)}function E4(e,t,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=t?e.apply(this,o):E4(e,t,o)}}function Hk(e){return E4(e,e.length,[])}function Lk(e,t,r){return Math.max(e,Math.min(t,r))}function oY(e,t){if(t==="transparent")return t;var r=BC(t);return RC(vt({},r,{lightness:Lk(0,1,r.lightness-parseFloat(e))}))}function aY(e,t){if(t==="transparent")return t;var r=BC(t);return RC(vt({},r,{lightness:Lk(0,1,r.lightness+parseFloat(e))}))}function iY(e,t){if(t==="transparent")return t;var r=BC(t);return RC(vt({},r,{saturation:Lk(0,1,r.saturation+parseFloat(e))}))}function sY(e,t){if(t==="transparent")return t;var r=k4(t),o=typeof r.alpha=="number"?r.alpha:1,i=vt({},r,{alpha:Lk(0,1,+(o*100-parseFloat(e)*100).toFixed(2)/100)});return S4(i)}function FC(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return F4.indexOf(e)>=0&&e?vt({},w4.apply(void 0,[""].concat(r)),{position:e}):w4.apply(void 0,["",e].concat(r))}var ja,P4,MC,C4,I4,j4,O4,Kk,T4,A4,D4,qk,z4,B4,N4,R4,Av,Zp,Wk,Oa,F4,So=I(()=>{Tt(),yn(),Nn(),Ca(),Ia(),ja=function(e){Kr(t,e);function t(r){var o;return o=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+r+" for more information.")||this,Lr(o)}return t}(Mt(Error)),P4=["Top","Right","Bottom","Left"],MC={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C4=/^#[a-fA-F0-9]{6}$/,I4=/^#[a-fA-F0-9]{8}$/,j4=/^#[a-fA-F0-9]{3}$/,O4=/^#[a-fA-F0-9]{4}$/,Kk=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,T4=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,A4=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,D4=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,qk=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},z4=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha=="undefined")},B4=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},N4=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha=="undefined")},R4=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"},Av=Hk(oY),Zp=Hk(aY),Wk=Hk(iY),Oa=Hk(sY),F4=["absolute","fixed","relative","static","sticky"]});function lY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(o){lY(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Xp(e,t){if(e==null)return{};var r={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Dv=I(()=>{}),U4,UC,V4=I(()=>{U4=Q(ae()),UC=(0,U4.createContext)({})});function uY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(r),!0).forEach(function(o){uY(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function VC(e,t){if(e==null)return{};var r={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function cY(e,t){if(e){if(typeof e=="string")return L4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L4(e,t)}}function L4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function K4(e,t){var r;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=cY(e))||t){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=e[Symbol.iterator](),r.next.bind(r)}var $k=I(()=>{});function dY(e){return typeof e=="function"}var HC,q4,fY=I(()=>{HC=Q(ae()),V4(),$k(),q4=function(e,t,r){r===void 0&&(r=t.children);var o=(0,HC.useContext)(UC);if(o.useCreateElement)return o.useCreateElement(e,t,r);if(typeof e=="string"&&dY(r)){t.children;var i=VC(t,["children"]);return r(i)}return(0,HC.createElement)(e,t,r)}});function pY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(o){pY(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function hY(e,t){if(e==null)return{};var r={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var $4=I(()=>{});function mY(e){return typeof e=="object"&&e!=null}var gY=I(()=>{});function LC(e){var t;if(!mY(e))return!1;var r=Object.getPrototypeOf(e);return r==null?!0:((t=r.constructor)===null||t===void 0?void 0:t.toString())===Object.toString()}var G4=I(()=>{gY()});function Z4(e,t){for(var r=Object.keys(e),o={},i={},s=0,u=r;s<u.length;s++){var c=u[s];t.indexOf(c)>=0?o[c]=e[c]:i[c]=e[c]}return[o,i]}function X4(e,t){if(t===void 0&&(t=[]),!LC(e.state))return Z4(e,t);var r=Z4(e,[].concat(t,["state"])),o=r[0],i=r[1],s=o.state,u=hY(o,["state"]);return[Qp(Qp({},s),u),i]}var vY=I(()=>{$4(),G4()});function Gk(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;var r=Object.keys(e),o=Object.keys(t),i=r.length;if(o.length!==i)return!1;for(var s=0,u=r;s<u.length;s++){var c=u[s];if(e[c]!==t[c])return!1}return!0}var KC=I(()=>{});function Y4(e){return e.name==="normalizePropsAreEqualInner"?e:function(t,r){return!LC(t.state)||!LC(r.state)?e(t,r):e(Qp(Qp({},t.state),t),Qp(Qp({},r.state),r))}}var yY=I(()=>{$4(),G4()});function bY(e){return(0,qC.forwardRef)(e)}function wY(e,t){return(0,qC.memo)(e,t)}function zv(e){var t=e.as,r=e.useHook,o=e.memo,i=e.propsAreEqual,s=i===void 0?r==null?void 0:r.unstable_propsAreEqual:i,u=e.keys,c=u===void 0?(r==null?void 0:r.__keys)||[]:u,f=e.useCreateElement,p=f===void 0?q4:f,v=function(b,y){var g=b.as,k=g===void 0?t:g,w=VC(b,["as"]);if(r){var x,E=X4(w,c),P=E[0],O=E[1],B=r(P,Yp({ref:y},O)),z=B.wrapElement,F=VC(B,["wrapElement"]),Z=((x=k.render)===null||x===void 0?void 0:x.__keys)||k.__keys,ee=Z&&X4(w,Z)[0],K=ee?Yp(Yp({},F),ee):F,ne=p(k,K);return z?z(ne):ne}return p(k,Yp({ref:y},w))};return v=bY(v),o&&(v=wY(v,s&&Y4(s))),v.__keys=c,v.unstable_propsAreEqual=Y4(s||Gk),v}var qC,Bv=I(()=>{qC=Q(ae()),$k(),fY(),vY(),KC(),yY()});function Q4(e,t){(0,WC.useDebugValue)(e);var r=(0,WC.useContext)(UC);return r[e]!=null?r[e]:t}var WC,J4=I(()=>{WC=Q(ae()),V4()});function kY(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o="use"+e+"Props";(0,e6.useDebugValue)(o);var i=Q4(o);return i?i(t,r):r}var e6,_Y=I(()=>{e6=Q(ae()),J4()});function xY(e,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o="use"+e+"Options";(0,t6.useDebugValue)(o);var i=Q4(o);return i?Yp(Yp({},t),i(t,r)):t}var t6,SY=I(()=>{t6=Q(ae()),J4(),$k()});function EY(e){return Array.isArray(e)?e:typeof e!="undefined"?[e]:[]}var PY=I(()=>{});function Nv(e){var t,r,o=EY(e.compose),i=function(c,f){if(e.useOptions&&(c=e.useOptions(c,f)),e.name&&(c=xY(e.name,c,f)),e.compose)for(var p=K4(o),v;!(v=p()).done;){var b=v.value;c=b.__useOptions(c,f)}return c},s=function(c,f,p){if(c===void 0&&(c={}),f===void 0&&(f={}),p===void 0&&(p=!1),p||(c=i(c,f)),e.useProps&&(f=e.useProps(c,f)),e.name&&(f=kY(e.name,c,f)),e.compose)if(e.useComposeOptions&&(c=e.useComposeOptions(c,f)),e.useComposeProps)f=e.useComposeProps(c,f);else for(var v=K4(o),b;!(b=v()).done;){var y=b.value;f=y(c,f,!0)}var g={},k=f||{};for(var w in k)k[w]!==void 0&&(g[w]=k[w]);return g};s.__useOptions=i;var u=o.reduce(function(c,f){return c.push.apply(c,f.__keys||[]),c},[]);return s.__keys=[].concat(u,((t=e.useState)===null||t===void 0?void 0:t.__keys)||[],e.keys||[]),s.unstable_propsAreEqual=e.propsAreEqual||((r=o[0])===null||r===void 0?void 0:r.unstable_propsAreEqual)||Gk,s}var Rv=I(()=>{Q(ae()),_Y(),$k(),SY(),KC(),PY()});function r6(e,t){t===void 0&&(t=null),e&&(typeof e=="function"?e(t):e.current=t)}function n6(e,t){return(0,o6.useMemo)(function(){return e==null&&t==null?null:function(r){r6(e,r),r6(t,r)}},[e,t])}var o6,a6=I(()=>{o6=Q(ae())});function $C(e){if(e.tagName==="BUTTON")return!0;if(e.tagName==="INPUT"){var t=e;return i6.indexOf(t.type)!==-1}return!1}var i6,GC=I(()=>{i6=["button","color","file","image","reset","submit"]}),ZC=I(()=>{}),CY=I(()=>{ZC(),Q(ae())}),Zk=I(()=>{ZC(),Q(ae()),CY()});function IY(e){return e?e.ownerDocument||e:document}var s6=I(()=>{});function jY(e){return l6}var l6,OY=I(()=>{s6();try{l6=window}catch(e){}});function TY(){var e=jY();return!!(typeof e!="undefined"&&e.document&&e.document.createElement)}var Xk,XC=I(()=>{OY(),Xk=TY()}),YC,QC,JC=I(()=>{YC=Q(ae()),XC(),QC=Xk?YC.useLayoutEffect:YC.useEffect});function Jp(e){var t=(0,u6.useRef)(e);return QC(function(){t.current=e}),t}var u6,c6=I(()=>{u6=Q(ae()),JC()});function AY(e){return e.target===e.currentTarget}var DY=I(()=>{});function zY(e){var t=IY(e),r=t.activeElement;return r!=null&&r.nodeName?r:null}var BY=I(()=>{s6()});function d6(e,t){return e===t||e.contains(t)}var f6=I(()=>{});function NY(e){var t=zY(e);if(!t)return!1;if(d6(e,t))return!0;var r=t.getAttribute("aria-activedescendant");return r?r===e.id?!0:!!e.querySelector("#"+r):!1}var RY=I(()=>{BY(),f6()});function FY(e){return!d6(e.currentTarget,e.target)}var MY=I(()=>{f6()});function Yk(e){return Xk?window.navigator.userAgent.indexOf(e)!==-1:!1}var UY=I(()=>{XC()});function VY(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}var HY=I(()=>{});function LY(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function KY(e){return VY(e,p6)&&LY(e)}var p6,qY=I(()=>{HY(),p6="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),h6,Qk,m6=I(()=>{Dv(),Bv(),Rv(),KC(),h6=["unstable_system"],Qk=Nv({name:"Role",keys:h6,propsAreEqual:function(e,t){var r=e.unstable_system,o=Xp(e,["unstable_system"]),i=t.unstable_system,s=Xp(t,["unstable_system"]);return r!==i&&!Gk(r,i)?!1:Gk(o,s)}}),zv({as:"div",useHook:Qk})});function g6(e){!NY(e)&&KY(e)&&e.focus()}function WY(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="A"}function $Y(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"}function GY(e,t,r,o){return e?t&&!r?-1:void 0:t?o:o||0}function eI(e,t){return(0,eh.useCallback)(function(r){var o;(o=e.current)===null||o===void 0||o.call(e,r),!r.defaultPrevented&&t&&(r.stopPropagation(),r.preventDefault())},[e,t])}var eh,v6,y6,tI,ZY=I(()=>{Dv(),Bv(),Rv(),eh=Q(ae()),a6(),GC(),Zk(),c6(),JC(),RY(),MY(),UY(),qY(),m6(),v6=["disabled","focusable"],y6=Yk("Mac")&&!Yk("Chrome")&&(Yk("Safari")||Yk("Firefox")),tI=Nv({name:"Tabbable",compose:Qk,keys:v6,useOptions:function(e,t){var r=t.disabled;return Fc({disabled:r},e)},useProps:function(e,t){var r=t.ref,o=t.tabIndex,i=t.onClickCapture,s=t.onMouseDownCapture,u=t.onMouseDown,c=t.onKeyPressCapture,f=t.style,p=Xp(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),v=(0,eh.useRef)(null),b=Jp(i),y=Jp(s),g=Jp(u),k=Jp(c),w=!!e.disabled&&!e.focusable,x=(0,eh.useState)(!0),E=x[0],P=x[1],O=(0,eh.useState)(!0),B=O[0],z=O[1],F=e.disabled?Fc({pointerEvents:"none"},f):f;QC(function(){var me=v.current;me&&(WY(me)||P(!1),$Y(me)||z(!1))},[]);var Z=eI(b,e.disabled),ee=eI(y,e.disabled),K=eI(k,e.disabled),ne=(0,eh.useCallback)(function(me){var M;(M=g.current)===null||M===void 0||M.call(g,me);var oe=me.currentTarget;if(!me.defaultPrevented&&y6&&!FY(me)&&$C(oe)){var T=requestAnimationFrame(function(){oe.removeEventListener("mouseup",ue,!0),g6(oe)}),ue=function(){cancelAnimationFrame(T),g6(oe)};oe.addEventListener("mouseup",ue,{once:!0,capture:!0})}},[]);return Fc({ref:n6(v,r),style:F,tabIndex:GY(w,E,B,o),disabled:w&&B?!0:void 0,"aria-disabled":e.disabled?!0:void 0,onClickCapture:Z,onMouseDownCapture:ee,onMouseDown:ne,onKeyPressCapture:K},p)}}),zv({as:"div",useHook:tI})});function XY(e){var t=e.currentTarget;return e.isTrusted?$C(t)||t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="A"||t.tagName==="SELECT":!1}var Jk,b6,rI,YY=I(()=>{Dv(),Bv(),Rv(),Jk=Q(ae()),GC(),Zk(),c6(),DY(),ZY(),b6=["unstable_clickOnEnter","unstable_clickOnSpace"],rI=Nv({name:"Clickable",compose:tI,keys:b6,useOptions:function(e){var t=e.unstable_clickOnEnter,r=t===void 0?!0:t,o=e.unstable_clickOnSpace,i=o===void 0?!0:o,s=Xp(e,["unstable_clickOnEnter","unstable_clickOnSpace"]);return Fc({unstable_clickOnEnter:r,unstable_clickOnSpace:i},s)},useProps:function(e,t){var r=t.onKeyDown,o=t.onKeyUp,i=Xp(t,["onKeyDown","onKeyUp"]),s=(0,Jk.useState)(!1),u=s[0],c=s[1],f=Jp(r),p=Jp(o),v=(0,Jk.useCallback)(function(y){var g;if((g=f.current)===null||g===void 0||g.call(f,y),!y.defaultPrevented&&!e.disabled&&!y.metaKey&&AY(y)){var k=e.unstable_clickOnEnter&&y.key==="Enter",w=e.unstable_clickOnSpace&&y.key===" ";if(k||w){if(XY(y))return;y.preventDefault(),k?y.currentTarget.click():w&&c(!0)}}},[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),b=(0,Jk.useCallback)(function(y){var g;if((g=p.current)===null||g===void 0||g.call(p,y),!y.defaultPrevented&&!e.disabled&&!y.metaKey){var k=e.unstable_clickOnSpace&&y.key===" ";u&&k&&(c(!1),y.currentTarget.click())}},[e.disabled,e.unstable_clickOnSpace,u]);return Fc({"data-active":u||void 0,onKeyDown:v,onKeyUp:b},i)}}),zv({as:"button",memo:!0,useHook:rI})}),Fv,w6,k6,_6,QY=I(()=>{Dv(),Bv(),Rv(),Fv=Q(ae()),a6(),GC(),Zk(),YY(),w6=[],k6=Nv({name:"Button",compose:rI,keys:w6,useProps:function(e,t){var r=t.ref,o=Xp(t,["ref"]),i=(0,Fv.useRef)(null),s=(0,Fv.useState)(void 0),u=s[0],c=s[1],f=(0,Fv.useState)("button"),p=f[0],v=f[1];return(0,Fv.useEffect)(function(){var b=i.current;b&&($C(b)||(b.tagName!=="A"&&c("button"),v(void 0)))},[]),Fc({ref:n6(i,r),role:u,type:p},o)}}),_6=zv({as:"button",memo:!0,useHook:k6})}),x6,S6,E6,JY=I(()=>{Dv(),Bv(),Rv(),m6(),x6=[],S6=Nv({name:"Group",compose:Qk,keys:x6,useProps:function(e,t){return Fc({role:"group"},t)}}),E6=zv({as:"div",useHook:S6})});function eQ(){return Xk?document.body:null}var P6,th,tQ=I(()=>{P6=Q(ae()),JC(),XC(),Q(Nr()),th=(0,P6.createContext)(eQ())}),nI,rQ=I(()=>{typeof window!="undefined"&&(nI={get passive(){}},window.addEventListener("testPassive",null,nI),window.removeEventListener("testPassive",null,nI))}),Mc=I(()=>{Q(ae()),Zk(),QY(),JY(),Q(Nr()),tQ(),rQ(),ZC()});function Ct(e){let t=(0,oI.useMemo)(()=>{let i=e;return{get current(){return i},set current(s){i=s,o(s)}}},[]),[r,o]=(0,oI.useState)(()=>e);return[t,r]}var oI,At=I(()=>{oI=Q(ae())});function nQ(e){return t=>bn.default.createElement(A6,null,bn.default.createElement(e,J({},t)))}var bn,C6,I6,Ot,rh,j6,O6,T6,aI,iI,A6,Dt=I(()=>{So(),Ee(),Ee(),bn=Q(ae()),C6=Q(Nr()),Mc(),At(),Ot=Xr(I6||(I6=U([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),rh={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return Zp(.6,rh.panel.bg)}}}}}},O6=typeof window!="undefined"?wv(j6||(j6=U([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},aI=L.div(T6||(T6=U([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),iI=e=>bn.default.createElement(Mp,{disableVendorPrefixes:!0,target:e.target},bn.default.createElement(bn.default.Fragment,null,bn.default.createElement(O6,null),e.children)),A6=e=>{let[t,r]=(0,bn.useState)(null),[o,i]=(0,bn.useState)(null);(0,bn.useLayoutEffect)(()=>{if(!t)return;let{parentNode:c}=t;if(!c)return;let f=c.shadowRoot?parent.shadowRoot:c.attachShadow({mode:"open"});i(f)},[t]);let[s,u]=Ct(void 0);return o?C6.default.createPortal(bn.default.createElement(iI,{target:o},bn.default.createElement(bn.default.Fragment,null,bn.default.createElement(aI,{ref:s}),bn.default.createElement(th.Provider,{value:u},e.children))),o):bn.default.createElement("template",{ref:r,"shadow-root":"open"},e.children)}}),nh,D6,z6,ql,B6,Mv,N6,R6,e_,F6,sI,yi,Ts=I(()=>{Dt(),Ee(),nh={get outlinePanel(){return 1},get propsPanel(){return nh.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},D6=rh.panel.bg,ql=L.span(z6||(z6=U([`
  white-space: nowrap;
`]))),Mv=L.span(B6||(B6=U([`
  white-space: nowrap;
  color: `,`;
`])),rh.panel.head.punctuation.color),R6=L.div(N6||(N6=U([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),D6),e_=18,sI=L.div(F6||(F6=U([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),e_),yi=100}),M6,Ta,oh=I(()=>{M6=()=>{},Ta=M6});function oQ(e){return lI.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),lI.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var lI,uI,aQ=I(()=>{lI=Q(ae()),uI=oQ});function iQ(e){return cI.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),cI.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var cI,U6,sQ=I(()=>{cI=Q(ae()),U6=iQ});function lQ(e){return dI.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dI.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var dI,V6,uQ=I(()=>{dI=Q(ae()),V6=lQ});function cQ(e){return fI.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),fI.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var fI,H6,dQ=I(()=>{fI=Q(ae()),H6=cQ});function fQ(e){return pI.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),pI.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var pI,hI,pQ=I(()=>{pI=Q(ae()),hI=fQ});function hQ(e){return mI.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),mI.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var mI,t_,mQ=I(()=>{mI=Q(ae()),t_=hQ});function gQ(e){return gI.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),gI.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var gI,vI,vQ=I(()=>{gI=Q(ae()),vI=gQ}),Uv=I(()=>{aQ(),sQ(),uQ(),dQ(),pQ(),mQ(),vQ()}),bi,L6,r_,K6,q6,W6,$6,G6,Z6,X6,Y6,Q6,J6,eA,tA,rA,nA,oA,Vv,n_=I(()=>{bi=Q(ae()),Ee(),oh(),Dt(),Uv(),r_=L.li(L6||(L6=U([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),q6=L.div(K6||(K6=U([""]))),$6=L(q6)(W6||(W6=U([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Ot),Z6=Xr(G6||(G6=U([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),Y6=L.span(X6||(X6=U([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),Z6,Ot),J6=L.div(Q6||(Q6=U([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),tA=L.span(eA||(eA=U([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),r_),nA=L.ul(rA||(rA=U([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),r_),oA=({label:e,children:t,depth:r,select:o,selectionStatus:i,labelDecoration:s,collapsed:u=!1,setIsCollapsed:c})=>{let f=t!==void 0;return bi.default.createElement(r_,{style:{"--depth":r},className:u?"collapsed":""},bi.default.createElement($6,{className:i,onClick:o!=null?o:Ta,"data-header":!0},bi.default.createElement(J6,null,f?bi.default.createElement(tA,{onClick:p=>{p.stopPropagation(),p.preventDefault(),c==null||c(!u)}},bi.default.createElement(U6,null)):bi.default.createElement(hI,null)),bi.default.createElement(Y6,null,bi.default.createElement("span",null,e)),s),f&&bi.default.createElement(nA,null,t))},Vv=oA});function yQ(e){return Object.keys(e)}function bQ(e){return Object.keys((0,wi.val)(e.sheetTemplatesP))}function wQ(){let e=fi(Wl().filter(t=>Ur(t)||lr(t)).map(t=>lr(t)?t.sheet:t))[0];if(e)return e.getSequence()}var wi,Wl,aA,$l=I(()=>{wi=Ne,ua(),_r(),$e(),Wl=()=>{var e;let t=(0,wi.val)(ie().projectsP),r=((e=(0,wi.val)(ie().atomP.historic.panels.outlinePanel.selection))!=null?e:[]).map(o=>{let i=t[o.projectId];if(!i)return;if(o.type==="Project")return i;if(!(0,wi.val)(i.sheetTemplatesP[o.sheetId]))return;let s=aA(i,o.sheetId);if(!s)return;if(o.type==="Sheet")return s;let u=(0,wi.val)(s.objectsP[o.objectKey]);if(u)return u});return fi(r.filter(o=>typeof o!="undefined"))},aA=(e,t)=>{let r=ie().atomP.historic.projects.stateByProjectId[e.address.projectId],o=(0,wi.val)(r.stateBySheetId[t].selectedInstanceId),i=(0,wi.val)(e.sheetTemplatesP[t]);if(i){if(o)return(0,wi.val)(i.instancesP[o]);{let s=(0,wi.val)(i.instancesP);return s[yQ(s)[0]]}}}}),iA,sA,kQ=I(()=>{$e(),iA=Q(ae()),n_(),Xe(),$l(),sA=({sheetObject:e,depth:t,overrideLabel:r})=>{let o=()=>{ie().transaction(({stateEditors:s})=>{s.studio.historic.panels.outline.selection.set([e])})},i=bt(()=>Wl(),[]);return iA.default.createElement(Vv,{select:o,label:r!=null?r:e.address.objectKey,depth:t,selectionStatus:i.includes(e)?"selected":"not-selected"})}});function yI(e){var t;let r=e.type==="namespace"?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):e.type==="Theatre_Project"?"project":e.type==="Theatre_Sheet"?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",o=e.type==="namespace"?e.sheet.address.projectId:e.address.projectId,i=(t=_t(ie().atomP.ahistoric.projects.stateByProjectId[o].collapsedItemsInOutline[r]))!=null?t:!1,s=(0,lA.useCallback)(u=>{ie().transaction(({stateEditors:c})=>{c.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:o,isCollapsed:u,itemKey:r})})},[r]);return{collapsed:i,setCollapsed:s}}var lA,bI=I(()=>{lA=Q(ae()),$e(),Xe()});function uA(e){return ki.default.createElement(ki.default.Fragment,null,[...e.namespace.entries()].map(([t,{object:r,nested:o}])=>ki.default.createElement(_Q,{key:t,label:t,object:r,nested:o,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})))}function _Q(e){let{nested:t,label:r,object:o,sheet:i}=e,{collapsed:s,setCollapsed:u}=yI({type:"namespace",sheet:i,path:[...e.path,r]}),c=t&&ki.default.createElement(uA,{namespace:t,path:[...e.path,r],key:"namespaceTree("+r+")",visualIndentation:e.visualIndentation+1,sheet:i}),f=o&&ki.default.createElement(sA,{depth:e.visualIndentation,key:"objectPath("+o.address.objectKey+")",sheetObject:o,overrideLabel:r});return ki.default.createElement(ki.default.Fragment,{key:"".concat(r," - ").concat(e.visualIndentation)},f,c&&ki.default.createElement(Vv,{selectionStatus:"not-selectable",label:r,key:"baseItem(".concat(r,")"),depth:e.visualIndentation,children:c,collapsed:s,setIsCollapsed:u}))}function cA(e,t,r=xQ(t)){let[o,...i]=r,s=e.get(o);s||(s={nested:void 0,object:void 0,path:[...r]},e.set(o,s)),i.length===0?(console.assert(!s.object,"expect not to have existing object with same name",{existing:s,object:t}),s.object=t):(s.nested||(s.nested=new Map),cA(s.nested,t,i))}function xQ(e){let t=wI.get(e);return t||(t=e.address.objectKey.split(mA),console.assert(t.length>0,"expected not empty"),wI.set(e,t)),t}var dA,ki,fA,pA,hA,mA,wI,SQ=I(()=>{Xe(),dA=Ne,ki=Q(ae()),Ee(),kQ(),n_(),bI(),L.li(fA||(fA=U([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),pA=({sheet:e,depth:t})=>bt(()=>{let r=(0,dA.val)(e.objectsP),o=Object.values(r).filter(s=>s!=null),i=new Map;return o.forEach(s=>{cA(i,s)}),ki.default.createElement(uA,{namespace:i,visualIndentation:t,path:[],sheet:e})},[e,t]),hA=pA,mA=/\s*\/\s*/g,wI=new WeakMap}),ah,gA,vA,yA,bA,wA,kA,EQ=I(()=>{$e(),$l(),Xe(),ah=Q(ae()),Ee(),SQ(),n_(),bI(),vA=L.div(gA||(gA=U([`
  display: flex;
`]))),L.li(yA||(yA=U([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),wA=L.div(bA||(bA=U([""]))),kA=({sheet:e,depth:t})=>{let{collapsed:r,setCollapsed:o}=yI(e),i=(0,ah.useCallback)(()=>{ie().transaction(({stateEditors:s})=>{s.studio.historic.panels.outline.selection.set([e])})},[e]);return bt(()=>{let s=Wl();return ah.default.createElement(Vv,{depth:t,select:i,setIsCollapsed:o,collapsed:r,selectionStatus:s.some(u=>u===e)?"selected":s.some(u=>u.type==="Theatre_SheetObject"&&u.sheet===e)?"descendant-is-selected":"not-selected",label:ah.default.createElement(vA,null,e.address.sheetId,": ",e.address.sheetInstanceId)},ah.default.createElement(wA,null,ah.default.createElement(hA,{depth:t+1,sheet:e,key:"objectList"+e.address.sheetInstanceId})))},[t,r])}}),kI,ih,_A,xA,SA,EA,PQ=I(()=>{Xe(),kI=Ne,ih=Q(ae()),Ee(),EQ(),L.div(_A||(_A=U([`
  display: flex;
`]))),L.li(xA||(xA=U([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),L.div(SA||(SA=U([""]))),EA=({sheetId:e,depth:t,project:r})=>bt(()=>{let o=(0,kI.val)(r.sheetTemplatesP[e]);if(!o)return ih.default.createElement(ih.default.Fragment,null);let i=(0,kI.val)(o.instancesP);return ih.default.createElement(ih.default.Fragment,null,Object.entries(i).map(([s,u])=>ih.default.createElement(kA,{key:u.address.sheetInstanceId,sheet:u,depth:t})))},[t,e,r])}),o_,PA,CA,CQ=I(()=>{$l(),Xe(),o_=Q(ae()),PQ(),PA=({project:e,depth:t})=>bt(()=>{if(!e)return null;let r=bQ(e);return o_.default.createElement(o_.default.Fragment,null,r.map(o=>o_.default.createElement(EA,{depth:t,sheetId:o,key:"sheet-".concat(o),project:e})))},[e,t]),CA=PA}),Hv,IA,jA,OA,TA,AA,IQ=I(()=>{Hv=Q(ae()),n_(),CQ(),$e(),Xe(),$l(),IA=Ne,Ee(),bI(),OA=L.div(jA||(jA=U([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),TA=({depth:e,project:t})=>{let r=bt(()=>Wl(),[]),o=bt(()=>{let c=t.address.projectId,f=(0,IA.val)(ie().atomP.ephemeral.coreByProject[c].loadingState);return(f==null?void 0:f.type)==="browserStateIsNotBasedOnDiskState"},[t]),i=(0,Hv.useCallback)(()=>{ie().transaction(({stateEditors:c})=>{c.studio.historic.panels.outline.selection.set([t])})},[t]),{collapsed:s,setCollapsed:u}=yI(t);return Hv.default.createElement(Vv,{depth:e,label:t.address.projectId,setIsCollapsed:u,collapsed:s,labelDecoration:o?Hv.default.createElement(OA,null,"Has Conflicts"):null,children:Hv.default.createElement(CA,{project:t,depth:e+1}),selectionStatus:r.includes(t)?"selected":r.some(c=>c.address.projectId===t.address.projectId)?"descendant-is-selected":"not-selected",select:i})},AA=TA}),DA,_I,zA,BA,NA,RA,jQ=I(()=>{DA=Ne,Xe(),$e(),_I=Q(ae()),Ee(),IQ(),BA=L.ul(zA||(zA=U([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),NA=e=>bt(()=>{let t=(0,DA.val)(ie().projectsP);return _I.default.createElement(BA,null,Object.keys(t).map(r=>{let o=t[r];return _I.default.createElement(AA,{depth:0,project:o,key:"projectListItem-".concat(r)})}))},[]),RA=NA});function FA(e){let[t,r]=(0,xI.useState)(!1);return(0,xI.useEffect)(()=>{let o=s=>{let u=t?200:50,c=56,f=e==="left"?s.x<u:s.x>window.innerWidth-u;f&&(f=s.y>c),r(!!f)};document.addEventListener("mousemove",o);let i=()=>{r(!1)};return document.addEventListener("mouseleave",i),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",i)}},[t]),t}var xI,MA=I(()=>{xI=Q(ae())}),Lv,sh,SI,UA,VA,HA,LA,a_,Kv,KA,OQ=I(()=>{Lv=Q(ae()),Ee(),Ts(),jQ(),Xe(),$e(),MA(),sh=Ne,Dt(),SI="44px",VA=L.div(UA||(UA=U([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),Ot,nh.outlinePanel,SI,SI,({pin:e})=>e?"block":"none"),HA=()=>{var e;let t=(e=_t(ie().atomP.ahistoric.pinOutline))!=null?e:!0,r=_t(KA),o=FA("left");return(0,Lv.useLayoutEffect)(()=>{a_.set(o)},[o]),(0,Lv.useEffect)(()=>()=>{Kv.set(!1),a_.set(!1)},[]),Lv.default.createElement(VA,{pin:t||r,onMouseEnter:()=>{Kv.set(!0)},onMouseLeave:()=>{Kv.set(!1)}},Lv.default.createElement(RA,null))},LA=HA,a_=new sh.Atom(!1),Kv=new sh.Atom(!1),KA=(0,sh.prism)(()=>{let e=(0,sh.val)(Kv.prism),t=(0,sh.val)(a_.prism);return e||t})}),qA,WA,$A,TQ=I(()=>{Ee(),WA=L.input.attrs({type:"checkbox"})(qA||(qA=U([`
  outline: none;
`]))),$A=WA});function AQ({propConfig:e,editingTools:t,value:r,autoFocus:o}){let i=(0,EI.useCallback)(s=>{t.permanentlySetValue(!!s.target.checked)},[e,t]);return EI.default.createElement(ZA,{checked:r,onChange:i,autoFocus:o})}var EI,GA,ZA,XA,DQ=I(()=>{EI=Q(ae()),Ee(),TQ(),ZA=L($A)(GA||(GA=U([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),XA=AQ});function i_(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var s_=I(()=>{});function PI(e,t,r){(0,YA.useEffect)(()=>{if(!e||r===!1)return;let o=Array.isArray(e)?e.filter(s=>s):[e],i=s=>{o.every(u=>!s.composedPath().includes(u))&&t(s)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}},[e,r])}var YA,CI=I(()=>{YA=Q(ae())}),As,QA,Ds,JA,eD,tD,rD,II,nD,qo,oD,Eo=I(()=>{As=Q(ae()),Ee(),QA="pointer-root",Ds="--lockedCursor",eD=L.div(JA||(JA=U([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),rD=L.div(tD||(tD=U([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),II=(0,As.createContext)({}),nD=e=>{var t,r,o,i;let[s,u]=(0,As.useState)([]),c=(0,As.useMemo)(()=>({getLock:(p,v)=>{let b={className:p,cursor:v};return u(y=>[...y,b]),()=>{u(y=>y.filter(g=>g!==b))}}}),[]),f=(r=(t=s[0])==null?void 0:t.cursor)!=null?r:"";return As.default.createElement(II.Provider,{value:c},As.default.createElement(eD,{id:QA,className:((i=(o=s[0])==null?void 0:o.className)!=null?i:"normal")+" "+e.className},As.default.createElement(rD,{style:{cursor:f,[Ds]:f}},e.children)))},qo=(e,t,r)=>{let o=(0,As.useContext)(II);(0,As.useLayoutEffect)(()=>{if(e)return o.getLock(t,r)},[e,t,r])},oD=nD});function aD(e){return qv.default.createElement(jI.Provider,{value:e.logger},e.children)}function Gl(e,t){let r=(0,qv.useContext)(jI);return(0,qv.useMemo)(()=>e?r.named(e,t):r,[r,e,t])}var qv,jI,Zl=I(()=>{qv=Q(ae()),jI=qv.default.createContext(null)});function zQ(){let e=Gl("PointerCapturing"),t=Aa.default.useRef(null),r=()=>t.current!=null;return o=>{let i,s=u=>(i=u,t.current=u,u);return{capturing:{capturePointer(u){if(e._debug("Capturing pointer",{forDebugName:o,reason:u}),t.current!=null)throw new Error('"'.concat(o,'" attempted capturing pointer for "').concat(u,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let c=s({debugOwnerName:o,debugReason:u});return{isCapturing(){return c===t.current},release(){return c===t.current?(e._debug("Releasing pointer",{forDebugName:o,reason:u}),s(null),!0):!1}}},isPointerBeingCaptured:r},forceRelease(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),s(null))}}}}function BQ(e){let t=zQ();return Aa.default.createElement(OI.Provider,{value:t},Aa.default.createElement(sD,{children:e.children}))}function iD(e){let t=(0,Aa.useContext)(OI),r=(0,Aa.useMemo)(()=>t(e),[e,t]);return(0,Aa.useEffect)(()=>()=>{r.forceRelease()},[r]),r.capturing}var Aa,OI,sD,TI=I(()=>{Aa=Q(ae()),Zl(),OI=Aa.default.createContext(null),sD=Aa.default.memo(({children:e})=>Aa.default.createElement(Aa.default.Fragment,null,e))}),AI,NQ=I(()=>{AI=typeof window!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function fr(e,t){let r=(0,lh.useRef)(t);r.current=t;let o=t.shouldPointerLock&&!AI,i=(0,lh.useRef)({domDragStarted:!1}),{capturePointer:s}=iD("useDrag for ".concat(t.debugName)),u=(0,lh.useRef)({onDrag:Ta,onDragEnd:Ta,onClick:Ta}),c=(0,lh.useRef)(),[f,p]=Ct(!1);return(0,lh.useLayoutEffect)(()=>{if(!e)return;let v=()=>{let P=i.current.domDragStarted&&i.current.detection.detected;f.current!==P&&(f.current=P)},b=P=>{if(!i.current.domDragStarted)return;let O=i.current;if(!RQ(P,O)&&(O.detection.detected||(O.detection.totalDistanceMoved+=Math.abs(P.movementY)+Math.abs(P.movementX),O.detection.totalDistanceMoved>lD&&(o&&e.requestPointerLock(),O.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},v())),O.detection.detected)){O.detection.dragEventCount+=1;let{dragMovement:B}=O.detection;if(o)B.x+=P.movementX,B.y+=P.movementY;else{let{startPos:z}=O;B.x=P.screenX-z.x,B.y=P.screenY-z.y}u.current.onDrag(B.x,B.y,P,P.movementX,P.movementY)}},y=P=>{if(k(),!i.current.domDragStarted)return;let O=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!AI&&document.exitPointerLock(),u.current.onDragEnd(O),window.focus(),O||u.current.onClick(P),v()},g=()=>{document.addEventListener("mousemove",b),document.addEventListener("mouseup",y)},k=()=>{var P;(P=c.current)==null||P.release(),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",y)},w=P=>{r.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(r.current.dontBlockMouseDown||(P.stopPropagation(),P.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},v())},x=P=>{var O,B,z,F;(O=c.current)==null||O.release();let Z=r.current;if(Z.disabled===!0||!((B=Z.buttons)!=null?B:[0]).includes(P.button))return;let ee=Z.onDragStart(P);ee!==!1&&(u.current.onDrag=ee.onDrag,u.current.onDragEnd=(z=ee.onDragEnd)!=null?z:Ta,u.current.onClick=(F=ee.onClick)!=null?F:Ta,c.current=s("Drag start"),Z.dontBlockMouseDown||(P.stopPropagation(),P.preventDefault()),i.current={domDragStarted:!0,startPos:{x:P.screenX,y:P.screenY},detection:{detected:!1,totalDistanceMoved:0}},v(),g())},E=P=>{x(P)};return e.addEventListener("mousedown",E),e.addEventListener("click",w),()=>{var P,O;k(),e.removeEventListener("mousedown",E),e.removeEventListener("click",w),i.current.domDragStarted&&((O=(P=u.current).onDragEnd)==null||O.call(P,i.current.detection.detected)),i.current={domDragStarted:!1},v()}},[e]),qo(p&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[p]}function RQ(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>DI||Math.abs(e.movementY)>DI)}var lh,lD,DI,Tr=I(()=>{lh=Q(ae()),Eo(),TI(),oh(),NQ(),At(),lD=3,DI=100});function FQ(e){return isNaN(e)?"NaN":Pp(e)?e.toFixed(0):Op(e,3).toString()}var uD,cD,zs,dD,l_,fD,pD,hD,mD,gD,vD,yD,bD,u_,zI=I(()=>{_r(),uD=Q(ae()),cD=Q(ae()),zs=Q(ae()),Ee(),s_(),At(),CI(),Tr(),l_=L.div(dD||(dD=U([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),pD=L.input(fD||(fD=U([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),mD=L.div(hD||(hD=U([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),l_,l_),vD=L.div(gD||(gD=U([`
  display: contents;
`]))),yD=e=>!0,bD=e=>{var t;let[r]=Ct({mode:"noFocus"}),o=(t=e.isValid)!=null?t:yD,i=(0,zs.useRef)(e);i.current=e;let s=(0,zs.useRef)(null);PI(s.current,()=>{s.current.blur()},r.current.mode==="editingViaKeyboard");let u=(0,zs.useRef)(null),c=(0,zs.useMemo)(()=>{let x=ee=>{let K=ee.target,{value:ne}=K,me=r.current;r.current=Se(J({},me),{currentEditedValueInString:ne});let M=parseFloat(ne);!isFinite(M)||!o(M)||i.current.temporarilySetValue(M)},E=()=>{r.current.mode==="editingViaKeyboard"&&(P(),r.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},P=()=>{let ee=r.current,K=parseFloat(ee.currentEditedValueInString);!isFinite(K)||!o(K)||ee.valueBeforeEditing===K?i.current.discardTemporaryValue():i.current.permanentlySetValue(K)},O=ee=>{ee.key==="Escape"?(i.current.discardTemporaryValue(),r.current={mode:"noFocus"},s.current.blur()):(ee.key==="Enter"||ee.key==="Tab")&&(P(),s.current.blur())},B=ee=>{r.current.mode==="noFocus"&&(s.current.focus(),ee.preventDefault()),ee.stopPropagation()},z=()=>{r.current.mode==="noFocus"?F():r.current.mode},F=()=>{let ee=i.current.value;r.current={mode:"editingViaKeyboard",currentEditedValueInString:String(ee),valueBeforeEditing:ee},setTimeout(()=>{s.current.focus(),s.current.setSelectionRange(0,100)})},Z;return{inputChange:x,onBlur:E,transitionToDraggingMode:()=>{var ee;let K=i.current.value;Z=(ee=s.current)==null?void 0:ee.getBoundingClientRect().width,r.current={mode:"dragging"};let ne=K,me=K;return u.current=document.body.style.cursor,{onDrag(M,oe,T,ue){let Re=T.altKey?ue/10:ue,te=me+e.nudge({deltaX:Re,deltaFraction:Re/Z,magnitude:1});me=e.range?Xt(te,e.range[0],e.range[1]):te,i.current.temporarilySetValue(me)},onDragEnd(M){M?(ne===me?i.current.discardTemporaryValue():i.current.permanentlySetValue(me),r.current={mode:"noFocus"}):(i.current.discardTemporaryValue(),r.current={mode:"noFocus"})},onClick(){s.current.focus(),s.current.setSelectionRange(0,100)}}},onInputKeyDown:O,onClick:B,onFocus:z}},[]);(0,uD.useEffect)(()=>()=>{c.onBlur()},[]);let f=r.current.mode!=="editingViaKeyboard"?FQ(e.value):r.current.currentEditedValueInString;typeof f=="number"&&isNaN(f)&&(f="NaN");let p=[s];e.inputRef&&p.push(e.inputRef);let v=zs.default.createElement(pD,{key:"input",type:"text",onChange:c.inputChange,value:f,onBlur:c.onBlur,onKeyDown:c.onInputKeyDown,onClick:c.onClick,onFocus:c.onFocus,ref:i_(p),onMouseDown:x=>{x.stopPropagation()},onDoubleClick:x=>{x.preventDefault(),x.stopPropagation()},autoFocus:e.autoFocus}),{range:b}=e,y=parseFloat(f),g=b?zs.default.createElement(mD,{style:{"--percentage":Xt((y-b[0])/(b[1]-b[0]),0,1)}}):null,[k,w]=(0,cD.useState)(null);return fr(k,{debugName:"form/BasicNumberInput",onDragStart:c.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:r.current.mode==="editingViaKeyboard"}),zs.default.createElement(l_,{className:e.className+" "+r.current.mode},zs.default.createElement(vD,{ref:w},v),g)},u_=bD});function MQ({propConfig:e,editingTools:t,value:r,autoFocus:o}){let i=(0,BI.useCallback)(s=>e.nudgeFn(Se(J({},s),{config:e})),[e]);return BI.default.createElement(u_,{value:r,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,range:e.range,nudge:i,autoFocus:o})}var BI,NI,wD=I(()=>{zI(),BI=Q(ae()),NI=MQ});function UQ({value:e,onChange:t,options:r,autoFocus:o}){let i=(0,Wv.useCallback)(s=>{t(String(s.target.value))},[t]);return Wv.default.createElement(RI,{role:"radiogroup"},Object.keys(r).map((s,u)=>Wv.default.createElement(xD,{key:"label-"+u,"data-checked":e===s},r[s],Wv.default.createElement(ED,{type:"radio",checked:e===s,value:s,onChange:i,name:"switchbox",autoFocus:o}))))}var Wv,kD,RI,_D,xD,SD,ED,PD,VQ=I(()=>{So(),Wv=Q(ae()),Ee(),RI=L.form(kD||(kD=U([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),xD=L.label(_D||(_D=U([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),RI,Av(.1,"white")),ED=L.input(SD||(SD=U([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),PD=UQ}),HQ=I(()=>{}),FI,MI,UI,CD=I(()=>{FI=Q(ae()),MI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UI=FI.default.createContext&&FI.default.createContext(MI)});function ID(e){return e&&e.map(function(t,r){return ch.default.createElement(t.tag,Bs({key:r},t.attr),ID(t.child))})}function uh(e){return function(t){return ch.default.createElement(LQ,Bs({attr:Bs({},e.attr)},t),ID(e.child))}}function LQ(e){var t=function(r){var o=e.attr,i=e.size,s=e.title,u=jD(e,["attr","size","title"]),c=i||r.size||"1em",f;return r.className&&(f=r.className),e.className&&(f=(f?f+" ":"")+e.className),ch.default.createElement("svg",Bs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,u,{className:f,style:Bs(Bs({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&ch.default.createElement("title",null,s),e.children)};return UI!==void 0?ch.default.createElement(UI.Consumer,null,function(r){return t(r)}):t(MI)}var ch,Bs,jD,KQ=I(()=>{ch=Q(ae()),CD(),Bs=function(){return Bs=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bs.apply(this,arguments)},jD=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r}}),xr=I(()=>{HQ(),KQ(),CD()}),qQ=I(()=>{xr()}),WQ=I(()=>{xr()});function $Q(e){return uh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var GQ=I(()=>{xr()}),ZQ=I(()=>{xr()}),XQ=I(()=>{xr()});function YQ(e){return uh({attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function QQ(e){return uh({attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var JQ=I(()=>{xr()}),eJ=I(()=>{xr()}),tJ=I(()=>{xr()}),rJ=I(()=>{xr()}),nJ=I(()=>{xr()}),oJ=I(()=>{xr()}),aJ=I(()=>{xr()}),iJ=I(()=>{xr()}),sJ=I(()=>{xr()}),lJ=I(()=>{xr()});function OD(e){return uh({attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var uJ=I(()=>{xr()}),cJ=I(()=>{xr()}),dJ=I(()=>{xr()}),fJ=I(()=>{xr()});function pJ(e){return uh({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var hJ=I(()=>{xr()});function mJ(e){return uh({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var gJ=I(()=>{xr()}),dh=I(()=>{qQ(),WQ(),GQ(),ZQ(),XQ(),JQ(),eJ(),tJ(),rJ(),nJ(),oJ(),aJ(),iJ(),sJ(),lJ(),uJ(),cJ(),dJ(),fJ(),hJ(),gJ()});function vJ({value:e,onChange:t,options:r,className:o,autoFocus:i}){let s=(0,Uc.useCallback)(u=>{t(String(u.target.value))},[t]);return Uc.default.createElement(AD,null,Uc.default.createElement(ND,{className:o,value:e,onChange:s,autoFocus:i},Object.keys(r).map((u,c)=>Uc.default.createElement("option",{key:"option-"+c,value:u},r[u]))),Uc.default.createElement(zD,null,Uc.default.createElement(pJ,null)))}var Uc,TD,AD,DD,zD,BD,ND,RD,yJ=I(()=>{Uc=Q(ae()),Ee(),dh(),AD=L.div(TD||(TD=U([`
  width: 100%;
  position: relative;
`]))),zD=L.div(DD||(DD=U([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),ND=L.select(BD||(BD=U([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),RD=vJ});function bJ({propConfig:e,editingTools:t,value:r,autoFocus:o}){let i=(0,c_.useCallback)(s=>{t.permanentlySetValue(s)},[e,t]);return e.as==="menu"?c_.default.createElement(RD,{value:r,onChange:i,options:e.valuesAndLabels,autoFocus:o}):c_.default.createElement(PD,{value:r,onChange:i,options:e.valuesAndLabels,autoFocus:o})}var c_,FD,wJ=I(()=>{c_=Q(ae()),VQ(),yJ(),FD=bJ}),MD,$v,UD,VD,HD,LD,d_,VI=I(()=>{Ee(),MD=Q(ae()),$v=Q(ae()),s_(),At(),CI(),VD=L.input.attrs({type:"text"})(UD||(UD=U([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),HD=e=>!0,LD=e=>{var t,r;let[o]=Ct({mode:"noFocus"}),i=(t=e.isValid)!=null?t:HD,s=(0,$v.useRef)(e);s.current=e;let u=(0,$v.useRef)(null);PI(u.current,()=>{u.current.blur()},o.current.mode==="editingViaKeyboard");let c=(0,$v.useMemo)(()=>{let v=E=>{let P=E.target,{value:O}=P,B=o.current;o.current=Se(J({},B),{currentEditedValueInString:O}),i(O)&&s.current.temporarilySetValue(O)},b=()=>{var E,P;o.current.mode==="editingViaKeyboard"&&(y(),o.current={mode:"noFocus"}),(P=(E=s.current).onBlur)==null||P.call(E)},y=()=>{let E=o.current,P=E.currentEditedValueInString;i(P)?E.valueBeforeEditing===P?s.current.discardTemporaryValue():s.current.permanentlySetValue(P):s.current.discardTemporaryValue()},g=E=>{E.key==="Escape"?(s.current.discardTemporaryValue(),o.current={mode:"noFocus"},u.current.blur()):(E.key==="Enter"||E.key==="Tab")&&(y(),u.current.blur())},k=E=>{o.current.mode==="noFocus"&&(u.current.focus(),E.preventDefault()),E.stopPropagation()},w=()=>{o.current.mode==="noFocus"?x():o.current.mode},x=()=>{let E=s.current.value;o.current={mode:"editingViaKeyboard",currentEditedValueInString:String(E),valueBeforeEditing:E},setTimeout(()=>{u.current.focus()})};return{inputChange:v,onBlur:b,onInputKeyDown:g,onClick:k,onFocus:w}},[]);(0,MD.useEffect)(()=>()=>{c.onBlur()},[]);let f=o.current.mode!=="editingViaKeyboard"?e.value:o.current.currentEditedValueInString,p=[u];return e.inputRef&&p.push(e.inputRef),$v.default.createElement(VD,{key:"input",type:"text",className:"".concat((r=e.className)!=null?r:""," ").concat(i(f)?"":"invalid"),onChange:c.inputChange,value:f,onBlur:c.onBlur,onKeyDown:c.onInputKeyDown,onClick:c.onClick,onFocus:c.onFocus,ref:i_(p),onMouseDown:v=>{v.stopPropagation()},onDoubleClick:v=>{v.preventDefault(),v.stopPropagation()},autoFocus:e.autoFocus})},d_=LD});function kJ({editingTools:e,value:t,autoFocus:r}){return KD.default.createElement(d_,{value:t,temporarilySetValue:e.temporarilySetValue,discardTemporaryValue:e.discardTemporaryValue,permanentlySetValue:e.permanentlySetValue,autoFocus:r})}var KD,qD,_J=I(()=>{KD=Q(ae()),VI(),qD=kJ});function xJ(e){e=e.trim().toLowerCase();let t=e.match(KI);if(!t)return{r:0,g:0,b:0,a:1};let r=SJ(t[1]);return{r:parseInt(r.substr(0,2),16)/255,g:parseInt(r.substr(2,2),16)/255,b:parseInt(r.substr(4,2),16)/255,a:parseInt(r.substr(6,2),16)/255}}function HI(e,{removeAlphaIfOpaque:t=!1}={}){let r=(e.a*255|256).toString(16).slice(1),o=(e.r*255|256).toString(16).slice(1)+(e.g*255|256).toString(16).slice(1)+(e.b*255|256).toString(16).slice(1)+(t&&r==="ff"?"":r);return"#".concat(o)}function LI(e){return Se(J({},e),{toString(){return HI(this,{removeAlphaIfOpaque:!0})}})}function SJ(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),r=e[3];return"".concat(t.repeat(2)).concat(r.repeat(2));case 6:return"".concat(e,"ff")}return e}var KI,WD=I(()=>{KI=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function f_(e){let t=(0,qI.useRef)(e),r=(0,qI.useRef)(o=>{t.current&&t.current(o)});return t.current=e,r.current}var qI,$D=I(()=>{qI=Q(ae())}),Vc,p_=I(()=>{Vc=(e,t=0,r=1)=>e>r?r:e<t?t:e}),Gv,WI,GD,$I,GI=I(()=>{Gv=Q(ae()),WI=(0,Gv.createContext)(void 0),GD=({children:e})=>{let[t,r]=(0,Gv.useState)(!1);return Gv.default.createElement(WI.Provider,{value:{editing:t,setEditing:r}},e)},$I=()=>(0,Gv.useContext)(WI)}),Xl,fh,ZD,h_,ZI,XI,XD,YD,QD,JD,Zv,m_=I(()=>{Xl=Q(ae()),$D(),p_(),Ee(),GI(),fh=e=>"touches"in e,ZD=(e,t)=>{for(let r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]},h_=e=>e&&e.ownerDocument.defaultView||self,ZI=(e,t,r)=>{let o=e.getBoundingClientRect(),i=fh(t)?ZD(t.touches,r):t;return{left:Vc((i.pageX-(o.left+h_(e).pageXOffset))/o.width),top:Vc((i.pageY-(o.top+h_(e).pageYOffset))/o.height)}},XI=e=>{!fh(e)&&e.preventDefault()},XD=(e,t)=>t&&!fh(e),QD=L.div(YD||(YD=U([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),JD=e=>{var t=e,{onMove:r,onKey:o}=t,i=Bo(t,["onMove","onKey"]);let s=(0,Xl.useRef)(null),u=f_(r),c=f_(o),f=(0,Xl.useRef)(null),p=(0,Xl.useRef)(!1),{setEditing:v}=$I(),[b,y,g]=(0,Xl.useMemo)(()=>{let k=({nativeEvent:O})=>{let B=s.current;if(B&&(XI(O),!(XD(O,p.current)||!B))){if(fh(O)){p.current=!0;let z=O.changedTouches||[];z.length&&(f.current=z[0].identifier)}B.focus(),v(!0),u(ZI(B,O,f.current)),P(!0)}},w=O=>{XI(O),(fh(O)?O.touches.length>0:O.buttons>0)&&s.current?u(ZI(s.current,O,f.current)):(v(!1),P(!1))},x=O=>{v(!1),P(!1)},E=O=>{let B=O.which||O.keyCode;B<37||B>40||(O.preventDefault(),c({left:B===39?.05:B===37?-.05:0,top:B===40?.05:B===38?-.05:0}))};function P(O){let B=p.current,z=s.current,F=h_(z),Z=O?F.addEventListener:F.removeEventListener;Z(B?"touchmove":"mousemove",w),Z(B?"touchend":"mouseup",x)}return[k,E,P]},[c,u]);return(0,Xl.useEffect)(()=>g,[g]),Xl.default.createElement(QD,Se(J({},i),{onTouchStart:b,onMouseDown:b,ref:s,onKeyDown:y,tabIndex:0,role:"slider"}))},Zv=Xl.default.memo(JD)}),YI,e8,t8,r8,n8,o8,a8,g_,QI=I(()=>{YI=Q(ae()),Ee(),m_(),t8=L(Zv)(e8||(e8=U([""]))),n8=L.div(r8||(r8=U([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),t8),a8=L.div(o8||(o8=U([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),g_=({className:e,color:t,left:r,top:o=.5})=>{let i={top:"".concat(o*100,"%"),left:"".concat(r*100,"%")};return YI.default.createElement(n8,{style:i,className:e},YI.default.createElement(a8,{style:{backgroundColor:t}}))}}),wn,v_=I(()=>{wn=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r}),JI,y_,b_,i8,s8,w_=I(()=>{v_(),JI=({h:e,s:t,v:r,a:o})=>{let i=(200-t)*r/100;return{h:wn(e),s:wn(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:wn(i/2),a:wn(o,2)}},y_=e=>{let{h:t,s:r,l:o}=JI(e);return"hsl(".concat(t,", ").concat(r,"%, ").concat(o,"%)")},b_=e=>{let{h:t,s:r,l:o,a:i}=JI(e);return"hsla(".concat(t,", ").concat(r,"%, ").concat(o,"%, ").concat(i,")")},i8=({h:e,s:t,v:r,a:o})=>{e=e/360*6,t=t/100,r=r/100;let i=Math.floor(e),s=r*(1-t),u=r*(1-(e-i)*t),c=r*(1-(1-e+i)*t),f=i%6;return{r:wn([r,u,s,s,c,r][f]*255),g:wn([c,r,r,u,s,s][f]*255),b:wn([s,s,c,r,r,u][f]*255),a:wn(o,2)}},s8=({r:e,g:t,b:r,a:o})=>{let i=Math.max(e,t,r),s=i-Math.min(e,t,r),u=s?i===e?(t-r)/s:i===t?2+(r-e)/s:4+(e-t)/s:0;return{h:wn(60*(u<0?u+6:u)),s:wn(i?s/i*100:0),v:wn(i/255*100),a:o}}}),Xv,l8,u8,c8,d8,f8,p8,EJ=I(()=>{Xv=Q(ae()),m_(),QI(),w_(),p_(),v_(),Ee(),u8=L.div(l8||(l8=U([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),d8=L(g_)(c8||(c8=U([`
  z-index: 2;
`]))),f8=({className:e,hue:t,onChange:r})=>Xv.default.createElement(u8,{className:e},Xv.default.createElement(Zv,{onMove:o=>{r({h:360*o.left})},onKey:o=>{r({h:Vc(t+o.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":wn(t)},Xv.default.createElement(d8,{left:t/360,color:y_({h:t,s:100,v:100,a:1})}))),p8=Xv.default.memo(f8)}),Yv,h8,m8,g8,v8,y8,b8,PJ=I(()=>{Yv=Q(ae()),m_(),QI(),w_(),p_(),v_(),Ee(),m8=L.div(h8||(h8=U([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),v8=L(g_)(g8||(g8=U([`
  z-index: 3;
`]))),y8=({hsva:e,onChange:t})=>{let r=s=>{t({s:s.left*100,v:100-s.top*100})},o=s=>{t({s:Vc(e.s+s.left*100,0,100),v:Vc(e.v-s.top*100,0,100)})},i={backgroundColor:y_({h:e.h,s:100,v:100,a:1})};return Yv.default.createElement(m8,{style:i},Yv.default.createElement(Zv,{onMove:r,onKey:o,"aria-label":"Color","aria-valuetext":"Saturation ".concat(wn(e.s),"%, Brightness ").concat(wn(e.v),"%")},Yv.default.createElement(v8,{top:1-e.v/100,left:e.s/100,color:y_(e)})))},b8=Yv.default.memo(y8)}),Qv,w8,k8,_8,x8,S8,E8,P8,CJ=I(()=>{Qv=Q(ae()),m_(),QI(),w_(),p_(),v_(),Ee(),k8=L.div(w8||(w8=U([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),x8=L.div.attrs(({colorFrom:e,colorTo:t})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(e,", ").concat(t,")")}}))(_8||(_8=U([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),E8=L(g_)(S8||(S8=U([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),P8=({className:e,hsva:t,onChange:r})=>{let o=c=>{r({a:c.left})},i=c=>{r({a:Vc(t.a+c.left)})},s=b_(Object.assign({},t,{a:0})),u=b_(Object.assign({},t,{a:1}));return Qv.default.createElement(k8,{className:e},Qv.default.createElement(x8,{colorFrom:s,colorTo:u}),Qv.default.createElement(Zv,{onMove:o,onKey:i,"aria-label":"Alpha","aria-valuetext":"".concat(wn(t.a*100),"%")},Qv.default.createElement(E8,{left:t.a,color:b_(t)})))}}),k_,C8=I(()=>{k_=(e,t)=>{if(e===t)return!0;for(let r in e)if(e[r]!==t[r])return!1;return!0}});function IJ(e,t,r,o){let{editing:i}=$I(),[s,u]=(0,Ns.useState)(t),c=f_(r),f=f_(o),p=i?s:t,[v,b]=(0,Ns.useState)(()=>e.toHsva(p)),y=(0,Ns.useRef)({color:p,hsva:v}),g=(0,Ns.useRef)({color:p,hsva:v});(0,Ns.useEffect)(()=>{i&&u(y.current.color)},[i]),(0,Ns.useEffect)(()=>{let w=e.fromHsva(v);i?!k_(v,y.current.hsva)&&!e.equal(w,y.current.color)&&(y.current={hsva:v,color:w},u(w),c(w)):!k_(v,g.current.hsva)&&!e.equal(w,g.current.color)&&(g.current={hsva:v,color:w},y.current={hsva:v,color:w},f(w))},[i,v,e,c,f]),(0,Ns.useEffect)(()=>{if(!i&&!e.equal(p,g.current.color)){let w=e.toHsva(p);g.current={hsva:w,color:p},b(w)}},[i,p,e]);let k=(0,Ns.useCallback)(w=>{b(x=>Object.assign({},x,w))},[]);return[v,k]}var Ns,jJ=I(()=>{Ns=Q(ae()),C8(),$D(),GI()}),ph,I8,j8,O8,OJ=I(()=>{ph=Q(ae()),EJ(),PJ(),CJ(),jJ(),Ee(),j8=L.div(I8||(I8=U([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),O8=e=>{var t=e,{className:r,colorModel:o,color:i=o.defaultColor,temporarilySetValue:s,permanentlySetValue:u,discardTemporaryValue:c}=t,f=Bo(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[p,v]=IJ(o,i,s,u);return(0,ph.useEffect)(()=>()=>{c()},[]),ph.default.createElement(j8,J({},f),ph.default.createElement(b8,{hsva:p,onChange:v}),ph.default.createElement(p8,{hue:p.h,onChange:v}),ph.default.createElement(P8,{hsva:p,onChange:v}))}}),e5,T8,A8,D8,z8,TJ=I(()=>{e5=Q(ae()),OJ(),C8(),w_(),GI(),T8=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),A8=e=>({r:e.r*255,g:e.g*255,b:e.b*255,a:e.a}),D8={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>s8(A8(e)),fromHsva:e=>T8(i8(e)),equal:k_},z8=e=>e5.default.createElement(GD,null,e5.default.createElement(O8,Se(J({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:D8})))}),AJ=I(()=>{TJ()}),B8,N8,R8,DJ=I(()=>{B8=Q(ae()),N8=function(e){(0,B8.useEffect)(e,[])},R8=N8}),F8,M8,U8,zJ=I(()=>{F8=Q(ae()),DJ(),M8=function(e){var t=(0,F8.useRef)(e);t.current=e,R8(function(){return function(){return t.current()}})},U8=M8}),__,V8,H8,BJ=I(()=>{__=Q(ae()),zJ(),V8=function(e){var t=(0,__.useRef)(0),r=(0,__.useState)(e),o=r[0],i=r[1],s=(0,__.useCallback)(function(u){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(u)})},[]);return U8(function(){cancelAnimationFrame(t.current)}),[o,s]},H8=V8});function NJ(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function RJ(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var x_,FJ=I(()=>{x_=typeof window!="undefined"}),L8,K8,S_,t5=I(()=>{L8=Q(ae()),BJ(),FJ(),K8=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var r=H8({width:x_?window.innerWidth:e,height:x_?window.innerHeight:t}),o=r[0],i=r[1];return(0,L8.useEffect)(function(){if(x_){var s=function(){i({width:window.innerWidth,height:window.innerHeight})};return NJ(window,"resize",s),function(){RJ(window,"resize",s)}}},[]),o},S_=K8});function r5(e){let[t,r]=(0,n5.useState)(null);return(0,n5.useLayoutEffect)(()=>(e&&r(e.getBoundingClientRect()),()=>{r(null)}),[e]),t}var n5,q8=I(()=>{n5=Q(ae())}),W8,$8,o5,G8=I(()=>{W8=Q(ae()),$8=(0,W8.createContext)({}),o5=$8});function MJ(e,t,r){let o=e.getBoundingClientRect(),i=s=>{(s.clientX<o.left-t||s.clientX>o.left+o.width+t||s.clientY<o.top-t||s.clientY>o.top+o.height+t)&&r(s)};return window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}}var UJ=I(()=>{}),Z8,E_,a5,X8,i5,Y8=I(()=>{Z8=Q(ae()),E_=Q(ae()),t5(),q8(),G8(),At(),CI(),UJ(),oh(),_r(),a5=8,X8=e=>{var t,r;let o=e.children(),[i,s]=Ct(null),u=o.props.style?J({},o.props.style):{};u.position="absolute";let c=r5(s),f=r5(e.target),p=S_(),[v,b]=(0,E_.useState)({});return(0,E_.useLayoutEffect)(()=>{var y,g,k;if(!c||!s||!f)return;let w=(y=e.verticalGap)!=null?y:8,x={},E=(g=e.verticalPlacement)!=null?g:"bottom",P=0,O=0;E==="bottom"?f.bottom+c.height+w<p.height?(E="bottom",P=f.bottom+w,x.top="0px"):f.top>c.height+w?(E="top",P=f.top-(c.height+w),x.bottom="0px",x.transform="rotateZ(180deg)"):E="overlay":E==="top"&&(f.top>c.height+w?(E="top",P=f.top-(c.height+w),x.bottom="0px",x.transform="rotateZ(180deg)"):f.bottom+c.height+w<p.height?(E="bottom",P=f.bottom+w,x.top="0px"):E="overlay");let B=0;if(E!=="overlay"){let ne=f.left+f.width/2;ne<c.width/2?(O=w,B=Math.max(ne-w,a5)):ne+c.width/2>p.width?(O=p.width-(w+c.width),B=Math.min(ne-O,c.width-a5)):(O=ne-c.width/2,B=c.width/2),x.left=B+"px"}let{minX:z=-1/0,maxX:F=1/0,minY:Z=-1/0,maxY:ee=1/0}=(k=e.constraints)!=null?k:{},K={left:Xt(O,z,F-c.width),top:Xt(P,Z,ee+c.height)};if(s.style.left=K.left+"px",s.style.top=K.top+"px",b(x),e.onPointerOutside)return MJ(s,e.onPointerOutside.threshold,e.onPointerOutside.callback)},[c,s,e.target,f,p,e.onPointerOutside]),PI([s,(t=e.target)!=null?t:null],(r=e.onClickOutside)!=null?r:Ta),Z8.default.createElement(o5.Provider,{value:v},(0,E_.cloneElement)(o,{ref:i,style:u}))},i5=X8});function _i(e,t){let{isPointerBeingCaptured:r}=iD("usePopover"),[o,i]=Ct({isOpen:!1}),s=(0,kn.useRef)(e),u=(0,kn.useCallback)(y=>{o.current={isOpen:!1}},[]),c=(0,kn.useCallback)((y,g)=>{var k;let w=typeof s.current=="function"?s.current():s.current;function x(){p.childHasFocusRef.current||w.closeOnClickOutside!==!1&&u("clicked outside popover")}o.current={isOpen:!0,clickPoint:{clientX:y.clientX,clientY:y.clientY},target:g,opts:w,onClickOutside:x,onPointerOutside:w.closeWhenPointerIsDistant===!1?void 0:{threshold:(k=w.pointerDistanceThreshold)!=null?k:100,callback:()=>{p.childHasFocusRef.current||r()||u("pointer outside")}}}},[]),f=(0,kn.useCallback)((...y)=>{o.current.isOpen?u("toggled"):c(...y)},[]),p=VJ({state:i}),[,v]=(0,kn.useContext)(S0);(0,kn.useEffect)(()=>{let y;return i.isOpen&&(y=v()),()=>y==null?void 0:y()},[i.isOpen]);let b=(0,kn.useContext)(th);return{node:i.isOpen?(0,Q8.createPortal)(kn.default.createElement(s5.Provider,{value:p.childPopoverLock},kn.default.createElement(i5,{children:t,target:i.target,onClickOutside:i.onClickOutside,onPointerOutside:i.onPointerOutside,constraints:i.opts.constraints,verticalGap:i.opts.verticalGap})),b):kn.default.createElement(kn.default.Fragment,null),open:c,close:u,toggle:f,isOpen:i.isOpen}}function VJ(e){let t=(0,kn.useContext)(s5);(0,kn.useEffect)(()=>{if(e.state.isOpen){let o=t.takeFocus();return()=>{o.releaseFocus()}}},[e.state.isOpen]);let r=(0,kn.useRef)(!1);return{childHasFocusRef:r,childPopoverLock:{takeFocus(){return r.current=!0,{releaseFocus(){r.current=!1}}}}}}var kn,Q8,s5,xi=I(()=>{TI(),At(),kn=Q(ae()),Q8=Q(Nr()),Mc(),Y8(),Z5(),s5=kn.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),Rs,J8,ez,tz,rz,nz,oz,az,iz,sz,lz,uz,cz,HJ=I(()=>{Rs=Q(ae()),Ee(),G8(),ez=L.div(J8||(J8=U([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),rz=L.div(tz||(tz=U([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),oz=L.path(nz||(nz=U([`
  fill: var(--popover-bg);
`]))),iz=L.path(az||(az=U([`
  fill: var(--popover-inner-stroke);
`]))),lz=L.path(sz||(sz=U([`
  fill: var(--popover-outer-stroke);
`]))),uz=(0,Rs.forwardRef)(({className:e},t)=>{let r=(0,Rs.useContext)(o5);return Rs.default.createElement(ez,{className:e,ref:t,style:J({},r)},Rs.default.createElement(rz,null,Rs.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Rs.default.createElement(lz,{d:"M6 0L0 6H12L6 0Z"}),Rs.default.createElement(iz,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),Rs.default.createElement(oz,{d:"M6 3L0 9H12L6 3Z"}))))}),cz=uz}),P_,l5,dz,fz,pz,Si,Ei=I(()=>{Dt(),So(),P_=Q(ae()),Ee(),HJ(),l5=Oa(.05,"#2a2a31"),fz=L.div(dz||(dz=U([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),l5,Ot),pz=P_.default.forwardRef(({children:e,className:t,showPopoverEdgeTriangle:r=!0},o)=>P_.default.createElement(fz,{className:t,ref:o},r?P_.default.createElement(cz,null):void 0,e)),Si=pz});function LJ({editingTools:e,value:t,autoFocus:r}){let o=(0,Pi.useRef)(null),i=(0,Pi.useCallback)(u=>{let c=LI(xJ(u));e.permanentlySetValue(c)},[e]),s=_i({debugName:"RgbaPropEditor"},()=>Pi.default.createElement(kz,null,Pi.default.createElement(z8,{color:{r:t.r,g:t.g,b:t.b,a:t.a},temporarilySetValue:u=>{let c=LI(u);e.temporarilySetValue(c)},permanentlySetValue:u=>{let c=LI(u);e.permanentlySetValue(c)},discardTemporaryValue:e.discardTemporaryValue})));return Pi.default.createElement(Pi.default.Fragment,null,Pi.default.createElement(mz,null,Pi.default.createElement(vz,{rgbaColor:t,ref:o,onClick:u=>{s.toggle(u,o.current)}}),Pi.default.createElement(bz,{value:HI(t,{removeAlphaIfOpaque:!0}),temporarilySetValue:u5,discardTemporaryValue:u5,permanentlySetValue:i,isValid:u=>!!u.match(KI),autoFocus:r})),s.node)}var Pi,hz,mz,gz,vz,yz,bz,u5,wz,kz,_z,KJ=I(()=>{WD(),WD(),Pi=Q(ae()),AJ(),Ee(),xi(),VI(),Ei(),mz=L.div(hz||(hz=U([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),vz=L.div.attrs(e=>({style:{background:HI(e.rgbaColor)}}))(gz||(gz=U([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),bz=L(d_)(yz||(yz=U([`
  flex: 1;
`]))),u5=()=>{},kz=L.div(wz||(wz=U([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),l5),_z=LJ});function qJ({propConfig:e,editingTools:t,value:r,autoFocus:o}){let[i,s]=Da.default.useState();(0,Da.useEffect)(()=>{s(r?t.getAssetUrl(r):void 0)},[r]);let u=(0,Da.useCallback)(f=>et(this,null,function*(){let p=f.target.files[0];t.permanentlySetValue({type:"image",id:void 0});let v=yield t.createAsset(p);v?t.permanentlySetValue({type:"image",id:v}):t.permanentlySetValue(r),f.target.value=null}),[t,r]),c=!(r!=null&&r.id);return Da.default.createElement(c5,{empty:c},Da.default.createElement(jz,{empty:c,title:c?"Upload image":'"'.concat(r.id,'" (Click to upload new image)')},Da.default.createElement(Tz,{type:"file",onChange:u,accept:"image/*,.hdr",autoFocus:o}),i?Da.default.createElement(Dz,{src:i}):Da.default.createElement(Ez,null)),!c&&Da.default.createElement(Bz,{title:"Delete image",onClick:()=>{t.permanentlySetValue({type:"image",id:void 0})}},Da.default.createElement(vI,null)))}var Da,xz,c5,Sz,Ez,Pz,Cz,Iz,jz,Oz,Tz,Az,Dz,zz,Bz,Nz,WJ=I(()=>{Uv(),Da=Q(ae()),Ee(),c5=L.div(xz||(xz=U([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),Ez=L.div(Sz||(Sz=U([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),jz=L.label(Iz||(Iz=U([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Xr(Pz||(Pz=U([""]))):Xr(Cz||(Cz=U([""])))),Tz=L.input.attrs({type:"file"})(Oz||(Oz=U([`
  display: none;
`]))),Dz=L.img(Az||(Az=U([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),Bz=L.button(zz||(zz=U([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),c5),Nz=qJ});function $J({propConfig:e,editingTools:t,value:r,autoFocus:o}){let[i,s]=za.default.useState();(0,za.useEffect)(()=>{s(r?t.getAssetUrl(r):void 0)},[r]);let u=(0,za.useCallback)(f=>et(this,null,function*(){let p=f.target.files[0];t.permanentlySetValue({type:"file",id:void 0});let v=yield t.createAsset(p);v?t.permanentlySetValue({type:"file",id:v}):t.permanentlySetValue(r),f.target.value=null}),[t,r]),c=!(r!=null&&r.id);return za.default.createElement(d5,{empty:c},za.default.createElement(Lz,{empty:c,title:c?"Upload file":'"'.concat(r.id,'" (Click to upload new file)')},za.default.createElement(qz,{type:"file",onChange:u,autoFocus:o}),i?za.default.createElement(hI,null):za.default.createElement(Mz,null)),!c&&za.default.createElement($z,{title:"Delete file",onClick:()=>{t.permanentlySetValue({type:"file",id:void 0})}},za.default.createElement(vI,null)))}var za,Rz,d5,Fz,Mz,Uz,Vz,Hz,Lz,Kz,qz,Wz,$z,Gz,GJ=I(()=>{Uv(),za=Q(ae()),Ee(),d5=L.div(Rz||(Rz=U([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),Mz=L.div(Fz||(Fz=U([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),Lz=L.label(Hz||(Hz=U([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Xr(Uz||(Uz=U([""]))):Xr(Vz||(Vz=U([""])))),qz=L.input.attrs({type:"file"})(Kz||(Kz=U([`
  display: none;
`]))),$z=L.button(Wz||(Wz=U([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),d5),Gz=$J}),f5,Zz=I(()=>{DQ(),wD(),wJ(),_J(),KJ(),WJ(),GJ(),f5={number:NI,string:qD,boolean:XA,stringLiteral:FD,rgba:_z,image:Nz,file:Gz}});function Jv(e){let t=new WeakMap;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}var C_=I(()=>{});function Ci(e){return e.type==="compound"||e.type==="enum"}function I_(e,t){if(!e)return;let[r,...o]=t;if(r===void 0)return e;if(!Ci(e))return;let i=e.type==="enum"?e.cases[r]:e.props[r];return I_(i,o)}function j_(e,t){let r=t.deserializeAndSanitize(e);return r===void 0?t.default:r}function ZJ(e){return!Ci(e)}function*e0(e,t){if(e.type==="compound")for(let r in e.props)yield*LX(xt(e0(e.props[r],[...t,r])));else{if(e.type==="enum")throw new Error("Not implemented yet");return yield{path:t,conf:e}}}var p5,Yl=I(()=>{C_(),p5=Jv(e=>{if(e.type==="enum")throw new Error("Not implemented yet for enums");for(let t in e.props){let r=e.props[t];if(Ci(r)){if(p5(r))return!0}else return!0}return!1})}),h5,Xz=I(()=>{h5="calc(var(--left-pad) + var(--depth) * var(--step))"}),Yz,Ql,Hc=I(()=>{Ee(),Ql=Xr(Yz||(Yz=U([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),e=>e.isHighlighted==="self"?"#CCC":"#919191")}),t0,O_,Qz,Jz,eB,tB,rB,nB,oB=I(()=>{oh(),t0=Q(ae()),Ee(),O_=26,Jz=L.li(Qz||(Qz=U([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),O_,e=>e.enabled?"white":"#8f8f8f",e=>e.enabled?"normal":"not-allowed",e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial"),tB=L.span(eB||(eB=U([""]))),rB=e=>t0.default.createElement(Jz,{onClick:e.enabled?e.onClick:Ta,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},t0.default.createElement(tB,null,t0.default.createElement(t0.default.Fragment,null,e.label))),nB=rB});function XJ(e){let t=(0,m5.useRef)(e);t.current=e,(0,m5.useEffect)(()=>{let r=o=>t.current(o);return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[])}var m5,YJ=I(()=>{m5=Q(ae())}),r0,aB,iB,sB,lB,uB,cB,dB,g5,fB=I(()=>{r0=Q(ae()),oB(),Ee(),So(),Dt(),aB=190,iB=!0,lB=L.ul(sB||(sB=U([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),aB,Oa(.2,"#111"),Ot),cB=L.div(uB||(uB=U([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),dB=r0.default.forwardRef((e,t)=>r0.default.createElement(lB,{ref:t},iB&&e.displayName?r0.default.createElement(cB,null,e.displayName):null,e.items.map((r,o)=>r0.default.createElement(nB,{key:"item-".concat(o),label:r.label,enabled:r.enabled!==!1,onClick:i=>{r.callback&&r.callback(i),e.onRequestClose()}})))),g5=dB}),pB,hB,T_,mB,n0,gB,vB,QJ=I(()=>{q8(),pB=Q(ae()),hB=Q(ae()),T_=Q(ae()),mB=Q(Nr()),t5(),oB(),Mc(),YJ(),fB(),n0=20,gB=e=>{let[t,r]=(0,T_.useState)(null),o=r5(t),i=S_();(0,T_.useLayoutEffect)(()=>{if(!o||!t)return;let c={left:o.width/2,top:O_/2+(e.displayName?O_:0)},f={left:e.clickPoint.clientX-c.left,top:e.clickPoint.clientY-c.top};f.left<0?f.left=0:f.left+o.width>i.width&&(f.left=i.width-o.width),f.top<0?f.top=0:f.top+o.height>i.height&&(f.top=i.height-o.height),t.style.left=f.left+"px",t.style.top=f.top+"px";let p=v=>{(v.clientX<f.left-n0||v.clientX>f.left+o.width+n0||v.clientY<f.top-n0||v.clientY>f.top+o.height+n0)&&e.onRequestClose()};return window.addEventListener("mousemove",p),()=>{window.removeEventListener("mousemove",p)}},[o,t,e.clickPoint,i,e.onRequestClose]);let s=(0,hB.useContext)(th);XJ(c=>{c.key==="Escape"&&e.onRequestClose()});let u=(0,pB.useMemo)(()=>{let c=Array.isArray(e.items)?e.items:e.items();return c.length>0?c:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]},[e.items]);return(0,mB.createPortal)(T_.default.createElement(g5,{items:u,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:r}),s)},vB=gB}),A_,yB,bB,JJ=I(()=>{A_=Q(ae()),yB=(e,t)=>{let[r,o]=(0,A_.useState)({isOpen:!1}),i=(0,A_.useCallback)(()=>o({isOpen:!1}),[]);return(0,A_.useEffect)(()=>{if(!e||t.disabled===!0){o({isOpen:!1});return}let s=u=>{o({isOpen:!0,event:u}),u.preventDefault(),u.stopPropagation()};return e.addEventListener("contextmenu",s),()=>{e.removeEventListener("contextmenu",s)}},[e,t.disabled]),[r,i]},bB=yB});function Fn(e,t){let[r,o]=bB(e,t),[,i]=(0,hh.useContext)(S0);return(0,hh.useEffect)(()=>{var s;let u;return r.isOpen&&((s=t.onOpen)==null||s.call(t),u=i()),()=>u==null?void 0:u()},[r.isOpen,t.onOpen]),[r.isOpen?hh.default.createElement(vB,{items:t.menuItems,displayName:t.displayName,clickPoint:r.event,onRequestClose:o}):wB,o,r.isOpen]}var hh,wB,Mn=I(()=>{hh=Q(ae()),QJ(),JJ(),Z5(),wB=hh.default.createElement(hh.default.Fragment,null)});function Jl(e,t){return t.length===0?e:ps(e,t)}var D_=I(()=>{vc()});function kB(e,t){return e==null?null:e instanceof Element&&e.matches(t)?e:kB(e.parentElement,t)}var eee=I(()=>{});function o0(e,t){let r=e;for(let o of t)r=r[o];return r}var z_=I(()=>{});function tee(e){let t=new N_.Atom(void 0),r=new N_.Atom({}),o=new N_.Atom({}),i=0;return{addRelatedFlags(s,u){let c=String(++i),f=u.map(p=>{let v={flag:p.flag},b=[p.affects,s,c];return o.setByPointer(y=>o0(y,b),v),b});return()=>{for(let p of f)o.setByPointer(v=>o0(v,p),void 0)}},usePresenceFlag(s){},setUserHover(s){let u=t.get();u!==s&&(u&&r.setByPointer(c=>c[u],!1),t.set(s),s&&r.setByPointer(c=>c[s],!0))}}}function Lc(e){let t=B_.default.useContext(y5),r=t.usePresenceFlag(e);return{attrs:{[R_]:e},flag:r,useRelations(o,i){(0,v5.useEffect)(()=>e&&t.addRelatedFlags(e,o()),[e,...i])}}}function _B(e){let t=B_.default.useContext(y5),r=Gl("PresenceListeners");(0,v5.useEffect)(()=>{let o;if(!e)return;let i=s=>{if(s.target instanceof Node){let u=kB(s.target,"[".concat(R_,"]"));if(u){let c=u.getAttribute(R_);o!==c&&(o=c,t.setUserHover(c||void 0),r._debug("Updated current hover",{itemKey:c}));return}o!=null&&(o=null,t.setUserHover(void 0),r._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),()=>{e.removeEventListener("mouseover",i),o!=null&&(o=null,r._debug("Cleared current hover as part of cleanup"))}},[e,t])}var B_,v5,xB,N_,SB,y5,R_,Kc=I(()=>{B_=Q(ae()),v5=Q(ae()),Zl(),xB=Ne,N_=Ne,Xe(),eee(),z_(),SB=(0,xB.prism)(()=>{}),SB.keepHot(),y5=B_.default.createContext(tee()),R_="data-pi-key"}),Jr,EB,a0,PB,b5,eu,CB,w5,IB,jB,OB,F_,TB,AB,DB,zB,BB,NB,i0,RB,k5,M_=I(()=>{Dt(),So(),Jr=Q(ae()),Ee(),Kc(),a0=L.div(EB||(EB=U([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),Oa(.2,"black")),b5=L.div(PB||(PB=U([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),a0),eu={offColor:"#555",onColor:"#e0c917"},w5=L(b5)(CB||(CB=U([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),e=>e.presence===2?"white":e.isOn?eu.onColor:eu.offColor),jB=Xr(IB||(IB=U([`
  pointer-events: none !important;
`]))),F_=L(b5)(OB||(OB=U([`
  color: `,`;

  `,`;
`])),e=>e.flag===2?"white":e.available?eu.onColor:eu.offColor,e=>e.available?Ot:jB),AB=L(F_)(TB||(TB=U([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),a0),zB=L(F_)(DB||(DB=U([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),a0),(e=>{let t=L.g(BB||(BB=U([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),F_);e.Prev=()=>Jr.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jr.default.createElement(t,{transform:"translate(6 3)"},Jr.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>Jr.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jr.default.createElement(t,{transform:"translate(1 3)"},Jr.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let r=L.g(NB||(NB=U([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),w5);e.Cur=()=>Jr.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jr.default.createElement(r,{transform:"translate(1 4)"},Jr.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(i0||(i0={})),RB=e=>{var t,r,o,i,s;let u=Lc((t=e.prev)==null?void 0:t.itemKey),c=Lc(((r=e.cur)==null?void 0:r.type)==="on"?e.cur.itemKey:void 0),f=Lc((o=e.next)==null?void 0:o.itemKey);return Jr.default.createElement(a0,null,Jr.default.createElement(AB,J({available:!!e.prev,onClick:(i=e.prev)==null?void 0:i.jump,flag:u.flag},u.attrs),Jr.default.createElement(i0.Prev,null)),Jr.default.createElement(w5,J({isOn:e.cur.type==="on",onClick:e.cur.toggle,presence:c.flag},c.attrs),Jr.default.createElement(i0.Cur,null)),Jr.default.createElement(zB,J({available:!!e.next,onClick:(s=e.next)==null?void 0:s.jump,flag:f.flag},f.attrs),Jr.default.createElement(i0.Next,null)))},k5=RB}),U_,s0,FB,MB,UB,VB,HB,LB,KB,l0,qB=I(()=>{So(),U_=Q(ae()),Ee(),$e(),M_(),Yl(),s0={defaultState:{color:Oa(.95,"#C4C4C4"),hoverColor:Oa(.15,eu.onColor)},withStaticOverride:{color:Oa(.85,"#C4C4C4"),hoverColor:Oa(.15,eu.onColor)}},MB=L.div(FB||(FB=U([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),e=>e.hasStaticOverride?s0.withStaticOverride.color:s0.defaultState.color,e=>e.hasStaticOverride?s0.withStaticOverride.hoverColor:s0.defaultState.hoverColor),VB=L.div(UB||(UB=U([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),LB=L.div(HB||(HB=U([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),KB=e=>{let{hasStaticOverride:t,obj:r,propConfig:o,pathToProp:i}=e;return U_.default.createElement(MB,{hasStaticOverride:t,onClick:()=>{ie().transaction(({stateEditors:s})=>{for(let{path:u,conf:c}of e0(o,i)){if(Ci(c))continue;let f=Se(J({},r.address),{pathToProp:u});s.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(f,o)}})},title:"Sequence this prop"},t?U_.default.createElement(LB,{title:"The default value is overridden"}):U_.default.createElement(VB,{title:"This is the default value for this prop"}))},l0=KB});function u0(e){return JSON.stringify(_5(e))}function _5(e){return lp(e)?Object.keys(e).sort().reduce((t,r)=>(t[r]=_5(e[r]),t),{}):Array.isArray(e)?e.map(_5):e}var ree=I(()=>{_r()}),WB,c0,$B=I(()=>{WB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",c0=(e=21)=>{let t="",r=e;for(;r--;)t+=WB[Math.random()*64|0];return t}});function GB(){return c0(10)}function nee(){return c0(10)}function oee(){return c0(10)}var Rr,Fs=I(()=>{ree(),$B(),Rr={forSheet(){return"sheet"},forSheetObject(e){return u0({o:e.address.objectKey})},forSheetObjectProp(e,t){return u0({o:e.address.objectKey,p:t})},forTrackKeyframe(e,t,r){return u0({o:e.address.objectKey,t,k:r})},forSheetObjectAggregateKeyframe(e,t){return Rr.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe(e,t){return u0({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe(e,t,r){return u0({o:e.address.objectKey,p:t,pos:r})}}});function ZB(e,t,r){if(!t||t.data.keyframes.length===0)return XB;let o=x5.get(t.data);if(o&&o[0]===r)return o[1];function i(u){if(!t)return;let c=t.data.keyframes[u];return c&&{kf:c,track:t,itemKey:Rr.forTrackKeyframe(e,t.id,c.id)}}let s=(()=>{let u=t.data.keyframes.findIndex(f=>f.position>=r);if(u===-1)return{prev:i(t.data.keyframes.length-1)};let c=i(u);return c.kf.position===r?{prev:i(u-1),cur:c,next:i(u+1)}:{next:c,prev:i(u-1)}})();return x5.set(t.data,[r,s]),s}var x5,XB,YB=I(()=>{Fs(),x5=new WeakMap,XB={}}),S5,QB=I(()=>{S5={}});function aee(e,t,r){let o=(0,Wo.getPointerParts)(e).path;return bt(()=>{if(!p5(r))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:qc.default.createElement(l0,{hasStaticOverride:!1,obj:t,pathToProp:o,propConfig:r})};let i=!!(0,Wo.val)(ps(ie().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,Wo.getPointerParts)(e).path)),s=[],u={beingScrubbed:i,contextMenuItems:s,controlIndicators:qc.default.createElement(qc.default.Fragment,null)},c=(0,Wo.val)(t.template.getMapOfValidSequenceTracks_forStudio()),f=Jl(c,o),p=f!==void 0&&Object.keys(f).length!==0,v=[],b=(0,Wo.val)(t.template.getStaticButNotSequencedOverrides()),y=Jl(b!=null?b:S5,o)!==void 0;if(p)for(let g of e0(r,[])){if(Ci(g.conf))continue;let k=Jl(f,g.path);typeof k!="string"?y=!0:v.push(k)}if((y||p)&&s.push({label:"Reset all to default",callback:()=>{ie().transaction(({unset:g})=>{g(e)})}}),p&&s.push({label:"Make all static",callback:()=>{ie().transaction(({stateEditors:g})=>{for(let{path:k,conf:w}of e0(r,[])){if(Ci(w))continue;let x=Se(J({},t.address),{pathToProp:[...o,...k]}),E=o0(e,k);g.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(Se(J({},x),{value:t.getValueByPointer(E)}))}})}}),(!p||p&&y)&&s.push({label:"Sequence all",callback:()=>{ie().transaction(({stateEditors:g})=>{for(let{path:k,conf:w}of e0(r,o)){if(Ci(w))continue;let x=Se(J({},t.address),{pathToProp:k});g.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(x,r)}})}}),p){let g=Wo.prism.memo("controlIndicators",()=>qc.default.createElement(iee,{pointerToProp:e,obj:t,possibleSequenceTrackIds:f,listOfDescendantTrackIds:v}),[f,v]);return Se(J({},u),{type:"HasSequences",controlIndicators:g})}else return Se(J({},u),{type:"AllStatic",controlIndicators:qc.default.createElement(l0,{hasStaticOverride:y,obj:t,pathToProp:o,propConfig:r})})},[])}function iee({pointerToProp:e,obj:t,possibleSequenceTrackIds:r,listOfDescendantTrackIds:o}){return bt(()=>{let i=(0,Wo.getPointerParts)(e).path,s=(0,Wo.val)(t.sheet.getSequence().positionPrism),u=o.map(g=>({trackId:g,track:(0,Wo.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[g])})).filter(({track:g})=>!!g).map(g=>Se(J({},g),{nearbies:ZB(t,{id:g.trackId,data:g.track,sheetObject:t},s)})),c=u.find(({nearbies:g})=>!!g.cur),f=u.every(({nearbies:g})=>!!g.cur),p=u.reduce((g,k)=>k.nearbies.prev&&(g===void 0||k.nearbies.prev.kf.position>g.kf.position)?k.nearbies.prev:g,void 0),v=u.reduce((g,k)=>k.nearbies.next&&(g===void 0||k.nearbies.next.kf.position<g.kf.position)?k.nearbies.next:g,void 0),b=()=>{f?ie().transaction(g=>{g.unset(e)}):c?ie().transaction(g=>{g.set(e,(0,Wo.val)(e))}):ie().transaction(g=>{g.set(e,(0,Wo.val)(e))})},y={cur:c?{type:"on",itemKey:Rr.forCompoundPropAggregateKeyframe(t,i,s),toggle:b}:{toggle:b,type:"off"},prev:p!==void 0?{position:p.kf.position,itemKey:Rr.forCompoundPropAggregateKeyframe(t,i,p.kf.position),jump:()=>{t.sheet.getSequence().position=p.kf.position}}:void 0,next:v!==void 0?{position:v.kf.position,itemKey:Rr.forCompoundPropAggregateKeyframe(t,i,v.kf.position),jump:()=>{t.sheet.getSequence().position=v.kf.position}}:void 0};return qc.default.createElement(k5,J({},y))},[e,t,r,o])}var Wo,qc,see=I(()=>{$e(),D_(),Xe(),Wo=Ne,vc(),qc=Q(ae()),qB(),Yl(),Fs(),z_(),M_(),YB(),QB()});function lee(){let e=0,t=new tN.Atom({hasLock:!1});return{replaceLock(r,o){let i=e++,s=t.get();return s.hasLock&&s.cleanup(),t.set({hasLock:!0,lockId:i,cleanup:o,deepPath:uee(JB(r))}),function(){let u=t.get();u.hasLock&&u.lockId===i&&(u.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(r){let o=o0(t.pointer.deepPath,JB(r));return(0,rN.prism)(()=>{let i=(0,eN.val)(o);return i===!0?"self":i?"descendent":null})}}}function JB(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function uee(e){let t={};return ys(t,e,!0),t}var eN,tN,rN,V_,E5=I(()=>{eN=Ne,tN=Ne,rN=Ne,z_(),Ap(),V_=lee()});function cee(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var dee=I(()=>{});function nN(e,t=!0){try{return typeof e=="string"?e:typeof e=="function"||e instanceof Error?e.toString():t?cee(e):JSON.stringify(e)}catch(r){return(e==null?void 0:e.name)||String(e)}}var fee=I(()=>{dee()});function pee(e,t,r){e||(arguments.length>2?oN(t,r):oN(t))}function oN(e,t){let r=arguments.length>1,o=nN(e),i=r?`
Instead found: `.concat(nN(t)):"";throw new uN("Invariant: ".concat(o).concat(i),t)}var aN,iN,sN,lN,uN,hee=I(()=>{fee(),aN=/^\s*at.+node:internal.+/gm,iN=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,sN=/^\s*(at|[^@]+@).+test\-helpers.+/gm,lN=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,uN=class extends Error{constructor(e,t){var r;super(e),St(this,"found"),t!==void 0&&(this.found=t),this.stack=(r=this.stack)==null?void 0:r.replace(iN,"").replace(lN,"").replace(sN,"").replace(aN,"")}}});function mee(e){return(0,H_.prism)(()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].getValue();return t}else{let t={};for(let r in e)t[r]=(0,H_.val)(e[r]);return t}})}function P5(e){let t=mh.default.memo(mh.default.forwardRef(function(r,o){let i=[],s={},u={ref:o};for(let v in r){let b=r[v];(0,H_.isPrism)(b)?(i.push(b),s[v]=b):u[v]=b}let c=(0,mh.useRef)(i.length);pee(c.current===i.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:c.current,count:i.length});let f=(0,mh.useMemo)(()=>mee(s),i),p=Cc(f);return p&&mh.default.createElement(e,J(J({},u),p))}));return t.displayName="deriver(".concat(e.displayName,")"),t}var H_,mh,cN=I(()=>{H_=Ne,Xe(),mh=Q(ae()),hee()});function gee(e,t,r){return(0,Ba.prism)(()=>{var o;let i=(0,Ba.getPointerParts)(e).path,s=t.getValueByPointer(e),u=Ba.prism.memo("editPropValue",()=>{let k=null;return{temporarilySetValue(w){k||(k=ie().scrub()),k.capture(x=>{x.set(e,w)})},discardTemporaryValue(){k&&(k.discard(),k=null)},permanentlySetValue(w){k?(k.capture(x=>{x.set(e,w)}),k.commit(),k=null):ie().transaction(x=>{x.set(e,w)})}}},[]),c={createAsset:k=>t.sheet.project.assetStorage.createAsset(k),getAssetUrl:k=>k.id?t.sheet.project.assetStorage.getAssetUrl(k.id):void 0},f=(0,Ba.val)(ps(ie().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,Ba.getPointerParts)(e).path))===!0,p=[],v=Se(J(J({},u),c),{value:s,beingScrubbed:f,contextMenuItems:p,controlIndicators:gh.default.createElement(gh.default.Fragment,null)}),b=ZJ(r);if(b){let k=(0,Ba.val)(t.template.getMapOfValidSequenceTracks_forStudio()),w=Jl(k,i);if(typeof w=="string"){p.push({label:"Make static",callback:()=>{ie().transaction(({stateEditors:F})=>{let Z=Se(J({},t.address),{pathToProp:i});F.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(Se(J({},Z),{value:t.getValueByPointer(e)}))})}});let x=w,E=Ba.prism.sub("lcr",()=>{let F=(0,Ba.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[x]),Z=(0,Ba.val)(t.sheet.getSequence().positionPrism);return ZB(t,F&&{data:F,id:x,sheetObject:t},Z)},[x]),P;v.beingScrubbed?P="Sequenced_OnKeyframe_BeingScrubbed":E.cur?P="Sequenced_OnKeyframe":((o=E.prev)==null?void 0:o.kf.connectedRight)===!0?P="Sequenced_BeingInterpolated":P="Sequened_NotBeingInterpolated";let O=()=>{E.cur?ie().transaction(F=>{F.unset(e)}):ie().transaction(F=>{F.set(e,v.value)})},B={cur:E.cur?{type:"on",itemKey:E.cur.itemKey,toggle:O}:{type:"off",toggle:O},prev:E.prev!==void 0?{itemKey:E.prev.itemKey,position:E.prev.kf.position,jump:()=>{t.sheet.getSequence().position=E.prev.kf.position}}:void 0,next:E.next!==void 0?{itemKey:E.next.itemKey,position:E.next.kf.position,jump:()=>{t.sheet.getSequence().position=E.next.kf.position}}:void 0},z=gh.default.createElement(k5,J({},B));return Se(J({},v),{type:"Sequenced",shade:P,nearbyKeyframes:E,controlIndicators:z})}}let y=(0,Ba.val)(t.template.getStaticValues()),g=Jl(y,i);return typeof g!="undefined"&&p.push({label:"Reset to default",callback:()=>{ie().transaction(({unset:k})=>{k(e)})}}),b&&p.push({label:"Sequence",callback:()=>{ie().transaction(({stateEditors:k})=>{let w=Se(J({},t.address),{pathToProp:i});k.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(w,r)})}}),typeof g!="undefined"?Se(J({},v),{type:"Static",shade:v.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:gh.default.createElement(l0,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:r})}):Se(J({},v),{type:"Default",shade:"Default",controlIndicators:gh.default.createElement(l0,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:r})})})}function vee(e,t,r){if(L_.has(e))return L_.get(e);{let o=gee(e,t,r);return L_.set(e,o),o}}function C5(e,t,r){let o=vee(e,t,r);return Cc(o)}var gh,Ba,L_,I5=I(()=>{vc(),gh=Q(ae()),Ba=Ne,$e(),D_(),Xe(),Yl(),qB(),YB(),M_(),L_=new WeakMap});function yee({propConfig:e,pointerToProp:t,obj:r,SimpleEditorComponent:o}){let i=C5(t,r,e);return en.default.createElement(NI,{editingTools:i,propConfig:e,value:i.value})}function bee({pointerToProp:e,obj:t,propConfig:r,visualIndentation:o}){var i;let s=(i=r.label)!=null?i:gs((0,d0.getPointerParts)(e).path),u=Object.entries(r.props),c=u.filter(([O,B])=>Ci(B)),f=u.filter(([O,B])=>!Ci(B)),[p,v]=Ct(null),b=aee(e,t,r),[y]=Fn(v,{menuItems:b.contextMenuItems}),g=c.length>0,k=(0,en.useMemo)(()=>V_.getIsPropHighlightedD(Se(J({},t.address),{pathToProp:(0,d0.getPointerParts)(e).path})),[e]),w="".concat(t.address.projectId,",").concat(t.address.sheetId,",").concat(t.address.sheetInstanceId,",").concat(t.address.objectKey,",").concat((0,d0.getPointerParts)(e).path.join()),x=PN(r);(0,en.useLayoutEffect)(()=>{K_.has(w)||K_.set(w,new d0.Atom(x))},[w,r]);let E=K_.get(w),P=bt(()=>E?(0,dN.val)(E.pointer):x,[E]);return en.default.createElement(pN,null,y,en.default.createElement(j5,{style:{"--depth":o-1}},en.default.createElement(gN,{isVectorProp:x},en.default.createElement(yN,null,b.controlIndicators),en.default.createElement(wN,{isHighlighted:k,ref:p},en.default.createElement("span",null,s||"Props")),en.default.createElement(_N,{isCollapsed:P,isVector:x,onClick:()=>{E==null||E.set(!E.get())}},en.default.createElement(OD,null))),x&&P&&en.default.createElement(IN,null,[...u].map(([O,B])=>en.default.createElement(yee,{key:"prop-"+O,propConfig:B,pointerToProp:e[O],obj:t})))),!P&&en.default.createElement(EN,{style:{"--depth":o},depth:o,lastSubIsComposite:g},[...f,...c].map(([O,B])=>en.default.createElement(T5,{key:"prop-"+O,propConfig:B,pointerToProp:e[O],obj:t,visualIndentation:o+1}))))}var d0,en,dN,fN,pN,hN,j5,mN,gN,vN,yN,bN,wN,kN,_N,xN,SN,EN,PN,CN,IN,jN,K_,wee=I(()=>{Yl(),d0=Ne,Sp(),So(),en=Q(ae()),Ee(),Xz(),Hc(),Dt(),At(),LN(),Mn(),see(),E5(),cN(),wD(),I5(),Xe(),dN=Ne,dh(),C_(),pN=L.div(fN||(fN=U([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),Ot),j5=L.div(hN||(hN=U([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),gN=L.div(mN||(mN=U([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),h5,({isVectorProp:e})=>e?"width: calc(100% - var(--right-width))":""),yN=L.div(vN||(vN=U([`
  flexshrink: 0;
`]))),wN=P5(L.div(bN||(bN=U([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>Ql)),_N=L.span(kN||(kN=U([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden",j5,e=>e.isCollapsed?15:75),xN=Oa(.05,"#282b2f"),EN=L.div(SN||(SN=U([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:e})=>Av(e*.03,xN),e=>e.lastSubIsComposite?0:"4px"),PN=Jv(e=>{let t=Object.entries(e.props);return t.length<=3&&t.every(([r,o])=>o.type==="number"&&["x","y","z"].includes(r))}),IN=L.div(CN||(CN=U([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),jN=en.default.memo(bee),K_=new Map});function kee({isHighlighted:e}){return e==="self"?"#1857a4":e==="descendent"?"#0a2f5c":"initial"}var _ee=I(()=>{});function xee({propConfig:e,pointerToProp:t,editingTools:r,children:o,isPropHighlightedD:i}){var s;let u=(s=e.label)!=null?s:gs((0,O5.getPointerParts)(t).path),[c,f]=Ct(null),[p]=Fn(f,{menuItems:r.contextMenuItems});return vh.default.createElement(TN,{isHighlighted:i},p,vh.default.createElement(DN,null,vh.default.createElement(RN,null,r.controlIndicators),vh.default.createElement(BN,{isHighlighted:i,ref:c,title:["obj","props",...(0,O5.getPointerParts)(t).path].join(".")},u)),vh.default.createElement(MN,null,o))}var O5,vh,ON,TN,AN,DN,zN,BN,NN,RN,FN,MN,See=I(()=>{O5=Ne,Mn(),At(),_r(),vh=Q(ae()),Ee(),Dt(),Hc(),cN(),Xz(),_ee(),TN=P5(L.div(ON||(ON=U([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),Ot,kee)),DN=L.div(AN||(AN=U([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),h5),BN=P5(L.div(zN||(zN=U([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),Ql)),RN=L.div(NN||(NN=U([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),MN=L.div(FN||(FN=U([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function Eee({propConfig:e,pointerToProp:t,obj:r,SimpleEditorComponent:o}){let i=C5(t,r,e),s=(0,f0.useMemo)(()=>V_.getIsPropHighlightedD(Se(J({},r.address),{pathToProp:(0,UN.getPointerParts)(t).path})),[t]);return f0.default.createElement(xee,{editingTools:i,propConfig:e,pointerToProp:t,isPropHighlightedD:s},f0.default.createElement(o,{editingTools:i,propConfig:e,value:i.value}))}var f0,UN,VN,Pee=I(()=>{f0=Q(ae()),I5(),See(),UN=Ne,E5(),VN=f0.default.memo(Eee)}),p0,HN,T5,LN=I(()=>{p0=Q(ae()),Zz(),wee(),Pee(),HN=({propConfig:e,visualIndentation:t,pointerToProp:r,obj:o})=>{if(e.type==="compound")return p0.default.createElement(jN,{obj:o,visualIndentation:t,pointerToProp:r,propConfig:e});if(e.type==="enum")return p0.default.createElement(p0.default.Fragment,null);{let i=f5[e.type];return p0.default.createElement(VN,{SimpleEditorComponent:i,obj:o,visualIndentation:t,pointerToProp:r,propConfig:e})}},T5=HN});function KN(e){return q_.has(e)||q_.set(e,(qN++).toString()),q_.get(e)}var q_,qN,WN=I(()=>{q_=new WeakMap,qN=0}),yh,$N,GN,ZN,XN,YN,QN,Cee=I(()=>{yh=Q(ae()),LN(),Xe(),WN(),Ee(),GN=L.div($N||($N=U([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),XN=L.button(ZN||(ZN=U([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),YN=({objects:e})=>{let t=e[0],r=_t(t.template.configPointer),o=_t(t.template._temp_actionsPointer);return yh.default.createElement(yh.default.Fragment,null,yh.default.createElement(T5,{key:KN(t),obj:t,pointerToProp:t.propsP,propConfig:r,visualIndentation:1}),yh.default.createElement(GN,null,o&&Object.entries(o).map(([i,s])=>yh.default.createElement(XN,{key:i,onClick:()=>{s(t.publicApi)}},i))))},QN=YN}),JN,eR,W_,tR=I(()=>{Ee(),eR=L.button(JN||(JN=U([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),e=>e.disabled?"none":"pointer",e=>e.disabled?.4:1),W_=eR}),Iee=I(()=>{}),rR,jee=I(()=>{Iee(),rR=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=r[e]&63;o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o<63?t+="_":t+="-"}return t}});function nR(){return rR(16)}var oR=I(()=>{jee()}),aR,Ms,A5,iR,sR,lR,uR,cR=I(()=>{aR=Ne,At(),Ms=Q(ae()),A5=(0,Ms.createContext)(null),iR=0,sR=()=>{let e=(0,Ms.useMemo)(()=>iR++,[]),{cur:t,set:r}=(0,Ms.useContext)(A5),[o,i]=Ct(!1),s=(0,Ms.useCallback)((u,c)=>{r(u?e:-1,c)},[]);return(0,Ms.useEffect)(()=>t.onStale(()=>{let u=t.getValue()===e;o.current!==u&&(o.current=u)}),[t,e]),[i,s]},lR=({children:e})=>{let t=(0,Ms.useMemo)(()=>new aR.Atom(-1),[]),r=t.prism,o=(0,Ms.useMemo)(()=>{let i;return(s,u)=>{let c=i!==void 0;i!==void 0&&(clearTimeout(i),i=void 0),u===0||c?t.set(s):i=setTimeout(()=>{t.set(s),i=void 0},u)}},[]);return Ms.default.createElement(A5.Provider,{value:{cur:r,set:o}},e)},uR=lR});function bh(e,t){let r=e.enabled!==!1,[o,i]=sR(),[s,u]=Ct(null);(0,fR.useEffect)(()=>{if(!r)return;let f=s.current;if(!f)return;let p=()=>{var b;return i(!0,(b=e.enterDelay)!=null?b:400)},v=()=>{var b;return i(!1,(b=e.exitDelay)!=null?b:200)};return f.addEventListener("mouseenter",p),f.addEventListener("mouseleave",v),()=>{f.removeEventListener("mouseenter",p),f.removeEventListener("mouseleave",v)}},[s,r,e.enterDelay,e.exitDelay]);let c=(0,dR.useContext)(th);return[r&&o&&u?(0,pR.createPortal)($_.default.createElement(i5,{children:t,target:u,onClickOutside:Ta,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),c):$_.default.createElement($_.default.Fragment,null),s,o]}var dR,fR,$_,pR,h0=I(()=>{At(),dR=Q(ae()),fR=Q(ae()),$_=Q(ae()),Y8(),pR=Q(Nr()),cR(),Mc(),oh()}),hR,mR,wh,G_=I(()=>{Ee(),Ei(),mR=L(Si)(hR||(hR=U([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),wh=mR}),Ii,gR,vR,yR,bR,wR,kR,_R,xR,SR,Oee=I(()=>{Xe(),$e(),Ii=Q(ae()),Ee(),oR(),h0(),G_(),tR(),vR=L.div(gR||(gR=U([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),bR=L.div(yR||(yR=U([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),kR=L.div(wR||(wR=U([`
  display: flex;
  gap: 8px;
`]))),_R=({projectId:e})=>{let t=_t(ie().atomP.ephemeral.coreByProject[e].loadingState);return t&&t.type==="browserStateIsNotBasedOnDiskState"?Ii.default.createElement(xR,{loadingState:t,projectId:e}):null},xR=({projectId:e,loadingState:t})=>{let r=()=>{ie().transaction(({drafts:f,stateEditors:p})=>{p.coreByProject.historic.revisionHistory.add({projectId:e,revision:t.onDiskState.revisionHistory[0]}),p.coreByProject.historic.revisionHistory.add({projectId:e,revision:nR()}),f.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},o=()=>{ie().transaction(({drafts:f})=>{f.historic.coreByProject[e]=t.onDiskState,f.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},[i,s]=bh({},()=>Ii.default.createElement(wh,null,"The browser's state will override the disk state.")),[u,c]=bh({},()=>Ii.default.createElement(wh,null,"The disk's state will override the browser's state."));return Ii.default.createElement(vR,null,Ii.default.createElement(bR,null,"Browser state is not based on disk state."," ",Ii.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),Ii.default.createElement(kR,null,i,Ii.default.createElement(W_,{onClick:r,ref:s},"Use browser's state"),u,Ii.default.createElement(W_,{onClick:o,ref:c},"Use disk state")))},SR=_R}),Tee=st((e,t)=>{(function(r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():(typeof window!="undefined"?window:typeof vr!="undefined"?vr:typeof self!="undefined"?self:this).JSZip=r()})(function(){return function r(o,i,s){function u(p,v){if(!i[p]){if(!o[p]){var b=typeof VE=="function"&&VE;if(!v&&b)return b(p,!0);if(c)return c(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var g=i[p]={exports:{}};o[p][0].call(g.exports,function(k){var w=o[p][1][k];return u(w||k)},g,g.exports,r,o,i,s)}return i[p].exports}for(var c=typeof VE=="function"&&VE,f=0;f<s.length;f++)u(s[f]);return u}({1:[function(r,o,i){var s=r("./utils"),u=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(f){for(var p,v,b,y,g,k,w,x=[],E=0,P=f.length,O=P,B=s.getTypeOf(f)!=="string";E<f.length;)O=P-E,b=B?(p=f[E++],v=E<P?f[E++]:0,E<P?f[E++]:0):(p=f.charCodeAt(E++),v=E<P?f.charCodeAt(E++):0,E<P?f.charCodeAt(E++):0),y=p>>2,g=(3&p)<<4|v>>4,k=1<O?(15&v)<<2|b>>6:64,w=2<O?63&b:64,x.push(c.charAt(y)+c.charAt(g)+c.charAt(k)+c.charAt(w));return x.join("")},i.decode=function(f){var p,v,b,y,g,k,w=0,x=0,E="data:";if(f.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var P,O=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===c.charAt(64)&&O--,f.charAt(f.length-2)===c.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=u.uint8array?new Uint8Array(0|O):new Array(0|O);w<f.length;)p=c.indexOf(f.charAt(w++))<<2|(y=c.indexOf(f.charAt(w++)))>>4,v=(15&y)<<4|(g=c.indexOf(f.charAt(w++)))>>2,b=(3&g)<<6|(k=c.indexOf(f.charAt(w++))),P[x++]=p,g!==64&&(P[x++]=v),k!==64&&(P[x++]=b);return P}},{"./support":30,"./utils":32}],2:[function(r,o,i){var s=r("./external"),u=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),f=r("./stream/DataLengthProbe");function p(v,b,y,g,k){this.compressedSize=v,this.uncompressedSize=b,this.crc32=y,this.compression=g,this.compressedContent=k}p.prototype={getContentWorker:function(){var v=new u(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),b=this;return v.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new u(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(v,b,y){return v.pipe(new c).pipe(new f("uncompressedSize")).pipe(b.compressWorker(y)).pipe(new f("compressedSize")).withStreamInfo("compression",b)},o.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,i){var s=r("./utils"),u=function(){for(var c,f=[],p=0;p<256;p++){c=p;for(var v=0;v<8;v++)c=1&c?3988292384^c>>>1:c>>>1;f[p]=c}return f}();o.exports=function(c,f){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?function(p,v,b,y){var g=u,k=y+b;p^=-1;for(var w=y;w<k;w++)p=p>>>8^g[255&(p^v[w])];return-1^p}(0|f,c,c.length,0):function(p,v,b,y){var g=u,k=y+b;p^=-1;for(var w=y;w<k;w++)p=p>>>8^g[255&(p^v.charCodeAt(w))];return-1^p}(0|f,c,c.length,0):0}},{"./utils":32}],5:[function(r,o,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,o,i){var s=null;s=typeof Promise!="undefined"?Promise:r("lie"),o.exports={Promise:s}},{lie:37}],7:[function(r,o,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",u=r("pako"),c=r("./utils"),f=r("./stream/GenericWorker"),p=s?"uint8array":"array";function v(b,y){f.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=y,this.meta={}}i.magic="\b\0",c.inherits(v,f),v.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(p,b.data),!1)},v.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(y){b.push({data:y,meta:b.meta})}},i.compressWorker=function(b){return new v("Deflate",b)},i.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,i){function s(g,k){var w,x="";for(w=0;w<k;w++)x+=String.fromCharCode(255&g),g>>>=8;return x}function u(g,k,w,x,E,P){var O,B,z=g.file,F=g.compression,Z=P!==p.utf8encode,ee=c.transformTo("string",P(z.name)),K=c.transformTo("string",p.utf8encode(z.name)),ne=z.comment,me=c.transformTo("string",P(ne)),M=c.transformTo("string",p.utf8encode(ne)),oe=K.length!==z.name.length,T=M.length!==ne.length,ue="",Re="",te="",Y=z.dir,de=z.date,Te={crc32:0,compressedSize:0,uncompressedSize:0};k&&!w||(Te.crc32=g.crc32,Te.compressedSize=g.compressedSize,Te.uncompressedSize=g.uncompressedSize);var V=0;k&&(V|=8),Z||!oe&&!T||(V|=2048);var q=0,ge=0;Y&&(q|=16),E==="UNIX"?(ge=798,q|=function(_e,fe){var Ge=_e;return _e||(Ge=fe?16893:33204),(65535&Ge)<<16}(z.unixPermissions,Y)):(ge=20,q|=function(_e){return 63&(_e||0)}(z.dosPermissions)),O=de.getUTCHours(),O<<=6,O|=de.getUTCMinutes(),O<<=5,O|=de.getUTCSeconds()/2,B=de.getUTCFullYear()-1980,B<<=4,B|=de.getUTCMonth()+1,B<<=5,B|=de.getUTCDate(),oe&&(Re=s(1,1)+s(v(ee),4)+K,ue+="up"+s(Re.length,2)+Re),T&&(te=s(1,1)+s(v(me),4)+M,ue+="uc"+s(te.length,2)+te);var we="";return we+=`
\0`,we+=s(V,2),we+=F.magic,we+=s(O,2),we+=s(B,2),we+=s(Te.crc32,4),we+=s(Te.compressedSize,4),we+=s(Te.uncompressedSize,4),we+=s(ee.length,2),we+=s(ue.length,2),{fileRecord:b.LOCAL_FILE_HEADER+we+ee+ue,dirRecord:b.CENTRAL_FILE_HEADER+s(ge,2)+we+s(me.length,2)+"\0\0\0\0"+s(q,4)+s(x,4)+ee+ue+me}}var c=r("../utils"),f=r("../stream/GenericWorker"),p=r("../utf8"),v=r("../crc32"),b=r("../signature");function y(g,k,w,x){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=w,this.encodeFileName=x,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(y,f),y.prototype.push=function(g){var k=g.meta.percent||0,w=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,f.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:w?(k+100*(w-x-1))/w:100}}))},y.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var k=this.streamFiles&&!g.file.dir;if(k){var w=u(g,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(g){this.accumulate=!1;var k=this.streamFiles&&!g.file.dir,w=u(g,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),k)this.push({data:function(x){return b.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var g=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var w=this.bytesWritten-g,x=function(E,P,O,B,z){var F=c.transformTo("string",z(B));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(E,2)+s(E,2)+s(P,4)+s(O,4)+s(F.length,2)+F}(this.dirRecords.length,w,g,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(g){this._sources.push(g);var k=this;return g.on("data",function(w){k.processChunk(w)}),g.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),g.on("error",function(w){k.error(w)}),this},y.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(g){var k=this._sources;if(!f.prototype.error.call(this,g))return!1;for(var w=0;w<k.length;w++)try{k[w].error(g)}catch(x){}return!0},y.prototype.lock=function(){f.prototype.lock.call(this);for(var g=this._sources,k=0;k<g.length;k++)g[k].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,i){var s=r("../compressions"),u=r("./ZipFileWorker");i.generateWorker=function(c,f,p){var v=new u(f.streamFiles,p,f.platform,f.encodeFileName),b=0;try{c.forEach(function(y,g){b++;var k=function(P,O){var B=P||O,z=s[B];if(!z)throw new Error(B+" is not a valid compression method !");return z}(g.options.compression,f.compression),w=g.options.compressionOptions||f.compressionOptions||{},x=g.dir,E=g.date;g._compressWorker(k,w).withStreamInfo("file",{name:y,dir:x,date:E,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(v)}),v.entriesCount=b}catch(y){v.error(y)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new s;for(var c in this)typeof this[c]!="function"&&(u[c]=this[c]);return u}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(u,c){return new s().loadAsync(u,c)},s.external=r("./external"),o.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,i){var s=r("./utils"),u=r("./external"),c=r("./utf8"),f=r("./zipEntries"),p=r("./stream/Crc32Probe"),v=r("./nodejsUtils");function b(y){return new u.Promise(function(g,k){var w=y.decompressed.getContentWorker().pipe(new p);w.on("error",function(x){k(x)}).on("end",function(){w.streamInfo.crc32!==y.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}o.exports=function(y,g){var k=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),v.isNode&&v.isStream(y)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,g.optimizedBinaryString,g.base64).then(function(w){var x=new f(g);return x.load(w),x}).then(function(w){var x=[u.Promise.resolve(w)],E=w.files;if(g.checkCRC32)for(var P=0;P<E.length;P++)x.push(b(E[P]));return u.Promise.all(x)}).then(function(w){for(var x=w.shift(),E=x.files,P=0;P<E.length;P++){var O=E[P],B=O.fileNameStr,z=s.resolve(O.fileNameStr);k.file(z,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:g.createFolders}),O.dir||(k.file(z).unsafeOriginalName=B)}return x.zipComment.length&&(k.comment=x.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,i){var s=r("../utils"),u=r("../stream/GenericWorker");function c(f,p){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(p)}s.inherits(c,u),c.prototype._bindStream=function(f){var p=this;(this._stream=f).pause(),f.on("data",function(v){p.push({data:v,meta:{percent:0}})}).on("error",function(v){p.isPaused?this.generatedError=v:p.error(v)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},c.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,i){var s=r("readable-stream").Readable;function u(c,f,p){s.call(this,f),this._helper=c;var v=this;c.on("data",function(b,y){v.push(b)||v._helper.pause(),p&&p(y)}).on("error",function(b){v.emit("error",b)}).on("end",function(){v.push(null)})}r("../utils").inherits(u,s),u.prototype._read=function(){this._helper.resume()},o.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,o,i){o.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(s,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,u);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,u)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var u=new Buffer(s);return u.fill(0),u},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,o,i){function s(z,F,Z){var ee,K=c.getTypeOf(F),ne=c.extend(Z||{},v);ne.date=ne.date||new Date,ne.compression!==null&&(ne.compression=ne.compression.toUpperCase()),typeof ne.unixPermissions=="string"&&(ne.unixPermissions=parseInt(ne.unixPermissions,8)),ne.unixPermissions&&16384&ne.unixPermissions&&(ne.dir=!0),ne.dosPermissions&&16&ne.dosPermissions&&(ne.dir=!0),ne.dir&&(z=E(z)),ne.createFolders&&(ee=x(z))&&P.call(this,ee,!0);var me=K==="string"&&ne.binary===!1&&ne.base64===!1;Z&&Z.binary!==void 0||(ne.binary=!me),(F instanceof b&&F.uncompressedSize===0||ne.dir||!F||F.length===0)&&(ne.base64=!1,ne.binary=!0,F="",ne.compression="STORE",K="string");var M=null;M=F instanceof b||F instanceof f?F:k.isNode&&k.isStream(F)?new w(z,F):c.prepareContent(z,F,ne.binary,ne.optimizedBinaryString,ne.base64);var oe=new y(z,M,ne);this.files[z]=oe}var u=r("./utf8"),c=r("./utils"),f=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),v=r("./defaults"),b=r("./compressedObject"),y=r("./zipObject"),g=r("./generate"),k=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),x=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var F=z.lastIndexOf("/");return 0<F?z.substring(0,F):""},E=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},P=function(z,F){return F=F!==void 0?F:v.createFolders,z=E(z),this.files[z]||s.call(this,z,null,{dir:!0,createFolders:F}),this.files[z]};function O(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var F,Z,ee;for(F in this.files)ee=this.files[F],(Z=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&z(Z,ee)},filter:function(z){var F=[];return this.forEach(function(Z,ee){z(Z,ee)&&F.push(ee)}),F},file:function(z,F,Z){if(arguments.length!==1)return z=this.root+z,s.call(this,z,F,Z),this;if(O(z)){var ee=z;return this.filter(function(ne,me){return!me.dir&&ee.test(ne)})}var K=this.files[this.root+z];return K&&!K.dir?K:null},folder:function(z){if(!z)return this;if(O(z))return this.filter(function(K,ne){return ne.dir&&z.test(K)});var F=this.root+z,Z=P.call(this,F),ee=this.clone();return ee.root=Z.name,ee},remove:function(z){z=this.root+z;var F=this.files[z];if(F||(z.slice(-1)!=="/"&&(z+="/"),F=this.files[z]),F&&!F.dir)delete this.files[z];else for(var Z=this.filter(function(K,ne){return ne.name.slice(0,z.length)===z}),ee=0;ee<Z.length;ee++)delete this.files[Z[ee].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var F,Z={};try{if((Z=c.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=Z.type.toLowerCase(),Z.compression=Z.compression.toUpperCase(),Z.type==="binarystring"&&(Z.type="string"),!Z.type)throw new Error("No output type specified.");c.checkSupport(Z.type),Z.platform!=="darwin"&&Z.platform!=="freebsd"&&Z.platform!=="linux"&&Z.platform!=="sunos"||(Z.platform="UNIX"),Z.platform==="win32"&&(Z.platform="DOS");var ee=Z.comment||this.comment||"";F=g.generateWorker(this,Z,ee)}catch(K){(F=new f("error")).error(K)}return new p(F,Z.type||"string",Z.mimeType)},generateAsync:function(z,F){return this.generateInternalStream(z).accumulate(F)},generateNodeStream:function(z,F){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(F)}};o.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,i){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,i){var s=r("./DataReader");function u(c){s.call(this,c);for(var f=0;f<this.data.length;f++)c[f]=255&c[f]}r("../utils").inherits(u,s),u.prototype.byteAt=function(c){return this.data[this.zero+c]},u.prototype.lastIndexOfSignature=function(c){for(var f=c.charCodeAt(0),p=c.charCodeAt(1),v=c.charCodeAt(2),b=c.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===f&&this.data[y+1]===p&&this.data[y+2]===v&&this.data[y+3]===b)return y-this.zero;return-1},u.prototype.readAndCheckSignature=function(c){var f=c.charCodeAt(0),p=c.charCodeAt(1),v=c.charCodeAt(2),b=c.charCodeAt(3),y=this.readData(4);return f===y[0]&&p===y[1]&&v===y[2]&&b===y[3]},u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,o,i){var s=r("../utils");function u(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var f,p=0;for(this.checkOffset(c),f=this.index+c-1;f>=this.index;f--)p=(p<<8)+this.byteAt(f);return this.index+=c,p},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},o.exports=u},{"../utils":32}],19:[function(r,o,i){var s=r("./Uint8ArrayReader");function u(c){s.call(this,c)}r("../utils").inherits(u,s),u.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,i){var s=r("./DataReader");function u(c){s.call(this,c)}r("../utils").inherits(u,s),u.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},u.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},u.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},u.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,o,i){var s=r("./ArrayReader");function u(c){s.call(this,c)}r("../utils").inherits(u,s),u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},o.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,i){var s=r("../utils"),u=r("../support"),c=r("./ArrayReader"),f=r("./StringReader"),p=r("./NodeBufferReader"),v=r("./Uint8ArrayReader");o.exports=function(b){var y=s.getTypeOf(b);return s.checkSupport(y),y!=="string"||u.uint8array?y==="nodebuffer"?new p(b):u.uint8array?new v(s.transformTo("uint8array",b)):new c(s.transformTo("array",b)):new f(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,i){var s=r("./GenericWorker"),u=r("../utils");function c(f){s.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(c,s),c.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},o.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,i){var s=r("./GenericWorker"),u=r("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,s),c.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},o.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,i){var s=r("../utils"),u=r("./GenericWorker");function c(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}s.inherits(c,u),c.prototype.processChunk=function(f){if(f){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+f.data.length}u.prototype.processChunk.call(this,f)},o.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,i){var s=r("../utils"),u=r("./GenericWorker");function c(f){u.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(v){p.dataIsReady=!0,p.data=v,p.max=v&&v.length||0,p.type=s.getTypeOf(v),p.isPaused||p._tickAndRepeat()},function(v){p.error(v)})}s.inherits(c,u),c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,p);break;case"uint8array":f=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":f=this.data.slice(this.index,p)}return this.index=p,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,i){function s(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,c){return this._listeners[u].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,c){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,c)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var c=this;return u.on("data",function(f){c.processChunk(f)}),u.on("end",function(){c.end()}),u.on("error",function(f){c.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,c){return this.extraStreamInfo[u]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},o.exports=s},{}],29:[function(r,o,i){var s=r("../utils"),u=r("./ConvertWorker"),c=r("./GenericWorker"),f=r("../base64"),p=r("../support"),v=r("../external"),b=null;if(p.nodestream)try{b=r("../nodejs/NodejsStreamOutputAdapter")}catch(k){}function y(k,w){return new v.Promise(function(x,E){var P=[],O=k._internalType,B=k._outputType,z=k._mimeType;k.on("data",function(F,Z){P.push(F),w&&w(Z)}).on("error",function(F){P=[],E(F)}).on("end",function(){try{var F=function(Z,ee,K){switch(Z){case"blob":return s.newBlob(s.transformTo("arraybuffer",ee),K);case"base64":return f.encode(ee);default:return s.transformTo(Z,ee)}}(B,function(Z,ee){var K,ne=0,me=null,M=0;for(K=0;K<ee.length;K++)M+=ee[K].length;switch(Z){case"string":return ee.join("");case"array":return Array.prototype.concat.apply([],ee);case"uint8array":for(me=new Uint8Array(M),K=0;K<ee.length;K++)me.set(ee[K],ne),ne+=ee[K].length;return me;case"nodebuffer":return Buffer.concat(ee);default:throw new Error("concat : unsupported type '"+Z+"'")}}(O,P),z);x(F)}catch(Z){E(Z)}P=[]}).resume()})}function g(k,w,x){var E=w;switch(w){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=w,this._mimeType=x,s.checkSupport(E),this._worker=k.pipe(new u(E)),k.lock()}catch(P){this._worker=new c("error"),this._worker.error(P)}}g.prototype={accumulate:function(k){return y(this,k)},on:function(k,w){var x=this;return k==="data"?this._worker.on(k,function(E){w.call(x,E.data,E.meta)}):this._worker.on(k,function(){s.delay(w,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},k)}},o.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch(c){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(s),i.blob=u.getBlob("application/zip").size===0}catch(f){i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch(c){i.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,i){for(var s=r("./utils"),u=r("./support"),c=r("./nodejsUtils"),f=r("./stream/GenericWorker"),p=new Array(256),v=0;v<256;v++)p[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;p[254]=p[254]=1;function b(){f.call(this,"utf-8 decode"),this.leftOver=null}function y(){f.call(this,"utf-8 encode")}i.utf8encode=function(g){return u.nodebuffer?c.newBufferFrom(g,"utf-8"):function(k){var w,x,E,P,O,B=k.length,z=0;for(P=0;P<B;P++)(64512&(x=k.charCodeAt(P)))==55296&&P+1<B&&(64512&(E=k.charCodeAt(P+1)))==56320&&(x=65536+(x-55296<<10)+(E-56320),P++),z+=x<128?1:x<2048?2:x<65536?3:4;for(w=u.uint8array?new Uint8Array(z):new Array(z),P=O=0;O<z;P++)(64512&(x=k.charCodeAt(P)))==55296&&P+1<B&&(64512&(E=k.charCodeAt(P+1)))==56320&&(x=65536+(x-55296<<10)+(E-56320),P++),x<128?w[O++]=x:(x<2048?w[O++]=192|x>>>6:(x<65536?w[O++]=224|x>>>12:(w[O++]=240|x>>>18,w[O++]=128|x>>>12&63),w[O++]=128|x>>>6&63),w[O++]=128|63&x);return w}(g)},i.utf8decode=function(g){return u.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):function(k){var w,x,E,P,O=k.length,B=new Array(2*O);for(w=x=0;w<O;)if((E=k[w++])<128)B[x++]=E;else if(4<(P=p[E]))B[x++]=65533,w+=P-1;else{for(E&=P===2?31:P===3?15:7;1<P&&w<O;)E=E<<6|63&k[w++],P--;1<P?B[x++]=65533:E<65536?B[x++]=E:(E-=65536,B[x++]=55296|E>>10&1023,B[x++]=56320|1023&E)}return B.length!==x&&(B.subarray?B=B.subarray(0,x):B.length=x),s.applyFromCharCode(B)}(g=s.transformTo(u.uint8array?"uint8array":"array",g))},s.inherits(b,f),b.prototype.processChunk=function(g){var k=s.transformTo(u.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var w=k;(k=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),k.set(w,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var x=function(P,O){var B;for((O=O||P.length)>P.length&&(O=P.length),B=O-1;0<=B&&(192&P[B])==128;)B--;return B<0||B===0?O:B+p[P[B]]>O?B:O}(k),E=k;x!==k.length&&(u.uint8array?(E=k.subarray(0,x),this.leftOver=k.subarray(x,k.length)):(E=k.slice(0,x),this.leftOver=k.slice(x,k.length))),this.push({data:i.utf8decode(E),meta:g.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=b,s.inherits(y,f),y.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,i){var s=r("./support"),u=r("./base64"),c=r("./nodejsUtils"),f=r("./external");function p(w){return w}function v(w,x){for(var E=0;E<w.length;++E)x[E]=255&w.charCodeAt(E);return x}r("setimmediate"),i.newBlob=function(w,x){i.checkSupport("blob");try{return new Blob([w],{type:x})}catch(P){try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(w),E.getBlob(x)}catch(O){throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(w,x,E){var P=[],O=0,B=w.length;if(B<=E)return String.fromCharCode.apply(null,w);for(;O<B;)x==="array"||x==="nodebuffer"?P.push(String.fromCharCode.apply(null,w.slice(O,Math.min(O+E,B)))):P.push(String.fromCharCode.apply(null,w.subarray(O,Math.min(O+E,B)))),O+=E;return P.join("")},stringifyByChar:function(w){for(var x="",E=0;E<w.length;E++)x+=String.fromCharCode(w[E]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(w){return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch(w){return!1}}()}};function y(w){var x=65536,E=i.getTypeOf(w),P=!0;if(E==="uint8array"?P=b.applyCanBeUsed.uint8array:E==="nodebuffer"&&(P=b.applyCanBeUsed.nodebuffer),P)for(;1<x;)try{return b.stringifyByChunk(w,E,x)}catch(O){x=Math.floor(x/2)}return b.stringifyByChar(w)}function g(w,x){for(var E=0;E<w.length;E++)x[E]=w[E];return x}i.applyFromCharCode=y;var k={};k.string={string:p,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return k.string.uint8array(w).buffer},uint8array:function(w){return v(w,new Uint8Array(w.length))},nodebuffer:function(w){return v(w,c.allocBuffer(w.length))}},k.array={string:y,array:p,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(w)}},k.arraybuffer={string:function(w){return y(new Uint8Array(w))},array:function(w){return g(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:p,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(new Uint8Array(w))}},k.uint8array={string:y,array:function(w){return g(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:p,nodebuffer:function(w){return c.newBufferFrom(w)}},k.nodebuffer={string:y,array:function(w){return g(w,new Array(w.length))},arraybuffer:function(w){return k.nodebuffer.uint8array(w).buffer},uint8array:function(w){return g(w,new Uint8Array(w.length))},nodebuffer:p},i.transformTo=function(w,x){if(x=x||"",!w)return x;i.checkSupport(w);var E=i.getTypeOf(x);return k[E][w](x)},i.resolve=function(w){for(var x=w.split("/"),E=[],P=0;P<x.length;P++){var O=x[P];O==="."||O===""&&P!==0&&P!==x.length-1||(O===".."?E.pop():E.push(O))}return E.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(w)?"nodebuffer":s.uint8array&&w instanceof Uint8Array?"uint8array":s.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!s[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var x,E,P="";for(E=0;E<(w||"").length;E++)P+="\\x"+((x=w.charCodeAt(E))<16?"0":"")+x.toString(16).toUpperCase();return P},i.delay=function(w,x,E){setImmediate(function(){w.apply(E||null,x||[])})},i.inherits=function(w,x){function E(){}E.prototype=x.prototype,w.prototype=new E},i.extend=function(){var w,x,E={};for(w=0;w<arguments.length;w++)for(x in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],x)&&E[x]===void 0&&(E[x]=arguments[w][x]);return E},i.prepareContent=function(w,x,E,P,O){return f.Promise.resolve(x).then(function(B){return s.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader!="undefined"?new f.Promise(function(z,F){var Z=new FileReader;Z.onload=function(ee){z(ee.target.result)},Z.onerror=function(ee){F(ee.target.error)},Z.readAsArrayBuffer(B)}):B}).then(function(B){var z=i.getTypeOf(B);return z?(z==="arraybuffer"?B=i.transformTo("uint8array",B):z==="string"&&(O?B=u.decode(B):E&&P!==!0&&(B=function(F){return v(F,s.uint8array?new Uint8Array(F.length):new Array(F.length))}(B))),B):f.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,i){var s=r("./reader/readerFor"),u=r("./utils"),c=r("./signature"),f=r("./zipEntry"),p=r("./support");function v(b){this.files=[],this.loadOptions=b}v.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(y)+", expected "+u.pretty(b)+")")}},isSignature:function(b,y){var g=this.reader.index;this.reader.setIndex(b);var k=this.reader.readString(4)===y;return this.reader.setIndex(g),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),y=p.uint8array?"uint8array":"array",g=u.transformTo(y,b);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,y,g,k=this.zip64EndOfCentralSize-44;0<k;)b=this.reader.readInt(2),y=this.reader.readInt(4),g=this.reader.readData(y),this.zip64ExtensibleData[b]={id:b,length:y,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,y;for(b=0;b<this.files.length;b++)y=this.files[b],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(b=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var y=b;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var k=y-g;if(0<k)this.isSignature(y,c.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(b){this.reader=s(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,i){var s=r("./reader/readerFor"),u=r("./utils"),c=r("./compressedObject"),f=r("./crc32"),p=r("./utf8"),v=r("./compressions"),b=r("./support");function y(g,k){this.options=g,this.loadOptions=k}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var k,w;if(g.skip(22),this.fileNameLength=g.readInt(2),w=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(x){for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)&&v[E].magic===x)return v[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,k,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var k=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(k),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var k,w,x,E=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<E;)k=g.readInt(2),w=g.readInt(2),x=g.readData(w),this.extraFields[k]={id:k,length:w,value:x};g.setIndex(E)},handleUTF8:function(){var g=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var w=u.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var E=u.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var k=s(g.value);return k.readInt(1)!==1||f(this.fileName)!==k.readInt(4)?null:p.utf8decode(k.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var k=s(g.value);return k.readInt(1)!==1||f(this.fileComment)!==k.readInt(4)?null:p.utf8decode(k.readData(g.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,i){function s(k,w,x){this.name=k,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=w,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var u=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),f=r("./utf8"),p=r("./compressedObject"),v=r("./stream/GenericWorker");s.prototype={internalStream:function(k){var w=null,x="string";try{if(!k)throw new Error("No output type specified.");var E=(x=k.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),w=this._decompressWorker();var P=!this._dataBinary;P&&!E&&(w=w.pipe(new f.Utf8EncodeWorker)),!P&&E&&(w=w.pipe(new f.Utf8DecodeWorker))}catch(O){(w=new v("error")).error(O)}return new u(w,x,"")},async:function(k,w){return this.internalStream(k).accumulate(w)},nodeStream:function(k,w){return this.internalStream(k||"nodebuffer").toNodejsStream(w)},_compressWorker:function(k,w){if(this._data instanceof p&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new f.Utf8EncodeWorker)),p.createWorkerFrom(x,k,w)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof v?this._data:new c(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<b.length;g++)s.prototype[b[g]]=y;o.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,i){(function(s){var u,c,f=s.MutationObserver||s.WebKitMutationObserver;if(f){var p=0,v=new f(k),b=s.document.createTextNode("");v.observe(b,{characterData:!0}),u=function(){b.data=p=++p%2}}else if(s.setImmediate||s.MessageChannel===void 0)u="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var w=s.document.createElement("script");w.onreadystatechange=function(){k(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:function(){setTimeout(k,0)};else{var y=new s.MessageChannel;y.port1.onmessage=k,u=function(){y.port2.postMessage(0)}}var g=[];function k(){var w,x;c=!0;for(var E=g.length;E;){for(x=g,g=[],w=-1;++w<E;)x[w]();E=g.length}c=!1}o.exports=function(w){g.push(w)!==1||c||u()}}).call(this,typeof vr!="undefined"?vr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,o,i){var s=r("immediate");function u(){}var c={},f=["REJECTED"],p=["FULFILLED"],v=["PENDING"];function b(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,E!==u&&w(this,E)}function y(E,P,O){this.promise=E,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function g(E,P,O){s(function(){var B;try{B=P(O)}catch(z){return c.reject(E,z)}B===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,B)})}function k(E){var P=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof P=="function")return function(){P.apply(E,arguments)}}function w(E,P){var O=!1;function B(Z){O||(O=!0,c.reject(E,Z))}function z(Z){O||(O=!0,c.resolve(E,Z))}var F=x(function(){P(z,B)});F.status==="error"&&B(F.value)}function x(E,P){var O={};try{O.value=E(P),O.status="success"}catch(B){O.status="error",O.value=B}return O}(o.exports=b).prototype.finally=function(E){if(typeof E!="function")return this;var P=this.constructor;return this.then(function(O){return P.resolve(E()).then(function(){return O})},function(O){return P.resolve(E()).then(function(){throw O})})},b.prototype.catch=function(E){return this.then(null,E)},b.prototype.then=function(E,P){if(typeof E!="function"&&this.state===p||typeof P!="function"&&this.state===f)return this;var O=new this.constructor(u);return this.state!==v?g(O,this.state===p?E:P,this.outcome):this.queue.push(new y(O,E,P)),O},y.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){g(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){c.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){g(this.promise,this.onRejected,E)},c.resolve=function(E,P){var O=x(k,P);if(O.status==="error")return c.reject(E,O.value);var B=O.value;if(B)w(E,B);else{E.state=p,E.outcome=P;for(var z=-1,F=E.queue.length;++z<F;)E.queue[z].callFulfilled(P)}return E},c.reject=function(E,P){E.state=f,E.outcome=P;for(var O=-1,B=E.queue.length;++O<B;)E.queue[O].callRejected(P);return E},b.resolve=function(E){return E instanceof this?E:c.resolve(new this(u),E)},b.reject=function(E){var P=new this(u);return c.reject(P,E)},b.all=function(E){var P=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,B=!1;if(!O)return this.resolve([]);for(var z=new Array(O),F=0,Z=-1,ee=new this(u);++Z<O;)K(E[Z],Z);return ee;function K(ne,me){P.resolve(ne).then(function(M){z[me]=M,++F!==O||B||(B=!0,c.resolve(ee,z))},function(M){B||(B=!0,c.reject(ee,M))})}},b.race=function(E){var P=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=E.length,B=!1;if(!O)return this.resolve([]);for(var z=-1,F=new this(u);++z<O;)Z=E[z],P.resolve(Z).then(function(ee){B||(B=!0,c.resolve(F,ee))},function(ee){B||(B=!0,c.reject(F,ee))});var Z;return F}},{immediate:36}],38:[function(r,o,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,i){var s=r("./zlib/deflate"),u=r("./utils/common"),c=r("./utils/strings"),f=r("./zlib/messages"),p=r("./zlib/zstream"),v=Object.prototype.toString,b=0,y=-1,g=0,k=8;function w(E){if(!(this instanceof w))return new w(E);this.options=u.assign({level:y,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},E||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var O=s.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(O!==b)throw new Error(f[O]);if(P.header&&s.deflateSetHeader(this.strm,P.header),P.dictionary){var B;if(B=typeof P.dictionary=="string"?c.string2buf(P.dictionary):v.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(O=s.deflateSetDictionary(this.strm,B))!==b)throw new Error(f[O]);this._dict_set=!0}}function x(E,P){var O=new w(P);if(O.push(E,!0),O.err)throw O.msg||f[O.err];return O.result}w.prototype.push=function(E,P){var O,B,z=this.strm,F=this.options.chunkSize;if(this.ended)return!1;B=P===~~P?P:P===!0?4:0,typeof E=="string"?z.input=c.string2buf(E):v.call(E)==="[object ArrayBuffer]"?z.input=new Uint8Array(E):z.input=E,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new u.Buf8(F),z.next_out=0,z.avail_out=F),(O=s.deflate(z,B))!==1&&O!==b)return this.onEnd(O),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(u.shrinkBuf(z.output,z.next_out))):this.onData(u.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&O!==1);return B===4?(O=s.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===b):B!==2||(this.onEnd(b),!(z.avail_out=0))},w.prototype.onData=function(E){this.chunks.push(E)},w.prototype.onEnd=function(E){E===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},i.Deflate=w,i.deflate=x,i.deflateRaw=function(E,P){return(P=P||{}).raw=!0,x(E,P)},i.gzip=function(E,P){return(P=P||{}).gzip=!0,x(E,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,i){var s=r("./zlib/inflate"),u=r("./utils/common"),c=r("./utils/strings"),f=r("./zlib/constants"),p=r("./zlib/messages"),v=r("./zlib/zstream"),b=r("./zlib/gzheader"),y=Object.prototype.toString;function g(w){if(!(this instanceof g))return new g(w);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},w||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||w&&w.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var E=s.inflateInit2(this.strm,x.windowBits);if(E!==f.Z_OK)throw new Error(p[E]);this.header=new b,s.inflateGetHeader(this.strm,this.header)}function k(w,x){var E=new g(x);if(E.push(w,!0),E.err)throw E.msg||p[E.err];return E.result}g.prototype.push=function(w,x){var E,P,O,B,z,F,Z=this.strm,ee=this.options.chunkSize,K=this.options.dictionary,ne=!1;if(this.ended)return!1;P=x===~~x?x:x===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof w=="string"?Z.input=c.binstring2buf(w):y.call(w)==="[object ArrayBuffer]"?Z.input=new Uint8Array(w):Z.input=w,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new u.Buf8(ee),Z.next_out=0,Z.avail_out=ee),(E=s.inflate(Z,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&K&&(F=typeof K=="string"?c.string2buf(K):y.call(K)==="[object ArrayBuffer]"?new Uint8Array(K):K,E=s.inflateSetDictionary(this.strm,F)),E===f.Z_BUF_ERROR&&ne===!0&&(E=f.Z_OK,ne=!1),E!==f.Z_STREAM_END&&E!==f.Z_OK)return this.onEnd(E),!(this.ended=!0);Z.next_out&&(Z.avail_out!==0&&E!==f.Z_STREAM_END&&(Z.avail_in!==0||P!==f.Z_FINISH&&P!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=c.utf8border(Z.output,Z.next_out),B=Z.next_out-O,z=c.buf2string(Z.output,O),Z.next_out=B,Z.avail_out=ee-B,B&&u.arraySet(Z.output,Z.output,O,B,0),this.onData(z)):this.onData(u.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(ne=!0)}while((0<Z.avail_in||Z.avail_out===0)&&E!==f.Z_STREAM_END);return E===f.Z_STREAM_END&&(P=f.Z_FINISH),P===f.Z_FINISH?(E=s.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===f.Z_OK):P!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(Z.avail_out=0))},g.prototype.onData=function(w){this.chunks.push(w)},g.prototype.onEnd=function(w){w===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=g,i.inflate=k,i.inflateRaw=function(w,x){return(x=x||{}).raw=!0,k(w,x)},i.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,i){var s=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(f){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var v=p.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var b in v)v.hasOwnProperty(b)&&(f[b]=v[b])}}return f},i.shrinkBuf=function(f,p){return f.length===p?f:f.subarray?f.subarray(0,p):(f.length=p,f)};var u={arraySet:function(f,p,v,b,y){if(p.subarray&&f.subarray)f.set(p.subarray(v,v+b),y);else for(var g=0;g<b;g++)f[y+g]=p[v+g]},flattenChunks:function(f){var p,v,b,y,g,k;for(p=b=0,v=f.length;p<v;p++)b+=f[p].length;for(k=new Uint8Array(b),p=y=0,v=f.length;p<v;p++)g=f[p],k.set(g,y),y+=g.length;return k}},c={arraySet:function(f,p,v,b,y){for(var g=0;g<b;g++)f[y+g]=p[v+g]},flattenChunks:function(f){return[].concat.apply([],f)}};i.setTyped=function(f){f?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,u)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(s)},{}],42:[function(r,o,i){var s=r("./common"),u=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch(b){u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){c=!1}for(var f=new s.Buf8(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function v(b,y){if(y<65537&&(b.subarray&&c||!b.subarray&&u))return String.fromCharCode.apply(null,s.shrinkBuf(b,y));for(var g="",k=0;k<y;k++)g+=String.fromCharCode(b[k]);return g}f[254]=f[254]=1,i.string2buf=function(b){var y,g,k,w,x,E=b.length,P=0;for(w=0;w<E;w++)(64512&(g=b.charCodeAt(w)))==55296&&w+1<E&&(64512&(k=b.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(k-56320),w++),P+=g<128?1:g<2048?2:g<65536?3:4;for(y=new s.Buf8(P),w=x=0;x<P;w++)(64512&(g=b.charCodeAt(w)))==55296&&w+1<E&&(64512&(k=b.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(k-56320),w++),g<128?y[x++]=g:(g<2048?y[x++]=192|g>>>6:(g<65536?y[x++]=224|g>>>12:(y[x++]=240|g>>>18,y[x++]=128|g>>>12&63),y[x++]=128|g>>>6&63),y[x++]=128|63&g);return y},i.buf2binstring=function(b){return v(b,b.length)},i.binstring2buf=function(b){for(var y=new s.Buf8(b.length),g=0,k=y.length;g<k;g++)y[g]=b.charCodeAt(g);return y},i.buf2string=function(b,y){var g,k,w,x,E=y||b.length,P=new Array(2*E);for(g=k=0;g<E;)if((w=b[g++])<128)P[k++]=w;else if(4<(x=f[w]))P[k++]=65533,g+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&g<E;)w=w<<6|63&b[g++],x--;1<x?P[k++]=65533:w<65536?P[k++]=w:(w-=65536,P[k++]=55296|w>>10&1023,P[k++]=56320|1023&w)}return v(P,k)},i.utf8border=function(b,y){var g;for((y=y||b.length)>b.length&&(y=b.length),g=y-1;0<=g&&(192&b[g])==128;)g--;return g<0||g===0?y:g+f[b[g]]>y?g:y}},{"./common":41}],43:[function(r,o,i){o.exports=function(s,u,c,f){for(var p=65535&s|0,v=s>>>16&65535|0,b=0;c!==0;){for(c-=b=2e3<c?2e3:c;v=v+(p=p+u[f++]|0)|0,--b;);p%=65521,v%=65521}return p|v<<16|0}},{}],44:[function(r,o,i){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,i){var s=function(){for(var u,c=[],f=0;f<256;f++){u=f;for(var p=0;p<8;p++)u=1&u?3988292384^u>>>1:u>>>1;c[f]=u}return c}();o.exports=function(u,c,f,p){var v=s,b=p+f;u^=-1;for(var y=p;y<b;y++)u=u>>>8^v[255&(u^c[y])];return-1^u}},{}],46:[function(r,o,i){var s,u=r("../utils/common"),c=r("./trees"),f=r("./adler32"),p=r("./crc32"),v=r("./messages"),b=0,y=4,g=0,k=-2,w=-1,x=4,E=2,P=8,O=9,B=286,z=30,F=19,Z=2*B+1,ee=15,K=3,ne=258,me=ne+K+1,M=42,oe=113,T=1,ue=2,Re=3,te=4;function Y(A,Pe){return A.msg=v[Pe],Pe}function de(A){return(A<<1)-(4<A?9:0)}function Te(A){for(var Pe=A.length;0<=--Pe;)A[Pe]=0}function V(A){var Pe=A.state,xe=Pe.pending;xe>A.avail_out&&(xe=A.avail_out),xe!==0&&(u.arraySet(A.output,Pe.pending_buf,Pe.pending_out,xe,A.next_out),A.next_out+=xe,Pe.pending_out+=xe,A.total_out+=xe,A.avail_out-=xe,Pe.pending-=xe,Pe.pending===0&&(Pe.pending_out=0))}function q(A,Pe){c._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,Pe),A.block_start=A.strstart,V(A.strm)}function ge(A,Pe){A.pending_buf[A.pending++]=Pe}function we(A,Pe){A.pending_buf[A.pending++]=Pe>>>8&255,A.pending_buf[A.pending++]=255&Pe}function _e(A,Pe){var xe,G,$=A.max_chain_length,pe=A.strstart,Ae=A.prev_length,ze=A.nice_match,ve=A.strstart>A.w_size-me?A.strstart-(A.w_size-me):0,Fe=A.window,De=A.w_mask,Be=A.prev,ut=A.strstart+ne,zt=Fe[pe+Ae-1],wt=Fe[pe+Ae];A.prev_length>=A.good_match&&($>>=2),ze>A.lookahead&&(ze=A.lookahead);do if(Fe[(xe=Pe)+Ae]===wt&&Fe[xe+Ae-1]===zt&&Fe[xe]===Fe[pe]&&Fe[++xe]===Fe[pe+1]){pe+=2,xe++;do;while(Fe[++pe]===Fe[++xe]&&Fe[++pe]===Fe[++xe]&&Fe[++pe]===Fe[++xe]&&Fe[++pe]===Fe[++xe]&&Fe[++pe]===Fe[++xe]&&Fe[++pe]===Fe[++xe]&&Fe[++pe]===Fe[++xe]&&Fe[++pe]===Fe[++xe]&&pe<ut);if(G=ne-(ut-pe),pe=ut-ne,Ae<G){if(A.match_start=Pe,ze<=(Ae=G))break;zt=Fe[pe+Ae-1],wt=Fe[pe+Ae]}}while((Pe=Be[Pe&De])>ve&&--$!=0);return Ae<=A.lookahead?Ae:A.lookahead}function fe(A){var Pe,xe,G,$,pe,Ae,ze,ve,Fe,De,Be=A.w_size;do{if($=A.window_size-A.lookahead-A.strstart,A.strstart>=Be+(Be-me)){for(u.arraySet(A.window,A.window,Be,Be,0),A.match_start-=Be,A.strstart-=Be,A.block_start-=Be,Pe=xe=A.hash_size;G=A.head[--Pe],A.head[Pe]=Be<=G?G-Be:0,--xe;);for(Pe=xe=Be;G=A.prev[--Pe],A.prev[Pe]=Be<=G?G-Be:0,--xe;);$+=Be}if(A.strm.avail_in===0)break;if(Ae=A.strm,ze=A.window,ve=A.strstart+A.lookahead,Fe=$,De=void 0,De=Ae.avail_in,Fe<De&&(De=Fe),xe=De===0?0:(Ae.avail_in-=De,u.arraySet(ze,Ae.input,Ae.next_in,De,ve),Ae.state.wrap===1?Ae.adler=f(Ae.adler,ze,De,ve):Ae.state.wrap===2&&(Ae.adler=p(Ae.adler,ze,De,ve)),Ae.next_in+=De,Ae.total_in+=De,De),A.lookahead+=xe,A.lookahead+A.insert>=K)for(pe=A.strstart-A.insert,A.ins_h=A.window[pe],A.ins_h=(A.ins_h<<A.hash_shift^A.window[pe+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[pe+K-1])&A.hash_mask,A.prev[pe&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=pe,pe++,A.insert--,!(A.lookahead+A.insert<K)););}while(A.lookahead<me&&A.strm.avail_in!==0)}function Ge(A,Pe){for(var xe,G;;){if(A.lookahead<me){if(fe(A),A.lookahead<me&&Pe===b)return T;if(A.lookahead===0)break}if(xe=0,A.lookahead>=K&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+K-1])&A.hash_mask,xe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),xe!==0&&A.strstart-xe<=A.w_size-me&&(A.match_length=_e(A,xe)),A.match_length>=K)if(G=c._tr_tally(A,A.strstart-A.match_start,A.match_length-K),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=K){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+K-1])&A.hash_mask,xe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else G=c._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(G&&(q(A,!1),A.strm.avail_out===0))return T}return A.insert=A.strstart<K-1?A.strstart:K-1,Pe===y?(q(A,!0),A.strm.avail_out===0?Re:te):A.last_lit&&(q(A,!1),A.strm.avail_out===0)?T:ue}function Oe(A,Pe){for(var xe,G,$;;){if(A.lookahead<me){if(fe(A),A.lookahead<me&&Pe===b)return T;if(A.lookahead===0)break}if(xe=0,A.lookahead>=K&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+K-1])&A.hash_mask,xe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=K-1,xe!==0&&A.prev_length<A.max_lazy_match&&A.strstart-xe<=A.w_size-me&&(A.match_length=_e(A,xe),A.match_length<=5&&(A.strategy===1||A.match_length===K&&4096<A.strstart-A.match_start)&&(A.match_length=K-1)),A.prev_length>=K&&A.match_length<=A.prev_length){for($=A.strstart+A.lookahead-K,G=c._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-K),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=$&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+K-1])&A.hash_mask,xe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=K-1,A.strstart++,G&&(q(A,!1),A.strm.avail_out===0))return T}else if(A.match_available){if((G=c._tr_tally(A,0,A.window[A.strstart-1]))&&q(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return T}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(G=c._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<K-1?A.strstart:K-1,Pe===y?(q(A,!0),A.strm.avail_out===0?Re:te):A.last_lit&&(q(A,!1),A.strm.avail_out===0)?T:ue}function qe(A,Pe,xe,G,$){this.good_length=A,this.max_lazy=Pe,this.nice_length=xe,this.max_chain=G,this.func=$}function tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*Z),this.dyn_dtree=new u.Buf16(2*(2*z+1)),this.bl_tree=new u.Buf16(2*(2*F+1)),Te(this.dyn_ltree),Te(this.dyn_dtree),Te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(ee+1),this.heap=new u.Buf16(2*B+1),Te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*B+1),Te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(A){var Pe;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=E,(Pe=A.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?M:oe,A.adler=Pe.wrap===2?0:1,Pe.last_flush=b,c._tr_init(Pe),g):Y(A,k)}function ct(A){var Pe=pt(A);return Pe===g&&function(xe){xe.window_size=2*xe.w_size,Te(xe.head),xe.max_lazy_match=s[xe.level].max_lazy,xe.good_match=s[xe.level].good_length,xe.nice_match=s[xe.level].nice_length,xe.max_chain_length=s[xe.level].max_chain,xe.strstart=0,xe.block_start=0,xe.lookahead=0,xe.insert=0,xe.match_length=xe.prev_length=K-1,xe.match_available=0,xe.ins_h=0}(A.state),Pe}function Nt(A,Pe,xe,G,$,pe){if(!A)return k;var Ae=1;if(Pe===w&&(Pe=6),G<0?(Ae=0,G=-G):15<G&&(Ae=2,G-=16),$<1||O<$||xe!==P||G<8||15<G||Pe<0||9<Pe||pe<0||x<pe)return Y(A,k);G===8&&(G=9);var ze=new tt;return(A.state=ze).strm=A,ze.wrap=Ae,ze.gzhead=null,ze.w_bits=G,ze.w_size=1<<ze.w_bits,ze.w_mask=ze.w_size-1,ze.hash_bits=$+7,ze.hash_size=1<<ze.hash_bits,ze.hash_mask=ze.hash_size-1,ze.hash_shift=~~((ze.hash_bits+K-1)/K),ze.window=new u.Buf8(2*ze.w_size),ze.head=new u.Buf16(ze.hash_size),ze.prev=new u.Buf16(ze.w_size),ze.lit_bufsize=1<<$+6,ze.pending_buf_size=4*ze.lit_bufsize,ze.pending_buf=new u.Buf8(ze.pending_buf_size),ze.d_buf=1*ze.lit_bufsize,ze.l_buf=3*ze.lit_bufsize,ze.level=Pe,ze.strategy=pe,ze.method=xe,ct(A)}s=[new qe(0,0,0,0,function(A,Pe){var xe=65535;for(xe>A.pending_buf_size-5&&(xe=A.pending_buf_size-5);;){if(A.lookahead<=1){if(fe(A),A.lookahead===0&&Pe===b)return T;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var G=A.block_start+xe;if((A.strstart===0||A.strstart>=G)&&(A.lookahead=A.strstart-G,A.strstart=G,q(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-me&&(q(A,!1),A.strm.avail_out===0))return T}return A.insert=0,Pe===y?(q(A,!0),A.strm.avail_out===0?Re:te):(A.strstart>A.block_start&&(q(A,!1),A.strm.avail_out),T)}),new qe(4,4,8,4,Ge),new qe(4,5,16,8,Ge),new qe(4,6,32,32,Ge),new qe(4,4,16,16,Oe),new qe(8,16,32,32,Oe),new qe(8,16,128,128,Oe),new qe(8,32,128,256,Oe),new qe(32,128,258,1024,Oe),new qe(32,258,258,4096,Oe)],i.deflateInit=function(A,Pe){return Nt(A,Pe,P,15,8,0)},i.deflateInit2=Nt,i.deflateReset=ct,i.deflateResetKeep=pt,i.deflateSetHeader=function(A,Pe){return A&&A.state?A.state.wrap!==2?k:(A.state.gzhead=Pe,g):k},i.deflate=function(A,Pe){var xe,G,$,pe;if(!A||!A.state||5<Pe||Pe<0)return A?Y(A,k):k;if(G=A.state,!A.output||!A.input&&A.avail_in!==0||G.status===666&&Pe!==y)return Y(A,A.avail_out===0?-5:k);if(G.strm=A,xe=G.last_flush,G.last_flush=Pe,G.status===M)if(G.wrap===2)A.adler=0,ge(G,31),ge(G,139),ge(G,8),G.gzhead?(ge(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ge(G,255&G.gzhead.time),ge(G,G.gzhead.time>>8&255),ge(G,G.gzhead.time>>16&255),ge(G,G.gzhead.time>>24&255),ge(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ge(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ge(G,255&G.gzhead.extra.length),ge(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(A.adler=p(A.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ge(G,0),ge(G,0),ge(G,0),ge(G,0),ge(G,0),ge(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ge(G,3),G.status=oe);else{var Ae=P+(G.w_bits-8<<4)<<8;Ae|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(Ae|=32),Ae+=31-Ae%31,G.status=oe,we(G,Ae),G.strstart!==0&&(we(G,A.adler>>>16),we(G,65535&A.adler)),A.adler=1}if(G.status===69)if(G.gzhead.extra){for($=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>$&&(A.adler=p(A.adler,G.pending_buf,G.pending-$,$)),V(A),$=G.pending,G.pending!==G.pending_buf_size));)ge(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>$&&(A.adler=p(A.adler,G.pending_buf,G.pending-$,$)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){$=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>$&&(A.adler=p(A.adler,G.pending_buf,G.pending-$,$)),V(A),$=G.pending,G.pending===G.pending_buf_size)){pe=1;break}pe=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ge(G,pe)}while(pe!==0);G.gzhead.hcrc&&G.pending>$&&(A.adler=p(A.adler,G.pending_buf,G.pending-$,$)),pe===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){$=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>$&&(A.adler=p(A.adler,G.pending_buf,G.pending-$,$)),V(A),$=G.pending,G.pending===G.pending_buf_size)){pe=1;break}pe=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ge(G,pe)}while(pe!==0);G.gzhead.hcrc&&G.pending>$&&(A.adler=p(A.adler,G.pending_buf,G.pending-$,$)),pe===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&V(A),G.pending+2<=G.pending_buf_size&&(ge(G,255&A.adler),ge(G,A.adler>>8&255),A.adler=0,G.status=oe)):G.status=oe),G.pending!==0){if(V(A),A.avail_out===0)return G.last_flush=-1,g}else if(A.avail_in===0&&de(Pe)<=de(xe)&&Pe!==y)return Y(A,-5);if(G.status===666&&A.avail_in!==0)return Y(A,-5);if(A.avail_in!==0||G.lookahead!==0||Pe!==b&&G.status!==666){var ze=G.strategy===2?function(ve,Fe){for(var De;;){if(ve.lookahead===0&&(fe(ve),ve.lookahead===0)){if(Fe===b)return T;break}if(ve.match_length=0,De=c._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++,De&&(q(ve,!1),ve.strm.avail_out===0))return T}return ve.insert=0,Fe===y?(q(ve,!0),ve.strm.avail_out===0?Re:te):ve.last_lit&&(q(ve,!1),ve.strm.avail_out===0)?T:ue}(G,Pe):G.strategy===3?function(ve,Fe){for(var De,Be,ut,zt,wt=ve.window;;){if(ve.lookahead<=ne){if(fe(ve),ve.lookahead<=ne&&Fe===b)return T;if(ve.lookahead===0)break}if(ve.match_length=0,ve.lookahead>=K&&0<ve.strstart&&(Be=wt[ut=ve.strstart-1])===wt[++ut]&&Be===wt[++ut]&&Be===wt[++ut]){zt=ve.strstart+ne;do;while(Be===wt[++ut]&&Be===wt[++ut]&&Be===wt[++ut]&&Be===wt[++ut]&&Be===wt[++ut]&&Be===wt[++ut]&&Be===wt[++ut]&&Be===wt[++ut]&&ut<zt);ve.match_length=ne-(zt-ut),ve.match_length>ve.lookahead&&(ve.match_length=ve.lookahead)}if(ve.match_length>=K?(De=c._tr_tally(ve,1,ve.match_length-K),ve.lookahead-=ve.match_length,ve.strstart+=ve.match_length,ve.match_length=0):(De=c._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++),De&&(q(ve,!1),ve.strm.avail_out===0))return T}return ve.insert=0,Fe===y?(q(ve,!0),ve.strm.avail_out===0?Re:te):ve.last_lit&&(q(ve,!1),ve.strm.avail_out===0)?T:ue}(G,Pe):s[G.level].func(G,Pe);if(ze!==Re&&ze!==te||(G.status=666),ze===T||ze===Re)return A.avail_out===0&&(G.last_flush=-1),g;if(ze===ue&&(Pe===1?c._tr_align(G):Pe!==5&&(c._tr_stored_block(G,0,0,!1),Pe===3&&(Te(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),V(A),A.avail_out===0))return G.last_flush=-1,g}return Pe!==y?g:G.wrap<=0?1:(G.wrap===2?(ge(G,255&A.adler),ge(G,A.adler>>8&255),ge(G,A.adler>>16&255),ge(G,A.adler>>24&255),ge(G,255&A.total_in),ge(G,A.total_in>>8&255),ge(G,A.total_in>>16&255),ge(G,A.total_in>>24&255)):(we(G,A.adler>>>16),we(G,65535&A.adler)),V(A),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?g:1)},i.deflateEnd=function(A){var Pe;return A&&A.state?(Pe=A.state.status)!==M&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==oe&&Pe!==666?Y(A,k):(A.state=null,Pe===oe?Y(A,-3):g):k},i.deflateSetDictionary=function(A,Pe){var xe,G,$,pe,Ae,ze,ve,Fe,De=Pe.length;if(!A||!A.state||(pe=(xe=A.state).wrap)===2||pe===1&&xe.status!==M||xe.lookahead)return k;for(pe===1&&(A.adler=f(A.adler,Pe,De,0)),xe.wrap=0,De>=xe.w_size&&(pe===0&&(Te(xe.head),xe.strstart=0,xe.block_start=0,xe.insert=0),Fe=new u.Buf8(xe.w_size),u.arraySet(Fe,Pe,De-xe.w_size,xe.w_size,0),Pe=Fe,De=xe.w_size),Ae=A.avail_in,ze=A.next_in,ve=A.input,A.avail_in=De,A.next_in=0,A.input=Pe,fe(xe);xe.lookahead>=K;){for(G=xe.strstart,$=xe.lookahead-(K-1);xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[G+K-1])&xe.hash_mask,xe.prev[G&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=G,G++,--$;);xe.strstart=G,xe.lookahead=K-1,fe(xe)}return xe.strstart+=xe.lookahead,xe.block_start=xe.strstart,xe.insert=xe.lookahead,xe.lookahead=0,xe.match_length=xe.prev_length=K-1,xe.match_available=0,A.next_in=ze,A.input=ve,A.avail_in=Ae,xe.wrap=pe,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,i){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,i){o.exports=function(s,u){var c,f,p,v,b,y,g,k,w,x,E,P,O,B,z,F,Z,ee,K,ne,me,M,oe,T,ue;c=s.state,f=s.next_in,T=s.input,p=f+(s.avail_in-5),v=s.next_out,ue=s.output,b=v-(u-s.avail_out),y=v+(s.avail_out-257),g=c.dmax,k=c.wsize,w=c.whave,x=c.wnext,E=c.window,P=c.hold,O=c.bits,B=c.lencode,z=c.distcode,F=(1<<c.lenbits)-1,Z=(1<<c.distbits)-1;e:do{O<15&&(P+=T[f++]<<O,O+=8,P+=T[f++]<<O,O+=8),ee=B[P&F];t:for(;;){if(P>>>=K=ee>>>24,O-=K,(K=ee>>>16&255)===0)ue[v++]=65535&ee;else{if(!(16&K)){if(!(64&K)){ee=B[(65535&ee)+(P&(1<<K)-1)];continue t}if(32&K){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}ne=65535&ee,(K&=15)&&(O<K&&(P+=T[f++]<<O,O+=8),ne+=P&(1<<K)-1,P>>>=K,O-=K),O<15&&(P+=T[f++]<<O,O+=8,P+=T[f++]<<O,O+=8),ee=z[P&Z];r:for(;;){if(P>>>=K=ee>>>24,O-=K,!(16&(K=ee>>>16&255))){if(!(64&K)){ee=z[(65535&ee)+(P&(1<<K)-1)];continue r}s.msg="invalid distance code",c.mode=30;break e}if(me=65535&ee,O<(K&=15)&&(P+=T[f++]<<O,(O+=8)<K&&(P+=T[f++]<<O,O+=8)),g<(me+=P&(1<<K)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(P>>>=K,O-=K,(K=v-b)<me){if(w<(K=me-K)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(oe=E,(M=0)===x){if(M+=k-K,K<ne){for(ne-=K;ue[v++]=E[M++],--K;);M=v-me,oe=ue}}else if(x<K){if(M+=k+x-K,(K-=x)<ne){for(ne-=K;ue[v++]=E[M++],--K;);if(M=0,x<ne){for(ne-=K=x;ue[v++]=E[M++],--K;);M=v-me,oe=ue}}}else if(M+=x-K,K<ne){for(ne-=K;ue[v++]=E[M++],--K;);M=v-me,oe=ue}for(;2<ne;)ue[v++]=oe[M++],ue[v++]=oe[M++],ue[v++]=oe[M++],ne-=3;ne&&(ue[v++]=oe[M++],1<ne&&(ue[v++]=oe[M++]))}else{for(M=v-me;ue[v++]=ue[M++],ue[v++]=ue[M++],ue[v++]=ue[M++],2<(ne-=3););ne&&(ue[v++]=ue[M++],1<ne&&(ue[v++]=ue[M++]))}break}}break}}while(f<p&&v<y);f-=ne=O>>3,P&=(1<<(O-=ne<<3))-1,s.next_in=f,s.next_out=v,s.avail_in=f<p?p-f+5:5-(f-p),s.avail_out=v<y?y-v+257:257-(v-y),c.hold=P,c.bits=O}},{}],49:[function(r,o,i){var s=r("../utils/common"),u=r("./adler32"),c=r("./crc32"),f=r("./inffast"),p=r("./inftrees"),v=1,b=2,y=0,g=-2,k=1,w=852,x=592;function E(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(M){var oe;return M&&M.state?(oe=M.state,M.total_in=M.total_out=oe.total=0,M.msg="",oe.wrap&&(M.adler=1&oe.wrap),oe.mode=k,oe.last=0,oe.havedict=0,oe.dmax=32768,oe.head=null,oe.hold=0,oe.bits=0,oe.lencode=oe.lendyn=new s.Buf32(w),oe.distcode=oe.distdyn=new s.Buf32(x),oe.sane=1,oe.back=-1,y):g}function B(M){var oe;return M&&M.state?((oe=M.state).wsize=0,oe.whave=0,oe.wnext=0,O(M)):g}function z(M,oe){var T,ue;return M&&M.state?(ue=M.state,oe<0?(T=0,oe=-oe):(T=1+(oe>>4),oe<48&&(oe&=15)),oe&&(oe<8||15<oe)?g:(ue.window!==null&&ue.wbits!==oe&&(ue.window=null),ue.wrap=T,ue.wbits=oe,B(M))):g}function F(M,oe){var T,ue;return M?(ue=new P,(M.state=ue).window=null,(T=z(M,oe))!==y&&(M.state=null),T):g}var Z,ee,K=!0;function ne(M){if(K){var oe;for(Z=new s.Buf32(512),ee=new s.Buf32(32),oe=0;oe<144;)M.lens[oe++]=8;for(;oe<256;)M.lens[oe++]=9;for(;oe<280;)M.lens[oe++]=7;for(;oe<288;)M.lens[oe++]=8;for(p(v,M.lens,0,288,Z,0,M.work,{bits:9}),oe=0;oe<32;)M.lens[oe++]=5;p(b,M.lens,0,32,ee,0,M.work,{bits:5}),K=!1}M.lencode=Z,M.lenbits=9,M.distcode=ee,M.distbits=5}function me(M,oe,T,ue){var Re,te=M.state;return te.window===null&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new s.Buf8(te.wsize)),ue>=te.wsize?(s.arraySet(te.window,oe,T-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(ue<(Re=te.wsize-te.wnext)&&(Re=ue),s.arraySet(te.window,oe,T-ue,Re,te.wnext),(ue-=Re)?(s.arraySet(te.window,oe,T-ue,ue,0),te.wnext=ue,te.whave=te.wsize):(te.wnext+=Re,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=Re))),0}i.inflateReset=B,i.inflateReset2=z,i.inflateResetKeep=O,i.inflateInit=function(M){return F(M,15)},i.inflateInit2=F,i.inflate=function(M,oe){var T,ue,Re,te,Y,de,Te,V,q,ge,we,_e,fe,Ge,Oe,qe,tt,pt,ct,Nt,A,Pe,xe,G,$=0,pe=new s.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return g;(T=M.state).mode===12&&(T.mode=13),Y=M.next_out,Re=M.output,Te=M.avail_out,te=M.next_in,ue=M.input,de=M.avail_in,V=T.hold,q=T.bits,ge=de,we=Te,Pe=y;e:for(;;)switch(T.mode){case k:if(T.wrap===0){T.mode=13;break}for(;q<16;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(2&T.wrap&&V===35615){pe[T.check=0]=255&V,pe[1]=V>>>8&255,T.check=c(T.check,pe,2,0),q=V=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&V)<<8)+(V>>8))%31){M.msg="incorrect header check",T.mode=30;break}if((15&V)!=8){M.msg="unknown compression method",T.mode=30;break}if(q-=4,A=8+(15&(V>>>=4)),T.wbits===0)T.wbits=A;else if(A>T.wbits){M.msg="invalid window size",T.mode=30;break}T.dmax=1<<A,M.adler=T.check=1,T.mode=512&V?10:12,q=V=0;break;case 2:for(;q<16;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(T.flags=V,(255&T.flags)!=8){M.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){M.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=V>>8&1),512&T.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,T.check=c(T.check,pe,2,0)),q=V=0,T.mode=3;case 3:for(;q<32;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}T.head&&(T.head.time=V),512&T.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,pe[2]=V>>>16&255,pe[3]=V>>>24&255,T.check=c(T.check,pe,4,0)),q=V=0,T.mode=4;case 4:for(;q<16;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}T.head&&(T.head.xflags=255&V,T.head.os=V>>8),512&T.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,T.check=c(T.check,pe,2,0)),q=V=0,T.mode=5;case 5:if(1024&T.flags){for(;q<16;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}T.length=V,T.head&&(T.head.extra_len=V),512&T.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,T.check=c(T.check,pe,2,0)),q=V=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(de<(_e=T.length)&&(_e=de),_e&&(T.head&&(A=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),s.arraySet(T.head.extra,ue,te,_e,A)),512&T.flags&&(T.check=c(T.check,ue,_e,te)),de-=_e,te+=_e,T.length-=_e),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(de===0)break e;for(_e=0;A=ue[te+_e++],T.head&&A&&T.length<65536&&(T.head.name+=String.fromCharCode(A)),A&&_e<de;);if(512&T.flags&&(T.check=c(T.check,ue,_e,te)),de-=_e,te+=_e,A)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(de===0)break e;for(_e=0;A=ue[te+_e++],T.head&&A&&T.length<65536&&(T.head.comment+=String.fromCharCode(A)),A&&_e<de;);if(512&T.flags&&(T.check=c(T.check,ue,_e,te)),de-=_e,te+=_e,A)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;q<16;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(V!==(65535&T.check)){M.msg="header crc mismatch",T.mode=30;break}q=V=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),M.adler=T.check=0,T.mode=12;break;case 10:for(;q<32;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}M.adler=T.check=E(V),q=V=0,T.mode=11;case 11:if(T.havedict===0)return M.next_out=Y,M.avail_out=Te,M.next_in=te,M.avail_in=de,T.hold=V,T.bits=q,2;M.adler=T.check=1,T.mode=12;case 12:if(oe===5||oe===6)break e;case 13:if(T.last){V>>>=7&q,q-=7&q,T.mode=27;break}for(;q<3;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}switch(T.last=1&V,q-=1,3&(V>>>=1)){case 0:T.mode=14;break;case 1:if(ne(T),T.mode=20,oe!==6)break;V>>>=2,q-=2;break e;case 2:T.mode=17;break;case 3:M.msg="invalid block type",T.mode=30}V>>>=2,q-=2;break;case 14:for(V>>>=7&q,q-=7&q;q<32;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if((65535&V)!=(V>>>16^65535)){M.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&V,q=V=0,T.mode=15,oe===6)break e;case 15:T.mode=16;case 16:if(_e=T.length){if(de<_e&&(_e=de),Te<_e&&(_e=Te),_e===0)break e;s.arraySet(Re,ue,te,_e,Y),de-=_e,te+=_e,Te-=_e,Y+=_e,T.length-=_e;break}T.mode=12;break;case 17:for(;q<14;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(T.nlen=257+(31&V),V>>>=5,q-=5,T.ndist=1+(31&V),V>>>=5,q-=5,T.ncode=4+(15&V),V>>>=4,q-=4,286<T.nlen||30<T.ndist){M.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;q<3;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}T.lens[Ae[T.have++]]=7&V,V>>>=3,q-=3}for(;T.have<19;)T.lens[Ae[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,xe={bits:T.lenbits},Pe=p(0,T.lens,0,19,T.lencode,0,T.work,xe),T.lenbits=xe.bits,Pe){M.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;qe=($=T.lencode[V&(1<<T.lenbits)-1])>>>16&255,tt=65535&$,!((Oe=$>>>24)<=q);){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(tt<16)V>>>=Oe,q-=Oe,T.lens[T.have++]=tt;else{if(tt===16){for(G=Oe+2;q<G;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(V>>>=Oe,q-=Oe,T.have===0){M.msg="invalid bit length repeat",T.mode=30;break}A=T.lens[T.have-1],_e=3+(3&V),V>>>=2,q-=2}else if(tt===17){for(G=Oe+3;q<G;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}q-=Oe,A=0,_e=3+(7&(V>>>=Oe)),V>>>=3,q-=3}else{for(G=Oe+7;q<G;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}q-=Oe,A=0,_e=11+(127&(V>>>=Oe)),V>>>=7,q-=7}if(T.have+_e>T.nlen+T.ndist){M.msg="invalid bit length repeat",T.mode=30;break}for(;_e--;)T.lens[T.have++]=A}}if(T.mode===30)break;if(T.lens[256]===0){M.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,xe={bits:T.lenbits},Pe=p(v,T.lens,0,T.nlen,T.lencode,0,T.work,xe),T.lenbits=xe.bits,Pe){M.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,xe={bits:T.distbits},Pe=p(b,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,xe),T.distbits=xe.bits,Pe){M.msg="invalid distances set",T.mode=30;break}if(T.mode=20,oe===6)break e;case 20:T.mode=21;case 21:if(6<=de&&258<=Te){M.next_out=Y,M.avail_out=Te,M.next_in=te,M.avail_in=de,T.hold=V,T.bits=q,f(M,we),Y=M.next_out,Re=M.output,Te=M.avail_out,te=M.next_in,ue=M.input,de=M.avail_in,V=T.hold,q=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;qe=($=T.lencode[V&(1<<T.lenbits)-1])>>>16&255,tt=65535&$,!((Oe=$>>>24)<=q);){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(qe&&!(240&qe)){for(pt=Oe,ct=qe,Nt=tt;qe=($=T.lencode[Nt+((V&(1<<pt+ct)-1)>>pt)])>>>16&255,tt=65535&$,!(pt+(Oe=$>>>24)<=q);){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}V>>>=pt,q-=pt,T.back+=pt}if(V>>>=Oe,q-=Oe,T.back+=Oe,T.length=tt,qe===0){T.mode=26;break}if(32&qe){T.back=-1,T.mode=12;break}if(64&qe){M.msg="invalid literal/length code",T.mode=30;break}T.extra=15&qe,T.mode=22;case 22:if(T.extra){for(G=T.extra;q<G;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}T.length+=V&(1<<T.extra)-1,V>>>=T.extra,q-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;qe=($=T.distcode[V&(1<<T.distbits)-1])>>>16&255,tt=65535&$,!((Oe=$>>>24)<=q);){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(!(240&qe)){for(pt=Oe,ct=qe,Nt=tt;qe=($=T.distcode[Nt+((V&(1<<pt+ct)-1)>>pt)])>>>16&255,tt=65535&$,!(pt+(Oe=$>>>24)<=q);){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}V>>>=pt,q-=pt,T.back+=pt}if(V>>>=Oe,q-=Oe,T.back+=Oe,64&qe){M.msg="invalid distance code",T.mode=30;break}T.offset=tt,T.extra=15&qe,T.mode=24;case 24:if(T.extra){for(G=T.extra;q<G;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}T.offset+=V&(1<<T.extra)-1,V>>>=T.extra,q-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){M.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(Te===0)break e;if(_e=we-Te,T.offset>_e){if((_e=T.offset-_e)>T.whave&&T.sane){M.msg="invalid distance too far back",T.mode=30;break}fe=_e>T.wnext?(_e-=T.wnext,T.wsize-_e):T.wnext-_e,_e>T.length&&(_e=T.length),Ge=T.window}else Ge=Re,fe=Y-T.offset,_e=T.length;for(Te<_e&&(_e=Te),Te-=_e,T.length-=_e;Re[Y++]=Ge[fe++],--_e;);T.length===0&&(T.mode=21);break;case 26:if(Te===0)break e;Re[Y++]=T.length,Te--,T.mode=21;break;case 27:if(T.wrap){for(;q<32;){if(de===0)break e;de--,V|=ue[te++]<<q,q+=8}if(we-=Te,M.total_out+=we,T.total+=we,we&&(M.adler=T.check=T.flags?c(T.check,Re,we,Y-we):u(T.check,Re,we,Y-we)),we=Te,(T.flags?V:E(V))!==T.check){M.msg="incorrect data check",T.mode=30;break}q=V=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;q<32;){if(de===0)break e;de--,V+=ue[te++]<<q,q+=8}if(V!==(4294967295&T.total)){M.msg="incorrect length check",T.mode=30;break}q=V=0}T.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return g}return M.next_out=Y,M.avail_out=Te,M.next_in=te,M.avail_in=de,T.hold=V,T.bits=q,(T.wsize||we!==M.avail_out&&T.mode<30&&(T.mode<27||oe!==4))&&me(M,M.output,M.next_out,we-M.avail_out)?(T.mode=31,-4):(ge-=M.avail_in,we-=M.avail_out,M.total_in+=ge,M.total_out+=we,T.total+=we,T.wrap&&we&&(M.adler=T.check=T.flags?c(T.check,Re,we,M.next_out-we):u(T.check,Re,we,M.next_out-we)),M.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(ge==0&&we===0||oe===4)&&Pe===y&&(Pe=-5),Pe)},i.inflateEnd=function(M){if(!M||!M.state)return g;var oe=M.state;return oe.window&&(oe.window=null),M.state=null,y},i.inflateGetHeader=function(M,oe){var T;return M&&M.state&&2&(T=M.state).wrap?((T.head=oe).done=!1,y):g},i.inflateSetDictionary=function(M,oe){var T,ue=oe.length;return M&&M.state?(T=M.state).wrap!==0&&T.mode!==11?g:T.mode===11&&u(1,oe,ue,0)!==T.check?-3:me(M,oe,ue,ue)?(T.mode=31,-4):(T.havedict=1,y):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,i){var s=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(v,b,y,g,k,w,x,E){var P,O,B,z,F,Z,ee,K,ne,me=E.bits,M=0,oe=0,T=0,ue=0,Re=0,te=0,Y=0,de=0,Te=0,V=0,q=null,ge=0,we=new s.Buf16(16),_e=new s.Buf16(16),fe=null,Ge=0;for(M=0;M<=15;M++)we[M]=0;for(oe=0;oe<g;oe++)we[b[y+oe]]++;for(Re=me,ue=15;1<=ue&&we[ue]===0;ue--);if(ue<Re&&(Re=ue),ue===0)return k[w++]=20971520,k[w++]=20971520,E.bits=1,0;for(T=1;T<ue&&we[T]===0;T++);for(Re<T&&(Re=T),M=de=1;M<=15;M++)if(de<<=1,(de-=we[M])<0)return-1;if(0<de&&(v===0||ue!==1))return-1;for(_e[1]=0,M=1;M<15;M++)_e[M+1]=_e[M]+we[M];for(oe=0;oe<g;oe++)b[y+oe]!==0&&(x[_e[b[y+oe]]++]=oe);if(Z=v===0?(q=fe=x,19):v===1?(q=u,ge-=257,fe=c,Ge-=257,256):(q=f,fe=p,-1),M=T,F=w,Y=oe=V=0,B=-1,z=(Te=1<<(te=Re))-1,v===1&&852<Te||v===2&&592<Te)return 1;for(;;){for(ee=M-Y,ne=x[oe]<Z?(K=0,x[oe]):x[oe]>Z?(K=fe[Ge+x[oe]],q[ge+x[oe]]):(K=96,0),P=1<<M-Y,T=O=1<<te;k[F+(V>>Y)+(O-=P)]=ee<<24|K<<16|ne|0,O!==0;);for(P=1<<M-1;V&P;)P>>=1;if(P!==0?(V&=P-1,V+=P):V=0,oe++,--we[M]==0){if(M===ue)break;M=b[y+x[oe]]}if(Re<M&&(V&z)!==B){for(Y===0&&(Y=Re),F+=T,de=1<<(te=M-Y);te+Y<ue&&!((de-=we[te+Y])<=0);)te++,de<<=1;if(Te+=1<<te,v===1&&852<Te||v===2&&592<Te)return 1;k[B=V&z]=Re<<24|te<<16|F-w|0}}return V!==0&&(k[F+V]=M-Y<<24|64<<16|0),E.bits=Re,0}},{"../utils/common":41}],51:[function(r,o,i){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,i){var s=r("../utils/common"),u=0,c=1;function f($){for(var pe=$.length;0<=--pe;)$[pe]=0}var p=0,v=29,b=256,y=b+1+v,g=30,k=19,w=2*y+1,x=15,E=16,P=7,O=256,B=16,z=17,F=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(y+2));f(me);var M=new Array(2*g);f(M);var oe=new Array(512);f(oe);var T=new Array(256);f(T);var ue=new Array(v);f(ue);var Re,te,Y,de=new Array(g);function Te($,pe,Ae,ze,ve){this.static_tree=$,this.extra_bits=pe,this.extra_base=Ae,this.elems=ze,this.max_length=ve,this.has_stree=$&&$.length}function V($,pe){this.dyn_tree=$,this.max_code=0,this.stat_desc=pe}function q($){return $<256?oe[$]:oe[256+($>>>7)]}function ge($,pe){$.pending_buf[$.pending++]=255&pe,$.pending_buf[$.pending++]=pe>>>8&255}function we($,pe,Ae){$.bi_valid>E-Ae?($.bi_buf|=pe<<$.bi_valid&65535,ge($,$.bi_buf),$.bi_buf=pe>>E-$.bi_valid,$.bi_valid+=Ae-E):($.bi_buf|=pe<<$.bi_valid&65535,$.bi_valid+=Ae)}function _e($,pe,Ae){we($,Ae[2*pe],Ae[2*pe+1])}function fe($,pe){for(var Ae=0;Ae|=1&$,$>>>=1,Ae<<=1,0<--pe;);return Ae>>>1}function Ge($,pe,Ae){var ze,ve,Fe=new Array(x+1),De=0;for(ze=1;ze<=x;ze++)Fe[ze]=De=De+Ae[ze-1]<<1;for(ve=0;ve<=pe;ve++){var Be=$[2*ve+1];Be!==0&&($[2*ve]=fe(Fe[Be]++,Be))}}function Oe($){var pe;for(pe=0;pe<y;pe++)$.dyn_ltree[2*pe]=0;for(pe=0;pe<g;pe++)$.dyn_dtree[2*pe]=0;for(pe=0;pe<k;pe++)$.bl_tree[2*pe]=0;$.dyn_ltree[2*O]=1,$.opt_len=$.static_len=0,$.last_lit=$.matches=0}function qe($){8<$.bi_valid?ge($,$.bi_buf):0<$.bi_valid&&($.pending_buf[$.pending++]=$.bi_buf),$.bi_buf=0,$.bi_valid=0}function tt($,pe,Ae,ze){var ve=2*pe,Fe=2*Ae;return $[ve]<$[Fe]||$[ve]===$[Fe]&&ze[pe]<=ze[Ae]}function pt($,pe,Ae){for(var ze=$.heap[Ae],ve=Ae<<1;ve<=$.heap_len&&(ve<$.heap_len&&tt(pe,$.heap[ve+1],$.heap[ve],$.depth)&&ve++,!tt(pe,ze,$.heap[ve],$.depth));)$.heap[Ae]=$.heap[ve],Ae=ve,ve<<=1;$.heap[Ae]=ze}function ct($,pe,Ae){var ze,ve,Fe,De,Be=0;if($.last_lit!==0)for(;ze=$.pending_buf[$.d_buf+2*Be]<<8|$.pending_buf[$.d_buf+2*Be+1],ve=$.pending_buf[$.l_buf+Be],Be++,ze===0?_e($,ve,pe):(_e($,(Fe=T[ve])+b+1,pe),(De=Z[Fe])!==0&&we($,ve-=ue[Fe],De),_e($,Fe=q(--ze),Ae),(De=ee[Fe])!==0&&we($,ze-=de[Fe],De)),Be<$.last_lit;);_e($,O,pe)}function Nt($,pe){var Ae,ze,ve,Fe=pe.dyn_tree,De=pe.stat_desc.static_tree,Be=pe.stat_desc.has_stree,ut=pe.stat_desc.elems,zt=-1;for($.heap_len=0,$.heap_max=w,Ae=0;Ae<ut;Ae++)Fe[2*Ae]!==0?($.heap[++$.heap_len]=zt=Ae,$.depth[Ae]=0):Fe[2*Ae+1]=0;for(;$.heap_len<2;)Fe[2*(ve=$.heap[++$.heap_len]=zt<2?++zt:0)]=1,$.depth[ve]=0,$.opt_len--,Be&&($.static_len-=De[2*ve+1]);for(pe.max_code=zt,Ae=$.heap_len>>1;1<=Ae;Ae--)pt($,Fe,Ae);for(ve=ut;Ae=$.heap[1],$.heap[1]=$.heap[$.heap_len--],pt($,Fe,1),ze=$.heap[1],$.heap[--$.heap_max]=Ae,$.heap[--$.heap_max]=ze,Fe[2*ve]=Fe[2*Ae]+Fe[2*ze],$.depth[ve]=($.depth[Ae]>=$.depth[ze]?$.depth[Ae]:$.depth[ze])+1,Fe[2*Ae+1]=Fe[2*ze+1]=ve,$.heap[1]=ve++,pt($,Fe,1),2<=$.heap_len;);$.heap[--$.heap_max]=$.heap[1],function(wt,un){var yu,xn,Ka,hr,xd,Kh,qa=un.dyn_tree,qh=un.max_code,ry=un.stat_desc.static_tree,ny=un.stat_desc.has_stree,oy=un.stat_desc.extra_bits,Wh=un.stat_desc.extra_base,Jo=un.stat_desc.max_length,Wa=0;for(hr=0;hr<=x;hr++)wt.bl_count[hr]=0;for(qa[2*wt.heap[wt.heap_max]+1]=0,yu=wt.heap_max+1;yu<w;yu++)Jo<(hr=qa[2*qa[2*(xn=wt.heap[yu])+1]+1]+1)&&(hr=Jo,Wa++),qa[2*xn+1]=hr,qh<xn||(wt.bl_count[hr]++,xd=0,Wh<=xn&&(xd=oy[xn-Wh]),Kh=qa[2*xn],wt.opt_len+=Kh*(hr+xd),ny&&(wt.static_len+=Kh*(ry[2*xn+1]+xd)));if(Wa!==0){do{for(hr=Jo-1;wt.bl_count[hr]===0;)hr--;wt.bl_count[hr]--,wt.bl_count[hr+1]+=2,wt.bl_count[Jo]--,Wa-=2}while(0<Wa);for(hr=Jo;hr!==0;hr--)for(xn=wt.bl_count[hr];xn!==0;)qh<(Ka=wt.heap[--yu])||(qa[2*Ka+1]!==hr&&(wt.opt_len+=(hr-qa[2*Ka+1])*qa[2*Ka],qa[2*Ka+1]=hr),xn--)}}($,pe),Ge(Fe,zt,$.bl_count)}function A($,pe,Ae){var ze,ve,Fe=-1,De=pe[1],Be=0,ut=7,zt=4;for(De===0&&(ut=138,zt=3),pe[2*(Ae+1)+1]=65535,ze=0;ze<=Ae;ze++)ve=De,De=pe[2*(ze+1)+1],++Be<ut&&ve===De||(Be<zt?$.bl_tree[2*ve]+=Be:ve!==0?(ve!==Fe&&$.bl_tree[2*ve]++,$.bl_tree[2*B]++):Be<=10?$.bl_tree[2*z]++:$.bl_tree[2*F]++,Fe=ve,zt=(Be=0)===De?(ut=138,3):ve===De?(ut=6,3):(ut=7,4))}function Pe($,pe,Ae){var ze,ve,Fe=-1,De=pe[1],Be=0,ut=7,zt=4;for(De===0&&(ut=138,zt=3),ze=0;ze<=Ae;ze++)if(ve=De,De=pe[2*(ze+1)+1],!(++Be<ut&&ve===De)){if(Be<zt)for(;_e($,ve,$.bl_tree),--Be!=0;);else ve!==0?(ve!==Fe&&(_e($,ve,$.bl_tree),Be--),_e($,B,$.bl_tree),we($,Be-3,2)):Be<=10?(_e($,z,$.bl_tree),we($,Be-3,3)):(_e($,F,$.bl_tree),we($,Be-11,7));Fe=ve,zt=(Be=0)===De?(ut=138,3):ve===De?(ut=6,3):(ut=7,4)}}f(de);var xe=!1;function G($,pe,Ae,ze){we($,(p<<1)+(ze?1:0),3),function(ve,Fe,De,Be){qe(ve),ge(ve,De),ge(ve,~De),s.arraySet(ve.pending_buf,ve.window,Fe,De,ve.pending),ve.pending+=De}($,pe,Ae)}i._tr_init=function($){xe||(function(){var pe,Ae,ze,ve,Fe,De=new Array(x+1);for(ve=ze=0;ve<v-1;ve++)for(ue[ve]=ze,pe=0;pe<1<<Z[ve];pe++)T[ze++]=ve;for(T[ze-1]=ve,ve=Fe=0;ve<16;ve++)for(de[ve]=Fe,pe=0;pe<1<<ee[ve];pe++)oe[Fe++]=ve;for(Fe>>=7;ve<g;ve++)for(de[ve]=Fe<<7,pe=0;pe<1<<ee[ve]-7;pe++)oe[256+Fe++]=ve;for(Ae=0;Ae<=x;Ae++)De[Ae]=0;for(pe=0;pe<=143;)me[2*pe+1]=8,pe++,De[8]++;for(;pe<=255;)me[2*pe+1]=9,pe++,De[9]++;for(;pe<=279;)me[2*pe+1]=7,pe++,De[7]++;for(;pe<=287;)me[2*pe+1]=8,pe++,De[8]++;for(Ge(me,y+1,De),pe=0;pe<g;pe++)M[2*pe+1]=5,M[2*pe]=fe(pe,5);Re=new Te(me,Z,b+1,y,x),te=new Te(M,ee,0,g,x),Y=new Te(new Array(0),K,0,k,P)}(),xe=!0),$.l_desc=new V($.dyn_ltree,Re),$.d_desc=new V($.dyn_dtree,te),$.bl_desc=new V($.bl_tree,Y),$.bi_buf=0,$.bi_valid=0,Oe($)},i._tr_stored_block=G,i._tr_flush_block=function($,pe,Ae,ze){var ve,Fe,De=0;0<$.level?($.strm.data_type===2&&($.strm.data_type=function(Be){var ut,zt=4093624447;for(ut=0;ut<=31;ut++,zt>>>=1)if(1&zt&&Be.dyn_ltree[2*ut]!==0)return u;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return c;for(ut=32;ut<b;ut++)if(Be.dyn_ltree[2*ut]!==0)return c;return u}($)),Nt($,$.l_desc),Nt($,$.d_desc),De=function(Be){var ut;for(A(Be,Be.dyn_ltree,Be.l_desc.max_code),A(Be,Be.dyn_dtree,Be.d_desc.max_code),Nt(Be,Be.bl_desc),ut=k-1;3<=ut&&Be.bl_tree[2*ne[ut]+1]===0;ut--);return Be.opt_len+=3*(ut+1)+5+5+4,ut}($),ve=$.opt_len+3+7>>>3,(Fe=$.static_len+3+7>>>3)<=ve&&(ve=Fe)):ve=Fe=Ae+5,Ae+4<=ve&&pe!==-1?G($,pe,Ae,ze):$.strategy===4||Fe===ve?(we($,2+(ze?1:0),3),ct($,me,M)):(we($,4+(ze?1:0),3),function(Be,ut,zt,wt){var un;for(we(Be,ut-257,5),we(Be,zt-1,5),we(Be,wt-4,4),un=0;un<wt;un++)we(Be,Be.bl_tree[2*ne[un]+1],3);Pe(Be,Be.dyn_ltree,ut-1),Pe(Be,Be.dyn_dtree,zt-1)}($,$.l_desc.max_code+1,$.d_desc.max_code+1,De+1),ct($,$.dyn_ltree,$.dyn_dtree)),Oe($),ze&&qe($)},i._tr_tally=function($,pe,Ae){return $.pending_buf[$.d_buf+2*$.last_lit]=pe>>>8&255,$.pending_buf[$.d_buf+2*$.last_lit+1]=255&pe,$.pending_buf[$.l_buf+$.last_lit]=255&Ae,$.last_lit++,pe===0?$.dyn_ltree[2*Ae]++:($.matches++,pe--,$.dyn_ltree[2*(T[Ae]+b+1)]++,$.dyn_dtree[2*q(pe)]++),$.last_lit===$.lit_bufsize-1},i._tr_align=function($){we($,2,3),_e($,O,me),function(pe){pe.bi_valid===16?(ge(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}($)}},{"../utils/common":41}],53:[function(r,o,i){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,i){(function(s){(function(u,c){if(!u.setImmediate){var f,p,v,b,y=1,g={},k=!1,w=u.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(u);x=x&&x.setTimeout?x:u,f={}.toString.call(u.process)==="[object process]"?function(B){process.nextTick(function(){P(B)})}:function(){if(u.postMessage&&!u.importScripts){var B=!0,z=u.onmessage;return u.onmessage=function(){B=!1},u.postMessage("","*"),u.onmessage=z,B}}()?(b="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",O,!1):u.attachEvent("onmessage",O),function(B){u.postMessage(b+B,"*")}):u.MessageChannel?((v=new MessageChannel).port1.onmessage=function(B){P(B.data)},function(B){v.port2.postMessage(B)}):w&&"onreadystatechange"in w.createElement("script")?(p=w.documentElement,function(B){var z=w.createElement("script");z.onreadystatechange=function(){P(B),z.onreadystatechange=null,p.removeChild(z),z=null},p.appendChild(z)}):function(B){setTimeout(P,0,B)},x.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var z=new Array(arguments.length-1),F=0;F<z.length;F++)z[F]=arguments[F+1];var Z={callback:B,args:z};return g[y]=Z,f(y),y++},x.clearImmediate=E}function E(B){delete g[B]}function P(B){if(k)setTimeout(P,0,B);else{var z=g[B];if(z){k=!0;try{(function(F){var Z=F.callback,ee=F.args;switch(ee.length){case 0:Z();break;case 1:Z(ee[0]);break;case 2:Z(ee[0],ee[1]);break;case 3:Z(ee[0],ee[1],ee[2]);break;default:Z.apply(c,ee)}})(z)}finally{E(B),k=!1}}}}function O(B){B.source===u&&typeof B.data=="string"&&B.data.indexOf(b)===0&&P(+B.data.slice(b.length))}})(typeof self=="undefined"?s===void 0?this:s:self)}).call(this,typeof vr!="undefined"?vr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}),D5,Z_,ER,z5,PR,CR,m0,IR,B5,jR,X_,g0,v0,tu,OR,TR,AR,kh,eo,DR,zR,N5,Y_,Aee=I(()=>{D5=Q(ae(),1),Z_=Q(ae(),1),ER=e=>typeof e=="function",z5=(e,t)=>ER(e)?e(t):e,PR=(()=>{let e=0;return()=>(++e).toString()})(),CR=20,m0=new Map,IR=1e3,B5=e=>{if(m0.has(e))return;let t=setTimeout(()=>{m0.delete(e),tu({type:4,toastId:e})},IR);m0.set(e,t)},jR=e=>{let t=m0.get(e);t&&clearTimeout(t)},X_=(e,t)=>{switch(t.type){case 0:return Se(J({},e),{toasts:[t.toast,...e.toasts].slice(0,CR)});case 1:return t.toast.id&&jR(t.toast.id),Se(J({},e),{toasts:e.toasts.map(s=>s.id===t.toast.id?J(J({},s),t.toast):s)});case 2:let{toast:r}=t;return e.toasts.find(s=>s.id===r.id)?X_(e,{type:1,toast:r}):X_(e,{type:0,toast:r});case 3:let{toastId:o}=t;return o?B5(o):e.toasts.forEach(s=>{B5(s.id)}),Se(J({},e),{toasts:e.toasts.map(s=>s.id===o||o===void 0?Se(J({},s),{visible:!1}):s)});case 4:return t.toastId===void 0?Se(J({},e),{toasts:[]}):Se(J({},e),{toasts:e.toasts.filter(s=>s.id!==t.toastId)});case 5:return Se(J({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return Se(J({},e),{pausedAt:void 0,toasts:e.toasts.map(s=>Se(J({},s),{pauseDuration:s.pauseDuration+i}))})}},g0=[],v0={toasts:[],pausedAt:void 0},tu=e=>{v0=X_(v0,e),g0.forEach(t=>{t(v0)})},OR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},TR=(e={})=>{let[t,r]=(0,D5.useState)(v0);(0,D5.useEffect)(()=>(g0.push(r),()=>{let i=g0.indexOf(r);i>-1&&g0.splice(i,1)}),[t]);let o=t.toasts.map(i=>{var s,u;return Se(J(J(J({},e),e[i.type]),i),{duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||OR[i.type],style:J(J(J({},e.style),(u=e[i.type])==null?void 0:u.style),i.style)})});return Se(J({},t),{toasts:o})},AR=(e,t="blank",r)=>Se(J({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{id:(r==null?void 0:r.id)||PR()}),kh=e=>(t,r)=>{let o=AR(t,e,r);return tu({type:2,toast:o}),o.id},eo=(e,t)=>kh("blank")(e,t),eo.error=kh("error"),eo.success=kh("success"),eo.loading=kh("loading"),eo.custom=kh("custom"),eo.dismiss=e=>{tu({type:3,toastId:e})},eo.remove=e=>tu({type:4,toastId:e}),eo.promise=(e,t,r)=>{let o=eo.loading(t.loading,J(J({},r),r==null?void 0:r.loading));return e.then(i=>(eo.success(z5(t.success,i),J(J({id:o},r),r==null?void 0:r.success)),i)).catch(i=>{eo.error(z5(t.error,i),J(J({id:o},r),r==null?void 0:r.error))}),e},DR=(e,t)=>{tu({type:1,toast:{id:e,height:t}})},zR=()=>{tu({type:5,time:Date.now()})},N5=e=>{let{toasts:t,pausedAt:r}=TR(e);(0,Z_.useEffect)(()=>{if(r)return;let s=Date.now(),u=t.map(c=>{if(c.duration===1/0)return;let f=(c.duration||0)+c.pauseDuration-(s-c.createdAt);if(f<0){c.visible&&eo.dismiss(c.id);return}return setTimeout(()=>eo.dismiss(c.id),f)});return()=>{u.forEach(c=>c&&clearTimeout(c))}},[t,r]);let o=(0,Z_.useCallback)(()=>{r&&tu({type:6,time:Date.now()})},[r]),i=(0,Z_.useCallback)((s,u)=>{let{reverseOrder:c=!1,gutter:f=8,defaultPosition:p}=u||{},v=t.filter(g=>(g.position||p)===(s.position||p)&&g.height),b=v.findIndex(g=>g.id===s.id),y=v.filter((g,k)=>k<b&&g.visible).length;return v.filter(g=>g.visible).slice(...c?[y+1]:[0,y]).reduce((g,k)=>g+(k.height||0)+f,0)},[t]);return{toasts:t,handlers:{updateHeight:DR,startPause:zR,endPause:o,calculateOffset:i}}},Y_=eo});function BR(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function Dee(e){Wc=e}function qr(e,t){if(t){if(LR.test(e))return e.replace(KR,R5)}else if(qR.test(e))return e.replace(WR,R5);return e}function NR(e){return e.replace(GR,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}function Yt(e,t){e=typeof e=="string"?e:e.source,t=t||"";let r={replace:(o,i)=>(i=i.source||i,i=i.replace(ZR,"$1"),e=e.replace(o,i),r),getRegex:()=>new RegExp(e,t)};return r}function RR(e,t,r){if(e){let o;try{o=decodeURIComponent(NR(r)).replace(XR,"").toLowerCase()}catch(i){return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}t&&!YR.test(r)&&(r=zee(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(o){return null}return r}function zee(e,t){y0[" "+e]||(QR.test(e)?y0[" "+e]=e+"/":y0[" "+e]=Q_(e,"/",!0)),e=y0[" "+e];let r=e.indexOf(":")===-1;return t.substring(0,2)==="//"?r?t:e.replace(JR,"$1")+t:t.charAt(0)==="/"?r?t:e.replace(e9,"$1")+t:e+t}function Na(e){let t=1,r,o;for(;t<arguments.length;t++){r=arguments[t];for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}function FR(e,t){let r=e.replace(/\|/g,(s,u,c)=>{let f=!1,p=u;for(;--p>=0&&c[p]==="\\";)f=!f;return f?"|":" |"}),o=r.split(/ \|/),i=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(/\\\|/g,"|");return o}function Q_(e,t,r){let o=e.length;if(o===0)return"";let i=0;for(;i<o;){let s=e.charAt(o-i-1);if(s===t&&!r)i++;else if(s!==t&&r)i++;else break}return e.slice(0,o-i)}function Bee(e,t){if(e.indexOf(t[1])===-1)return-1;let r=e.length,o=0,i=0;for(;i<r;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])o++;else if(e[i]===t[1]&&(o--,o<0))return i;return-1}function MR(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function UR(e,t){if(t<1)return"";let r="";for(;t>1;)t&1&&(r+=e),t>>=1,e+=e;return r+e}function VR(e,t,r,o){let i=t.href,s=t.title?qr(t.title):null,u=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){o.state.inLink=!0;let c={type:"link",raw:r,href:i,title:s,text:u,tokens:o.inlineTokens(u)};return o.state.inLink=!1,c}return{type:"image",raw:r,href:i,title:s,text:qr(u)}}function Nee(e,t){let r=e.match(/^(\s+)(?:```)/);if(r===null)return t;let o=r[1];return t.split(`
`).map(i=>{let s=i.match(/^\s+/);if(s===null)return i;let[u]=s;return u.length>=o.length?i.slice(o.length):i}).join(`
`)}function Ree(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function HR(e){let t="",r,o,i=e.length;for(r=0;r<i;r++)o=e.charCodeAt(r),Math.random()>.5&&(o="x"+o.toString(16)),t+="&#"+o+";";return t}function yt(e,t,r){if(typeof e=="undefined"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(r=t,t=null),t=Na({},yt.defaults,t||{}),MR(t),r){let i=t.highlight,s;try{s=$c.lex(e,t)}catch(f){return r(f)}let u=function(f){let p;if(!f)try{t.walkTokens&&yt.walkTokens(s,t.walkTokens),p=ru.parse(s,t)}catch(v){f=v}return t.highlight=i,f?r(f):r(null,p)};if(!i||i.length<3||(delete t.highlight,!s.length))return u();let c=0;yt.walkTokens(s,function(f){f.type==="code"&&(c++,setTimeout(()=>{i(f.text,f.lang,function(p,v){if(p)return u(p);v!=null&&v!==f.text&&(f.text=v,f.escaped=!0),c--,c===0&&u()})},0))}),c===0&&u();return}function o(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+qr(i.message+"",!0)+"</pre>";throw i}try{let i=$c.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(yt.walkTokens(i,t.walkTokens)).then(()=>ru.parse(i,t)).catch(o);yt.walkTokens(i,t.walkTokens)}return ru.parse(i,t)}catch(i){o(i)}}var Wc,LR,KR,qR,WR,$R,R5,GR,ZR,XR,YR,y0,QR,JR,e9,b0,J_,ft,Ye,$c,ex,F5,M5,ru,Fee=I(()=>{Wc=BR(),LR=/[&<>"']/,KR=/[&<>"']/g,qR=/[<>"']|&(?!#?\w+;)/,WR=/[<>"']|&(?!#?\w+;)/g,$R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},R5=e=>$R[e],GR=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,ZR=/(^|[^\[])\^/g,XR=/[^\w:]/g,YR=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,y0={},QR=/^[^:]+:\/*[^/]*$/,JR=/^([^:]+:)[\s\S]*$/,e9=/^([^:]+:\/*[^/]*)[\s\S]*$/,b0={exec:function(){}},J_=class{constructor(e){this.options=e||Wc}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Q_(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],o=Nee(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim():t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){let o=Q_(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,u,c,f,p,v,b,y,g,k=t[1].trim(),w=k.length>1,x={type:"list",raw:"",ordered:w,start:w?+k.slice(0,-1):"",loose:!1,items:[]};k=w?"\\d{1,9}\\".concat(k.slice(-1)):"\\".concat(k),this.options.pedantic&&(k=w?k:"[*+-]");let E=new RegExp("^( {0,3}".concat(k,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;e&&(g=!1,!(!(t=E.exec(e))||this.rules.block.hr.test(e)));){if(r=t[0],e=e.substring(r.length),p=t[2].split(`
`,1)[0],v=e.split(`
`,1)[0],this.options.pedantic?(s=2,y=p.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,y=p.slice(s),s+=t[1].length),c=!1,!p&&/^ *$/.test(v)&&(r+=v+`
`,e=e.substring(v.length+1),g=!0),!g){let O=new RegExp("^ {0,".concat(Math.min(3,s-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),B=new RegExp("^ {0,".concat(Math.min(3,s-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),z=new RegExp("^ {0,".concat(Math.min(3,s-1),"}(?:```|~~~)")),F=new RegExp("^ {0,".concat(Math.min(3,s-1),"}#"));for(;e&&(b=e.split(`
`,1)[0],p=b,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(z.test(p)||F.test(p)||O.test(p)||B.test(e)));){if(p.search(/[^ ]/)>=s||!p.trim())y+=`
`+p.slice(s);else if(!c)y+=`
`+p;else break;!c&&!p.trim()&&(c=!0),r+=b+`
`,e=e.substring(b.length+1)}}x.loose||(f?x.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(y),o&&(i=o[0]!=="[ ] ",y=y.replace(/^\[[ xX]\] +/,""))),x.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:y}),x.raw+=r}x.items[x.items.length-1].raw=r.trimRight(),x.items[x.items.length-1].text=y.trimRight(),x.raw=x.raw.trimRight();let P=x.items.length;for(u=0;u<P;u++){this.lexer.state.top=!1,x.items[u].tokens=this.lexer.blockTokens(x.items[u].text,[]);let O=x.items[u].tokens.filter(z=>z.type==="space"),B=O.every(z=>{let F=z.raw.split(""),Z=0;for(let ee of F)if(ee===`
`&&(Z+=1),Z>1)return!0;return!1});!x.loose&&O.length&&B&&(x.loose=!0,x.items[u].loose=!0)}return x}}html(e){let t=this.rules.block.html.exec(e);if(t){let r={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){let o=this.options.sanitizer?this.options.sanitizer(t[0]):qr(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let r={type:"table",header:FR(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=t[0];let o=r.align.length,i,s,u,c;for(i=0;i<o;i++)/^ *-+: *$/.test(r.align[i])?r.align[i]="right":/^ *:-+: *$/.test(r.align[i])?r.align[i]="center":/^ *:-+ *$/.test(r.align[i])?r.align[i]="left":r.align[i]=null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=FR(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],u=0;u<c.length;u++)c[u].tokens=this.lexer.inline(c[u].text);return r}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:qr(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):qr(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let s=Q_(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=Bee(t[2],"()");if(s>-1){let u=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),VR(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o||!o.href){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return VR(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;let i=o[1]||o[2]||"";if(!i||i&&(r===""||this.rules.inline.punctuation.exec(r))){let s=o[0].length-1,u,c,f=s,p=0,v=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,t=t.slice(-1*e.length+s);(o=v.exec(t))!=null;){if(u=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!u)continue;if(c=u.length,o[3]||o[4]){f+=c;continue}else if((o[5]||o[6])&&s%3&&!((s+c)%3)){p+=c;continue}if(f-=c,f>0)continue;if(c=Math.min(c,c+f+p),Math.min(s,c)%2){let y=e.slice(1,s+o.index+c);return{type:"em",raw:e.slice(0,s+o.index+c+1),text:y,tokens:this.lexer.inlineTokens(y)}}let b=e.slice(2,s+o.index+c-1);return{type:"strong",raw:e.slice(0,s+o.index+c+1),text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," "),o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=qr(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let r=this.rules.inline.autolink.exec(e);if(r){let o,i;return r[2]==="@"?(o=qr(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=qr(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if(r[2]==="@")o=qr(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(s!==r[0]);o=qr(r[0]),r[1]==="www."?i="http://"+o:i=o}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){let r=this.rules.inline.text.exec(e);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):qr(r[0]):r[0]:o=qr(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}},ft={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:b0,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},ft._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ft._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ft.def=Yt(ft.def).replace("label",ft._label).replace("title",ft._title).getRegex(),ft.bullet=/(?:[*+-]|\d{1,9}[.)])/,ft.listItemStart=Yt(/^( *)(bull) */).replace("bull",ft.bullet).getRegex(),ft.list=Yt(ft.list).replace(/bull/g,ft.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ft.def.source+")").getRegex(),ft._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ft._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ft.html=Yt(ft.html,"i").replace("comment",ft._comment).replace("tag",ft._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ft.paragraph=Yt(ft._paragraph).replace("hr",ft.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ft._tag).getRegex(),ft.blockquote=Yt(ft.blockquote).replace("paragraph",ft.paragraph).getRegex(),ft.normal=Na({},ft),ft.gfm=Na({},ft.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ft.gfm.table=Yt(ft.gfm.table).replace("hr",ft.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ft._tag).getRegex(),ft.gfm.paragraph=Yt(ft._paragraph).replace("hr",ft.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ft.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ft._tag).getRegex(),ft.pedantic=Na({},ft.normal,{html:Yt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ft._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:b0,paragraph:Yt(ft.normal._paragraph).replace("hr",ft.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ft.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),Ye={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:b0,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:b0,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},Ye._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ye.punctuation=Yt(Ye.punctuation).replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ye.escapedEmSt=/\\\*|\\_/g,Ye._comment=Yt(ft._comment).replace("(?:-->|$)","-->").getRegex(),Ye.emStrong.lDelim=Yt(Ye.emStrong.lDelim).replace(/punct/g,Ye._punctuation).getRegex(),Ye.emStrong.rDelimAst=Yt(Ye.emStrong.rDelimAst,"g").replace(/punct/g,Ye._punctuation).getRegex(),Ye.emStrong.rDelimUnd=Yt(Ye.emStrong.rDelimUnd,"g").replace(/punct/g,Ye._punctuation).getRegex(),Ye._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ye._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ye._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ye.autolink=Yt(Ye.autolink).replace("scheme",Ye._scheme).replace("email",Ye._email).getRegex(),Ye._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ye.tag=Yt(Ye.tag).replace("comment",Ye._comment).replace("attribute",Ye._attribute).getRegex(),Ye._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ye._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ye._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ye.link=Yt(Ye.link).replace("label",Ye._label).replace("href",Ye._href).replace("title",Ye._title).getRegex(),Ye.reflink=Yt(Ye.reflink).replace("label",Ye._label).replace("ref",ft._label).getRegex(),Ye.nolink=Yt(Ye.nolink).replace("ref",ft._label).getRegex(),Ye.reflinkSearch=Yt(Ye.reflinkSearch,"g").replace("reflink",Ye.reflink).replace("nolink",Ye.nolink).getRegex(),Ye.normal=Na({},Ye),Ye.pedantic=Na({},Ye.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Yt(/^!?\[(label)\]\((.*?)\)/).replace("label",Ye._label).getRegex(),reflink:Yt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ye._label).getRegex()}),Ye.gfm=Na({},Ye.normal,{escape:Yt(Ye.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ye.gfm.url=Yt(Ye.gfm.url,"i").replace("email",Ye.gfm._extended_email).getRegex(),Ye.breaks=Na({},Ye.gfm,{br:Yt(Ye.br).replace("{2,}","*").getRegex(),text:Yt(Ye.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),$c=class y4{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Wc,this.options.tokenizer=this.options.tokenizer||new J_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:ft.normal,inline:Ye.normal};this.options.pedantic?(r.block=ft.pedantic,r.inline=Ye.pedantic):this.options.gfm&&(r.block=ft.gfm,this.options.breaks?r.inline=Ye.breaks:r.inline=Ye.gfm),this.tokenizer.rules=r}static get rules(){return{block:ft,inline:Ye}}static lex(t,r){return new y4(r).lex(t)}static lexInline(t,r){return new y4(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(c,f,p)=>f+"    ".repeat(p.length));let o,i,s,u;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>(o=c.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))){if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length),o.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let c=1/0,f=t.slice(1),p;this.options.extensions.startBlock.forEach(function(v){p=v.call({lexer:this},f),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(s=t.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(s))){i=r[r.length-1],u&&i.type==="paragraph"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(o),u=s.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(o);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let o,i,s,u=t,c,f,p;if(this.tokens.links){let v=Object.keys(this.tokens.links);if(v.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(u))!=null;)v.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,c.index)+"["+UR("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.blockSkip.exec(u))!=null;)u=u.slice(0,c.index)+"["+UR("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(c=this.tokenizer.rules.inline.escapedEmSt.exec(u))!=null;)u=u.slice(0,c.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(f||(p=""),f=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(o=v.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))){if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),i=r[r.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):r.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length),i=r[r.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):r.push(o);continue}if(o=this.tokenizer.emStrong(t,u,p)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.autolink(t,HR)){t=t.substring(o.raw.length),r.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t,HR))){t=t.substring(o.raw.length),r.push(o);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let v=1/0,b=t.slice(1),y;this.options.extensions.startInline.forEach(function(g){y=g.call({lexer:this},b),typeof y=="number"&&y>=0&&(v=Math.min(v,y))}),v<1/0&&v>=0&&(s=t.substring(0,v+1))}if(o=this.tokenizer.inlineText(s,Ree)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(p=o.raw.slice(-1)),f=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):r.push(o);continue}if(t){let v="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return r}},ex=class{constructor(e){this.options=e||Wc}code(e,t,r){let o=(t||"").match(/\S*/)[0];if(this.options.highlight){let i=this.options.highlight(e,o);i!=null&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+qr(o,!0)+'">'+(r?e:qr(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:qr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`.concat(e,`</blockquote>
`)}html(e){return e}heading(e,t,r,o){if(this.options.headerIds){let i=this.options.headerPrefix+o.slug(r);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,`>
`)}return"<h".concat(t,">").concat(e,"</h").concat(t,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,r){let o=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+e+"</"+o+`>
`}listitem(e){return"<li>".concat(e,`</li>
`)}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,`</p>
`)}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`.concat(e,`</tr>
`)}tablecell(e,t){let r=t.header?"th":"td";return(t.align?"<".concat(r,' align="').concat(t.align,'">'):"<".concat(r,">"))+e+"</".concat(r,`>
`)}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,r){if(e=RR(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o='<a href="'+qr(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(e=RR(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o='<img src="'.concat(e,'" alt="').concat(r,'"');return t&&(o+=' title="'.concat(t,'"')),o+=this.options.xhtml?"/>":">",o}text(e){return e}},F5=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}},M5=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do o++,r=e+"-"+o;while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){let r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}},ru=class b4{constructor(t){this.options=t||Wc,this.options.renderer=this.options.renderer||new ex,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new F5,this.slugger=new M5}static parse(t,r){return new b4(r).parse(t)}static parseInline(t,r){return new b4(r).parseInline(t)}parse(t,r=!0){let o="",i,s,u,c,f,p,v,b,y,g,k,w,x,E,P,O,B,z,F,Z=t.length;for(i=0;i<Z;i++){if(g=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]&&(F=this.options.extensions.renderers[g.type].call({parser:this},g),F!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type))){o+=F||"";continue}switch(g.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(g.tokens),g.depth,NR(this.parseInline(g.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(g.text,g.lang,g.escaped);continue}case"table":{for(b="",v="",c=g.header.length,s=0;s<c;s++)v+=this.renderer.tablecell(this.parseInline(g.header[s].tokens),{header:!0,align:g.align[s]});for(b+=this.renderer.tablerow(v),y="",c=g.rows.length,s=0;s<c;s++){for(p=g.rows[s],v="",f=p.length,u=0;u<f;u++)v+=this.renderer.tablecell(this.parseInline(p[u].tokens),{header:!1,align:g.align[u]});y+=this.renderer.tablerow(v)}o+=this.renderer.table(b,y);continue}case"blockquote":{y=this.parse(g.tokens),o+=this.renderer.blockquote(y);continue}case"list":{for(k=g.ordered,w=g.start,x=g.loose,c=g.items.length,y="",s=0;s<c;s++)P=g.items[s],O=P.checked,B=P.task,E="",P.task&&(z=this.renderer.checkbox(O),x?P.tokens.length>0&&P.tokens[0].type==="paragraph"?(P.tokens[0].text=z+" "+P.tokens[0].text,P.tokens[0].tokens&&P.tokens[0].tokens.length>0&&P.tokens[0].tokens[0].type==="text"&&(P.tokens[0].tokens[0].text=z+" "+P.tokens[0].tokens[0].text)):P.tokens.unshift({type:"text",text:z}):E+=z),E+=this.parse(P.tokens,x),y+=this.renderer.listitem(E,B,O);o+=this.renderer.list(y,k,w);continue}case"html":{o+=this.renderer.html(g.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(g.tokens));continue}case"text":{for(y=g.tokens?this.parseInline(g.tokens):g.text;i+1<Z&&t[i+1].type==="text";)g=t[++i],y+=`
`+(g.tokens?this.parseInline(g.tokens):g.text);o+=r?this.renderer.paragraph(y):y;continue}default:{let ee='Token with "'+g.type+'" type was not found.';if(this.options.silent){console.error(ee);return}else throw new Error(ee)}}}return o}parseInline(t,r){r=r||this.renderer;let o="",i,s,u,c=t.length;for(i=0;i<c;i++){if(s=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(u=this.options.extensions.renderers[s.type].call({parser:this},s),u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){o+=u||"";continue}switch(s.type){case"escape":{o+=r.text(s.text);break}case"html":{o+=r.html(s.text);break}case"link":{o+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{o+=r.image(s.href,s.title,s.text);break}case"strong":{o+=r.strong(this.parseInline(s.tokens,r));break}case"em":{o+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{o+=r.codespan(s.text);break}case"br":{o+=r.br();break}case"del":{o+=r.del(this.parseInline(s.tokens,r));break}case"text":{o+=r.text(s.text);break}default:{let f='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(f);return}else throw new Error(f)}}}return o}},yt.options=yt.setOptions=function(e){return Na(yt.defaults,e),Dee(yt.defaults),yt},yt.getDefaults=BR,yt.defaults=Wc,yt.use=function(...e){let t=Na({},...e),r=yt.defaults.extensions||{renderers:{},childTokens:{}},o;e.forEach(i=>{if(i.extensions&&(o=!0,i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){let u=r.renderers?r.renderers[s.name]:null;u?r.renderers[s.name]=function(...c){let f=s.renderer.apply(this,c);return f===!1&&(f=u.apply(this,c)),f}:r.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[s.level]?r[s.level].unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}s.childTokens&&(r.childTokens[s.name]=s.childTokens)})),i.renderer){let s=yt.defaults.renderer||new ex;for(let u in i.renderer){let c=s[u];s[u]=(...f)=>{let p=i.renderer[u].apply(s,f);return p===!1&&(p=c.apply(s,f)),p}}t.renderer=s}if(i.tokenizer){let s=yt.defaults.tokenizer||new J_;for(let u in i.tokenizer){let c=s[u];s[u]=(...f)=>{let p=i.tokenizer[u].apply(s,f);return p===!1&&(p=c.apply(s,f)),p}}t.tokenizer=s}if(i.walkTokens){let s=yt.defaults.walkTokens;t.walkTokens=function(u){let c=[];return c.push(i.walkTokens.call(this,u)),s&&(c=c.concat(s.call(this,u))),c}}o&&(t.extensions=r),yt.setOptions(t)})},yt.walkTokens=function(e,t){let r=[];for(let o of e)switch(r=r.concat(t.call(yt,o)),o.type){case"table":{for(let i of o.header)r=r.concat(yt.walkTokens(i.tokens,t));for(let i of o.rows)for(let s of i)r=r.concat(yt.walkTokens(s.tokens,t));break}case"list":{r=r.concat(yt.walkTokens(o.items,t));break}default:yt.defaults.extensions&&yt.defaults.extensions.childTokens&&yt.defaults.extensions.childTokens[o.type]?yt.defaults.extensions.childTokens[o.type].forEach(function(i){r=r.concat(yt.walkTokens(o[i],t))}):o.tokens&&(r=r.concat(yt.walkTokens(o.tokens,t)))}return r},yt.parseInline=function(e,t){if(typeof e=="undefined"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Na({},yt.defaults,t||{}),MR(t);try{let r=$c.lexInline(e,t);return t.walkTokens&&yt.walkTokens(r,t.walkTokens),ru.parseInline(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+qr(r.message+"",!0)+"</pre>";throw r}},yt.Parser=ru,yt.parser=ru.parse,yt.Renderer=ex,yt.TextRenderer=F5,yt.Lexer=$c,yt.lexer=$c.lex,yt.Tokenizer=J_,yt.Slugger=M5,yt.parse=yt,yt.options,yt.setOptions,yt.use,yt.walkTokens,yt.parseInline,ru.parse,$c.lex}),t9,r9,U5,n9=I(()=>{Ee(),G_(),r9=L(wh)(t9||(t9=U([`
  padding: 6px;
`]))),U5=r9}),Sr,tx,w0,rx,o9,a9,i9,V5,s9,l9,u9,H5,c9,d9,f9,p9,h9,k0,_0,m9,g9,v9,y9,b9,w9,k9,_9,x9,S9,E9,P9,L5,x0=I(()=>{Sr=Q(ae()),Aee(),Ee(),Dt(),Xe(),$e(),Fee(),h0(),n9(),tx=({title:e,message:t})=>"".concat(e," ").concat(t),w0=(()=>{let e=new Map;return{add:t=>{let r=tx(t);e.has(r)?e.set(r,e.get(r)+1):e.set(r,1)},delete:t=>{let r=tx(t);e.has(r)&&e.get(r)>1?e.set(r,e.get(r)-1):e.delete(r)},clear:()=>{e.clear()},check:t=>e.has(tx(t))}})(),rx=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),a9=L.div(o9||(o9=U([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Ot),V5=L.div(i9||(i9=U([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),l9=L.div(s9||(s9=U([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),H5=L.div(u9||(u9=U([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),d9=L.button(c9||(c9=U([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),f9={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},h9=L.div(p9||(p9=U([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:e})=>f9[e]),k0=e=>(t,r,o=[],i=!1)=>{(i||!w0.check({title:t,message:r}))&&(w0.add({title:t,message:r}),rx.add(e),Y_.custom(s=>Sr.default.createElement(a9,null,Sr.default.createElement(h9,{type:e}),Sr.default.createElement(l9,null,Sr.default.createElement(V5,null,t),Sr.default.createElement(H5,{dangerouslySetInnerHTML:{__html:yt.parse(r)}}),o.length>0&&Sr.default.createElement(H5,null,Sr.default.createElement("span",null,"Docs:"," ",o.map((u,c)=>Sr.default.createElement(Sr.Fragment,{key:c},c>0&&", ",Sr.default.createElement("a",{target:"_blank",href:u.url},u.title)))))),Sr.default.createElement(d9,{onClick:()=>{Y_.remove(s.id),w0.delete({title:t,message:r}),rx.delete(e)}},"Close")),{duration:1/0}))},_0={warning:k0("warning"),success:k0("success"),info:k0("info"),error:k0("error")},g9=L.div(m9||(m9=U([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:e})=>e==="center"?"center":"flex-end"),y9=L.button(v9||(v9=U([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Ot,({danger:e})=>e?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),w9=L.div(b9||(b9=U([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),_9=L.div(k9||(k9=U([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),S9=L.div(x9||(x9=U([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),E9=()=>{let{hasNotifications:e}=L5();return bh({enabled:!e},()=>Sr.default.createElement(U5,null,Sr.default.createElement(S9,null,Sr.default.createElement(V5,null,"No notifications"),"Notifications will appear here when you get them.")))},P9=()=>{var e;let{toasts:t,handlers:r}=N5(),{startPause:o,endPause:i}=r,s=(e=_t(ie().atomP.ahistoric.pinNotifications))!=null?e:!1;return Sr.default.createElement(w9,null,s?t.length>0&&Sr.default.createElement(_9,{onMouseEnter:o,onMouseLeave:i},Sr.default.createElement("div",null,t.map(u=>Sr.default.createElement("div",{key:u.id},u.message(u))))):null,Sr.default.createElement(g9,{align:"side"},s&&t.length>0&&Sr.default.createElement(y9,{onClick:()=>{rx.clear(),w0.clear(),Y_.remove()},danger:!0},"Clear")))},L5=()=>{let{toasts:e}=N5();return{hasNotifications:e.length>0}}});function K5(e,t){var r;let o=Object.values((r=(0,C9.val)(e.pointers.historic.sheetsById))!=null?r:{}),i=o.flatMap(u=>{var c;return Object.values((c=u==null?void 0:u.staticOverrides.byObject)!=null?c:{})}).flatMap(u=>Object.values(u!=null?u:{})),s=[...o.flatMap(u=>{var c,f;return Object.values((f=(c=u==null?void 0:u.sequence)==null?void 0:c.tracksByObject)!=null?f:{})}).flatMap(u=>{var c;return Object.values((c=u==null?void 0:u.trackData)!=null?c:{})}).flatMap(u=>u==null?void 0:u.keyframes).map(u=>u==null?void 0:u.value)];return i.forEach(u=>{No(u,c=>{s.push(c)},[])}),s.filter(u=>(u==null?void 0:u.type)&&typeof(u==null?void 0:u.type)=="string").map(u=>u.id).filter((u,c,f)=>u!==null&&u!==""&&f.indexOf(u)===c)}var C9,I9=I(()=>{C9=Ne,al()});function j9(e,t){let r=new File([e],t),o=URL.createObjectURL(r),i=Object.assign(document.createElement("a"),{href:o,target:"_blank",rel:"noopener"});i.setAttribute("download",t),i.click(),setTimeout(()=>{URL.revokeObjectURL(o)},4e4)}var Po,O9,T9,A9,D9,z9,B9,N9,R9,F9,Mee=I(()=>{$e(),Ei(),xi(),Po=Q(ae()),Ee(),tR(),Oee(),O9=Q(Tee()),x0(),I9(),A9=L.div(T9||(T9=U([""]))),z9=L.div(D9||(D9=U([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),N9=L(Si)(B9||(B9=U([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),R9=({projects:e})=>{let t=e[0],r=t.address.projectId,o=r.replace(/[^\w\d'_\-]+/g," ").trim(),i="".concat(o,".theatre-project-state.json"),[s,u]=(0,Po.useState)(!1),c=(0,Po.useCallback)(()=>et(void 0,null,function*(){var p,v;let b=K5(t),y=new Map;try{yield Promise.all(b.map(k=>et(void 0,null,function*(){let w=t.assetStorage.getAssetUrl(k),x=yield fetch(w);x.ok&&y.set(k,yield x.blob())})))}catch(k){_0.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((v=(p=t.config.assets)==null?void 0:p.baseUrl)!=null?v:"/",". This is likely due to a CORS issue."));return}if(y.size>0){let k=new O9.default;for(let[x,E]of y)k.file(x,E);let w=yield k.generateAsync({type:"blob"});j9(w,"".concat(o,".assets.zip"))}let g=JSON.stringify(ie().createContentOfSaveFile(t.address.projectId),null,2);j9(g,i),u(!0),setTimeout(()=>{u(!1)},2e3)}),[t,i]),f=_i({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>Po.default.createElement(N9,null,Po.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),Po.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),Po.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return Po.default.createElement(Po.default.Fragment,null,f.node,Po.default.createElement(A9,null,Po.default.createElement(SR,{projectId:r}),Po.default.createElement(z9,null,Po.default.createElement(W_,{onMouseEnter:p=>f.open(p,p.target),onClick:s?void 0:c,disabled:s},s?"(Exported)":"Export ".concat(r," to JSON")))))},F9=R9}),nu,M9,U9,V9,H9,L9,K9,q9,W9,$9,G9,Uee=I(()=>{nu=Q(ae()),Ee(),Uv(),U9=L.div(M9||(M9=U([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),H9=L.div(V9||(V9=U([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),K9=L.div(L9||(L9=U([`
  color: rgba(145, 145, 145, 0.8);
`]))),W9=L.a(q9||(q9=U([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),$9=()=>nu.default.createElement(U9,null,nu.default.createElement(H9,null,nu.default.createElement(K9,null,nu.default.createElement(uI,null)),nu.default.createElement("div",null,"Please select an object from the ",nu.default.createElement("u",null,"Outline Menu")," to see its properties.")),nu.default.createElement(W9,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),G9=$9});function Z9(){let[e,t]=(0,q5.useState)(!1),r=(0,q5.useMemo)(()=>{let o=new Set;return()=>{let i=()=>{o.delete(i),t(o.size>0)};return o.add(i),t(!0),i}},[]);return[e,r]}var q5,X9=I(()=>{q5=Q(ae())}),Qt,_h,Y9,Q9,nx,J9,W5,eF,$5,tF,G5,S0,rF,nF,ox,Gc,Z5=I(()=>{$l(),Xe(),Qt=Q(ae()),Ee(),ua(),Ts(),Dt(),Cee(),Mee(),$e(),MA(),_h=Ne,Uee(),X9(),Kc(),Y9="32px",nx=L.div(Q9||(Q9=U([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Ot,nh.propsPanel,({pin:e})=>e?"block":"none"),W5=L.div(J9||(J9=U([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),Ot),$5=L.div(eF||(eF=U([`
  height: `,`;
  display: flex;
  align-items: center;
`])),Y9),G5=L.div(tF||(tF=U([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),Ot),S0=(0,Qt.createContext)([!1,()=>()=>{}]),rF=e=>{let t=_t(ie().atomP.ahistoric.pinDetails)!==!1,r=FA("right");(0,Qt.useLayoutEffect)(()=>{ox.set(r)},[r]),(0,Qt.useEffect)(()=>()=>{Gc.set(!1),ox.set(!1)},[]);let[o]=(0,Qt.useContext)(S0),i=t||r||o,[s,u]=(0,Qt.useState)(null);return _B(s),bt(()=>{let c=Wl(),f=c.find(lr);if(f)return Qt.default.createElement(nx,{"data-testid":"DetailPanel-Object",pin:i,ref:u,onMouseEnter:()=>{Gc.set(!0)},onMouseLeave:()=>{Gc.set(!1)}},Qt.default.createElement($5,null,Qt.default.createElement(W5,{title:"".concat(f.sheet.address.sheetId,": ").concat(f.sheet.address.sheetInstanceId," > ").concat(f.address.objectKey)},Qt.default.createElement(ql,null,f.sheet.address.sheetId," "),Qt.default.createElement(Mv,null,":"," "),Qt.default.createElement(ql,null,f.sheet.address.sheetInstanceId," "),Qt.default.createElement(Mv,null," → "),Qt.default.createElement(ql,null,f.address.objectKey))),Qt.default.createElement(G5,null,Qt.default.createElement(QN,{objects:[f]})));let p=c.find(Gi);return p?Qt.default.createElement(nx,{pin:i},Qt.default.createElement($5,null,Qt.default.createElement(W5,{title:"".concat(p.address.projectId)},Qt.default.createElement(ql,null,p.address.projectId," "))),Qt.default.createElement(G5,null,Qt.default.createElement(F9,{projects:[p]}))):Qt.default.createElement(nx,{pin:i,onMouseEnter:()=>{Gc.set(!0)},onMouseLeave:()=>{Gc.set(!1)}},Qt.default.createElement(G9,null))},[i])},nF=()=>{let e=Z9();return Qt.default.createElement(S0.Provider,{value:e},Qt.default.createElement(rF,null))},ox=new _h.Atom(!1),Gc=new _h.Atom(!1),(0,_h.prism)(()=>{let e=(0,_h.val)(Gc.prism),t=(0,_h.val)(ox.prism);return e||t})}),X5,ax,ix,Y5,xh,oF,Q5,Sh=I(()=>{X5=Ne,Xe(),$e(),X9(),ax=Q(ae()),t5(),ix=(e,t)=>{let r=e.left/t.width,o=(e.left+e.width)/t.width,i=e.top/t.height,s=(e.height+e.top)/t.height;return{edges:{left:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},right:o<=.5?{from:"screenLeft",distance:o}:{from:"screenRight",distance:1-o},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:s<=.5?{from:"screenTop",distance:s}:{from:"screenBottom",distance:1-s}}}},Y5=ax.default.createContext(null),xh=()=>(0,ax.useContext)(Y5),oF=({panelId:e,children:t,defaultPosition:r,minDims:o})=>{let i=S_(800,200),[s,u]=Z9(),{stuff:c}=bt(()=>{var f;let{edges:p}=(f=(0,X5.val)(ie().atomP.historic.panelPositions[e]))!=null?f:r,v=Math.floor(i.width*(p.left.from==="screenLeft"?p.left.distance:1-p.left.distance)),b=Math.floor(i.width*(p.right.from==="screenLeft"?p.right.distance:1-p.right.distance)),y=Math.floor(i.height*(p.top.from==="screenTop"?p.top.distance:1-p.top.distance)),g=Math.floor(i.height*(p.bottom.from==="screenTop"?p.bottom.distance:1-p.bottom.distance)),k=Math.max(b-v,o.width),w=Math.max(g-y,o.height);return{stuff:{dims:X5.prism.memo("dims",()=>({width:k,left:v,top:y,height:w}),[k,v,y,w]),panelId:e,minDims:o,boundsHighlighted:s,addBoundsHighlightLock:u}}},[e,i,s,u]);return ax.default.createElement(Y5.Provider,{value:c},t)},Q5=oF}),E0,aF,iF,sF,J5,lF=I(()=>{At(),$e(),Tr(),E0=Q(ae()),Ee(),Sh(),Eo(),_r(),Ts(),iF=L.div(aF||(aF=U([`
  cursor: move;
`]))),sF=e=>{let t=xh(),r=(0,E0.useRef)(t);r.current=t;let[o,i]=Ct(null),s=(0,E0.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let p=r.current,v,b=t.addBoundsHighlightLock();return{onDrag(y,g){let k=Se(J({},p.dims),{top:Xt(p.dims.top+g,0,window.innerHeight-yi),left:Xt(p.dims.left+y,-p.dims.width+yi,window.innerWidth-yi)}),w=ix(k,{width:window.innerWidth,height:window.innerHeight});v==null||v.discard(),v=ie().tempTransaction(({stateEditors:x})=>{x.studio.historic.panelPositions.setPanelPosition({position:w,panelId:p.panelId})})},onDragEnd(y){b(),y?v==null||v.commit():v==null||v.discard()}}}}),[]),[u]=fr(i,s);qo(u,"dragging","move");let[c,f]=(0,E0.useMemo)(()=>{let p;return[function(){if(p){let v=p;p=void 0,v()}p=t.addBoundsHighlightLock()},function(){if(p){let v=p;p=void 0,v()}}]},[]);return E0.default.createElement(iF,Se(J({},e),{ref:o,onMouseEnter:c,onMouseLeave:f}))},J5=sF}),sx,uF,ej,cF,tj,dF,rj,fF,pF,hF,mF,gF,nj,vF,yF,bF,wF,kF,P0,_F,xF,SF,EF,PF,CF,IF,jF,OF,oj,TF,Us,Vee=I(()=>{At(),$e(),Tr(),So(),sx=Q(ae()),Ee(),Sh(),Dt(),_r(),Ts(),ej=L.div(uF||(uF=U([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),Ot,Zp(.2,"#478698")),tj=L(ej)(cF||(cF=U([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),rj=L(tj)(dF||(dF=U([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),pF=L(rj)(fF||(fF=U([`
  top: -1px;
`]))),mF=L(rj)(hF||(hF=U([`
  bottom: -1px;
`]))),nj=L(tj)(gF||(gF=U([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),yF=L(nj)(vF||(vF=U([`
  left: -1px;
`]))),wF=L(nj)(bF||(bF=U([`
  right: -1px;
`]))),P0=L(ej)(kF||(kF=U([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),xF=L(P0)(_F||(_F=U([`
  top: 0;
  left: 0;
`]))),EF=L(P0)(SF||(SF=U([`
  top: 0;
  right: 0;
`]))),CF=L(P0)(PF||(PF=U([`
  bottom: 0;
  left: 0;
`]))),jF=L(P0)(IF||(IF=U([`
  bottom: 0;
  right: 0;
`]))),OF={Top:pF,TopLeft:xF,TopRight:EF,Bottom:mF,BottomLeft:CF,BottomRight:jF,Left:yF,Right:wF},oj={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},TF=({which:e})=>{let t=xh(),r=(0,sx.useRef)(t);r.current=t;let[o,i]=Ct(null),s=(0,sx.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:oj[e],onDragStart(){let p,v=r.current,b=t.addBoundsHighlightLock();return{onDrag(y,g){let k=J({},v.dims);if(e.startsWith("Bottom"))k.height=Math.max(k.height+g,v.minDims.height);else if(e.startsWith("Top")){let x=k.top+k.height,E=Xt(k.top+g,0,Math.min(x-v.minDims.height,window.innerHeight-yi)),P=x-E;k.height=P,k.top=E}if(e.endsWith("Left")){let x=k.left+k.width,E=Math.min(k.left+y,Math.min(x-v.minDims.width,window.innerWidth-yi)),P=x-E;k.width=P,k.left=E}else e.endsWith("Right")&&(k.width=Math.max(k.width+y,Math.max(v.minDims.width,yi-v.dims.left)));let w=ix(k,{width:window.innerWidth,height:window.innerHeight});p==null||p.discard(),p=ie().tempTransaction(({stateEditors:x})=>{x.studio.historic.panelPositions.setPanelPosition({position:w,panelId:v.panelId})})},onDragEnd(y){b(),y?p==null||p.commit():p==null||p.discard()}}}}),[e]),[u]=fr(i,s),c=OF[e],f=e.length<=6;return sx.default.createElement(c,{ref:o,className:[u?"isDragging":"",t.boundsHighlighted&&f?"isHighlighted":""].join(" "),style:{cursor:oj[e]}})},Us=TF}),Ra,AF,DF,Hee=I(()=>{Ra=Q(ae()),Vee(),AF=e=>Ra.default.createElement(Ra.default.Fragment,null,Ra.default.createElement(Us,{which:"Bottom"}),Ra.default.createElement(Us,{which:"Top"}),Ra.default.createElement(Us,{which:"Left"}),Ra.default.createElement(Us,{which:"Right"}),Ra.default.createElement(Us,{which:"TopLeft"}),Ra.default.createElement(Us,{which:"TopRight"}),Ra.default.createElement(Us,{which:"BottomLeft"}),Ra.default.createElement(Us,{which:"BottomRight"})),DF=AF}),lx,zF,BF,NF,aj,RF=I(()=>{Dt(),lx=Q(ae()),Ee(),Sh(),Hee(),BF=L.div(zF||(zF=U([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),Ot),NF=lx.default.forwardRef((e,t)=>{let r=xh(),o=e,{style:i,children:s}=o,u=Bo(o,["style","children"]);return lx.default.createElement(BF,Se(J({ref:t},u),{style:J({width:r.dims.width+"px",height:r.dims.height+"px",top:r.dims.top+"px",left:r.dims.left+"px"},i!=null?i:{})}),lx.default.createElement(DF,null),s)}),aj=NF}),Lee=st((e,t)=>{(function(r,o){typeof e=="object"&&typeof t!="undefined"?o(e,ae()):(r=typeof globalThis!="undefined"?globalThis:r||self,o(r.ReactErrorBoundary={},r.React))})(e,function(r,o){function i(g){if(g&&g.__esModule)return g;var k=Object.create(null);return g&&Object.keys(g).forEach(function(w){if(w!=="default"){var x=Object.getOwnPropertyDescriptor(g,w);Object.defineProperty(k,w,x.get?x:{enumerable:!0,get:function(){return g[w]}})}}),k.default=g,Object.freeze(k)}var s=i(o);function u(g,k){return u=Object.setPrototypeOf||function(w,x){return w.__proto__=x,w},u(g,k)}function c(g,k){g.prototype=Object.create(k.prototype),g.prototype.constructor=g,u(g,k)}var f=function(g,k){return g===void 0&&(g=[]),k===void 0&&(k=[]),g.length!==k.length||g.some(function(w,x){return!Object.is(w,k[x])})},p={error:null},v=function(g){c(k,g);function k(){for(var x,E=arguments.length,P=new Array(E),O=0;O<E;O++)P[O]=arguments[O];return x=g.call.apply(g,[this].concat(P))||this,x.state=p,x.updatedWithError=!1,x.resetErrorBoundary=function(){for(var B,z=arguments.length,F=new Array(z),Z=0;Z<z;Z++)F[Z]=arguments[Z];x.props.onReset==null||(B=x.props).onReset.apply(B,F),x.reset()},x}k.getDerivedStateFromError=function(x){return{error:x}};var w=k.prototype;return w.reset=function(){this.updatedWithError=!1,this.setState(p)},w.componentDidCatch=function(x,E){var P,O;(P=(O=this.props).onError)==null||P.call(O,x,E)},w.componentDidMount=function(){var x=this.state.error;x!==null&&(this.updatedWithError=!0)},w.componentDidUpdate=function(x){var E=this.state.error,P=this.props.resetKeys;if(E!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(E!==null&&f(x.resetKeys,P)){var O,B;(O=(B=this.props).onResetKeysChange)==null||O.call(B,x.resetKeys,P),this.reset()}},w.render=function(){var x=this.state.error,E=this.props,P=E.fallbackRender,O=E.FallbackComponent,B=E.fallback;if(x!==null){var z={error:x,resetErrorBoundary:this.resetErrorBoundary};if(s.isValidElement(B))return B;if(typeof P=="function")return P(z);if(O)return s.createElement(O,z);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},k}(s.Component);function b(g,k){var w=function(E){return s.createElement(v,k,s.createElement(g,E))},x=g.displayName||g.name||"Unknown";return w.displayName="withErrorBoundary("+x+")",w}function y(g){var k=s.useState(null),w=k[0],x=k[1];if(g!=null)throw g;if(w!=null)throw w;return x}r.ErrorBoundary=v,r.useErrorHandler=y,r.withErrorBoundary=b,Object.defineProperty(r,"__esModule",{value:!0})})}),tn,FF,MF,UF,VF,HF,LF,KF,qF,WF,$F,GF,ZF,XF,YF,QF,JF,eM,tM,rM,Kee=I(()=>{tn=Q(ae()),Ee(),Ts(),Sh(),lF(),RF(),FF=Q(Lee()),dh(),$e(),Ts(),MF={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},UF={width:300,height:300},VF=({paneInstance:e})=>tn.default.createElement(Q5,{panelId:"pane-".concat(e.instanceId),defaultPosition:MF,minDims:UF},tn.default.createElement(tM,{paneInstance:e})),LF=L(aj)(HF||(HF=U([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),nh.pluginPanes),qF=L.div(KF||(KF=U([`
  width: 100%;
`]))),$F=L.div(WF||(WF=U([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),ZF=L.button(GF||(GF=U([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),YF=L(R6)(XF||(XF=U([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),JF=L.div(QF||(QF=U([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),eM=e=>tn.default.createElement(JF,null,"An Error occurred rendering this pane. Open the console for more info.",tn.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),tM=({paneInstance:e})=>{let[t,r]=(0,tn.useState)(null),o=e.definition.mount;(0,tn.useLayoutEffect)(()=>{if(!t)return;let s=o({paneId:e.instanceId,node:t});if(typeof s=="function")return s},[t,o,e.instanceId]);let i=(0,tn.useCallback)(()=>{ie().paneManager.destroyPane(e.instanceId)},[e]);return tn.default.createElement(LF,{"data-testid":"theatre-pane-wrapper-".concat(e.instanceId)},tn.default.createElement(J5,null,tn.default.createElement(sI,null,tn.default.createElement($F,null,tn.default.createElement(ZF,{onClick:i,title:"Close Pane"},tn.default.createElement($Q,null))),tn.default.createElement(qF,null,e.instanceId))),tn.default.createElement(FF.ErrorBoundary,{FallbackComponent:eM},tn.default.createElement(YF,{"data-testid":"theatre-pane-content-".concat(e.instanceId),ref:r})))},rM=VF}),ij,sj,nM=I(()=>{ij=Ne,sj=(e,t)=>{let r=ij.prism.memo(e,()=>new ij.Atom(t),[]);return r.set(t),r}});function oM(e,t){(0,aM.useLayoutEffect)(()=>{if(!e||t.type!=="propWithChildren"&&t.type!=="primitiveProp"&&t.type!=="sheetObject")return;let r=null,o=Se(J({},t.sheetObject.address),{pathToProp:t.type==="sheetObject"?[]:t.pathToProp});function i(){r=V_.replaceLock(o,()=>{})}function s(){r==null||r()}return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",s),()=>{r==null||r(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",s)}},[e])}var aM,iM=I(()=>{aM=Q(ae()),E5()}),ou,sM,lj,lM,uj,uM,cj,cM,dM,fM,pM,hM,mM,gM,ux,cx=I(()=>{Dt(),ou=Q(ae()),dh(),Ee(),Hc(),iM(),lj=L.li(sM||(sM=U([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),e=>e.depth),uj=L.div(lM||(lM=U([`
  border-bottom: 1px solid #7695b705;
`]))),cj=L(uj)(uM||(uM=U([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),rh.panel.body.compoudThing.label.color,e=>e.isSelected&&"background: blue"),dM=L.span(cM||(cM=U([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),Ql,cj),pM=L.span(fM||(fM=U([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>e.isCollapsed?15:75),mM=L.ul(hM||(hM=U([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),gM=({leaf:e,label:t,children:r,isSelectable:o,isSelected:i,toggleSelect:s,toggleCollapsed:u,isCollapsed:c})=>{let f=Array.isArray(r)&&r.length>0,p=(0,ou.useRef)(null);return oM(p.current,e),e.shouldRender?ou.default.createElement(lj,{depth:e.depth},ou.default.createElement(cj,{ref:p,style:{height:e.nodeHeight+"px"},isSelectable:o===!0,isSelected:i===!0,onClick:s,isEven:e.n%2===0},ou.default.createElement(pM,{isCollapsed:c,onClick:u},ou.default.createElement(OD,null)),ou.default.createElement(dM,null,t)),f&&ou.default.createElement(mM,null,r)):null},ux=gM});function qee(e,t){return t.every((r,o)=>r===e[o])}function Wee(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function dx(e){var t;let r=[];for(;;){let o=r.length,i=(t=e[0])==null?void 0:t[o];if(i===void 0)return r;for(let s of e)if(i!==s[o])return r;r.push(i)}}var ji,fx,Oi=I(()=>{C_(),ji=Jv(e=>JSON.stringify(e)),fx=e=>JSON.parse(e)});function $ee(e,t){let r=(0,dj.useRef)({combo:e,listener:t});r.current={combo:e,listener:t},(0,dj.useEffect)(()=>{function o(u){u.key===r.current.combo&&r.current.listener({down:!0,event:u})}function i(u){u.key===r.current.combo&&r.current.listener({down:!1,event:u})}function s(u){r.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",o),document.addEventListener("keyup",i),window.addEventListener("blur",s),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",i),window.removeEventListener("blur",s)}},[])}var dj,Gee=I(()=>{dj=Q(ae())});function vM(e){let[t,r]=(0,yM.useState)(!1);return $ee(e,({down:o})=>{r(o)}),t}var yM,bM=I(()=>{yM=Q(ae()),Gee()});function Zee(e){let t=(0,fj.useMemo)(()=>new wM.Atom(e),[]);return(0,fj.useLayoutEffect)(()=>{t.set(e)},[e]),t}var wM,fj,Xee=I(()=>{wM=Ne,fj=Q(ae())});function kM(e,t,r){let o=(0,pj.pointer)({root:{},path:[]}),i=t(o);ys(e,(0,pj.getPointerParts)(i).path,r)}var pj,Yee=I(()=>{pj=Ne,Ap()}),px,_M,Un,Fa=I(()=>{px="data-pos",_M={checkIfMouseEventSnapToPos(e,t){let r=e.composedPath().find(o=>o instanceof Element&&o!==(t==null?void 0:t.ignore)&&o.hasAttribute(px));if(r){let o=parseFloat(r.getAttribute(px));if(isFinite(o))return o}return null},includePositionSnapAttrs(e){return{[px]:e}}},Un=_M});function hx(e){let t=e.type==="sheet"?Jee(e):hj(e);return{byPosition:Qee(t),tracks:t}}function Qee(e){let t=new Map;for(let r of e)for(let o of r.data.keyframes){let i=t.get(o.position);i||(i=[],t.set(o.position,i)),i.push({kf:o,track:r,itemKey:Rr.forTrackKeyframe(r.sheetObject,r.id,o.id)})}return t}function Jee(e){return e.children.flatMap(hj)}function hj(e){return e.children.flatMap(t=>t.type==="propWithChildren"?hj(t):ete(t))}function ete(e){let t=e.sheetObject,r=t.address.projectId,o=ie().atomP.historic.coreByProject[r].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,mx.val)(o.trackIdByPropPath[ji(e.pathToProp)]);if(!i)return[];let s=(0,mx.val)(o.trackData[i]);return s?[{id:i,data:s,sheetObject:t}]:[]}function tte(e,t){return fi(e.children.flatMap(r=>mj(r,t)))}function mj(e,t){return fi(e.children.flatMap(r=>r.type==="propWithChildren"?mj(r,t):rte(r,t)))}function rte(e,t){var r,o;let i=e.sheetObject,s=i.address.projectId,u=ie().atomP.historic.coreByProject[s].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],c=(0,mx.val)(u.trackIdByPropPath[ji(e.pathToProp)]);return c?(o=(r=t[i.address.objectKey])==null?void 0:r[c])!=null?o:[]:[]}var mx,Eh=I(()=>{$e(),mx=Ne,Fs(),Oi(),_r()});function nte(e,t){let[r,o]=Ct(null),i=Gl("useCaptureSelection");return fr(t,(0,Ph.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(s){if(!s.shiftKey||s.target instanceof HTMLInputElement)return!1;let u=t.getBoundingClientRect(),c=s.clientX-u.left-(0,$o.val)(e.scaledSpace.leftPadding),f=(0,$o.val)(e.scaledSpace.toUnitSpace)(c);return r.current={h:[f,f],v:[s.clientY-u.top,s.clientY-u.top]},(0,$o.val)(e.selectionAtom).set({current:void 0}),{onDrag(p,v,b){let y=t.getBoundingClientRect(),g=b.clientX-y.left-(0,$o.val)(e.scaledSpace.leftPadding),k=(0,$o.val)(e.scaledSpace.toUnitSpace)(g);r.current={h:[r.current.h[0],k],v:[r.current.v[0],b.clientY-y.top]};let w=gj.boundsToSelection(i,(0,$o.val)(e),r.current);(0,$o.val)(e.selectionAtom).set({current:w})},onDragEnd(p){r.current=null}}}}),[e,t,r])),o}var $o,Ph,au,xM,SM,EM,gj,PM,CM,vj,IM,jM,ote=I(()=>{$e(),Tr(),bM(),Xee(),Yee(),At(),Xe(),$o=Ne,Ph=Q(ae()),Ee(),Fa(),Eh(),Zl(),au=5,SM=L.div(xM||(xM=U([`
  cursor: `,`;
`])),e=>e.isShiftDown?"cell":"default"),EM=({layoutP:e,children:t,height:r})=>{let[o,i]=Ct(null),s=vM("Shift"),u=nte(e,i),c=(0,Ph.useRef)(u);return c.current=u,Ph.default.createElement(SM,{style:{height:r+"px"},ref:o,isShiftDown:s,className:"selectionview"},u&&Ph.default.createElement(IM,{state:u,layoutP:e}),t)},(e=>{let t=(u,c,f,p,v)=>{let b=hx(f);if(f.top+f.nodeHeight/2+au>p.v[0]&&f.top+f.nodeHeight/2-au<p.v[1])for(let[y,g]of b.byPosition){let k=c.scaledSpace.toUnitSpace(au);if(!(y+k<=p.h[0]||y-k>=p.h[1]))for(let w of g)kM(v,x=>x[w.track.sheetObject.address.objectKey].byTrackId[w.track.id].byKeyframeId[w.kf.id],!0)}o(u,c,f,p,v)},r={sheet(u,c,f,p,v){t(u,c,f,p,v)},propWithChildren(u,c,f,p,v){t(u,c,f,p,v)},sheetObject(u,c,f,p,v){t(u,c,f,p,v)},primitiveProp(u,c,f,p,v){let{sheetObject:b,trackId:y}=f,g=(0,$o.val)(ie().atomP.historic.coreByProject[b.address.projectId].sheetsById[b.address.sheetId].sequence.tracksByObject[b.address.objectKey].trackData[y]);if(!(p.v[0]>f.top+f.heightIncludingChildren/2+au||f.top+f.heightIncludingChildren/2-au>p.v[1])){for(let k of g.keyframes)if(!(k.position+c.scaledSpace.toUnitSpace(au)<=p.h[0])){if(k.position-c.scaledSpace.toUnitSpace(au)>=p.h[1])break;kM(v,w=>w[b.address.objectKey].byTrackId[y].byKeyframeId[k.id],!0)}}}},o=(u,c,f,p,v)=>{if("children"in f)for(let b of f.children)i(u,c,b,p,v)};function i(u,c,f,p,v){if(!f.shouldRender||p.v[0]>f.top+f.heightIncludingChildren||f.top>p.v[1])return;let b=r[f.type];b?b(u,c,f,p,v):o(u,c,f,p,v)}function s(u,c,f){let p={};f=vj(f);let v=c.tree;i(u.utilFor.internal(),c,v,f,p);let b=c.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:p,getDragHandlers(y){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let g,k=c.scaledSpace.toUnitSpace;return{onDrag(w,x,E){g&&(g.discard(),g=void 0);let P=Un.checkIfMouseEventSnapToPos(E,{ignore:y.domNode}),O=P!=null?P-y.positionAtStartOfDrag:k(w);g=ie().tempTransaction(({stateEditors:B})=>{let z=B.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let F of Object.keys(p)){let{byTrackId:Z}=p[F];for(let ee of Object.keys(Z)){let{byKeyframeId:K}=Z[ee];z({trackId:ee,keyframeIds:Object.keys(K),translate:O,scale:1,origin:0,snappingFunction:b.getSequence().closestGridPosition,objectKey:F,projectId:y.projectId,sheetId:y.sheetId})}}})},onDragEnd(w){w?g==null||g.commit():g==null||g.discard()}}}}},delete(){ie().transaction(({stateEditors:y})=>{let g=y.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let k of Object.keys(p)){let{byTrackId:w}=p[k];for(let x of Object.keys(w)){let{byKeyframeId:E}=w[x];g(Se(J({},b.address),{objectKey:k,trackId:x,keyframeIds:Object.keys(E)}))}}})}}}e.boundsToSelection=s})(gj||(gj={})),CM=L.div(PM||(PM=U([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),vj=e=>({h:[...e.h].sort((t,r)=>t-r),v:[...e.v].sort((t,r)=>t-r)}),IM=({state:e,layoutP:t})=>{let r=Zee(e);return bt(()=>{let o=(0,$o.val)(r.pointer),i=vj(o),s=(0,$o.val)(t.scaledSpace.fromUnitSpace),u=(0,$o.val)(t.scaledSpace.leftPadding),c=i.h.map(s).map(y=>y+u),f=i.v[0],p=i.v[1]-i.v[0],v=c[0],b=c[1]-c[0];return Ph.default.createElement(CM,{style:{top:f+"px",height:p+"px",left:v+"px",width:b+"px"}})},[t,r])},jM=EM}),Zc,OM,TM,yj,AM,DM,zM,BM=I(()=>{oh(),Zc=Q(ae()),Ee(),Gs(),TM=L.div(OM||(OM=U([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>Ui.scrollableArea),yj=(0,Zc.createContext)(Ta),AM=()=>(0,Zc.useContext)(yj),DM=e=>{let t=(0,Zc.useRef)(null),r=(0,Zc.useCallback)(o=>{t.current.scrollBy(0,o.deltaY)},[]);return Zc.default.createElement(yj.Provider,{value:r},Zc.default.createElement(TM,{ref:t},e.children))},zM=DM}),NM,ate=I(()=>{NM='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),Go,gx=I(()=>{Go=(e,t=e)=>`
  left: `.concat(e*-.5,`px;
  top: `).concat(t*-.5,`px;
  width: `).concat(e,`px;
  height: `).concat(t,`px;
`)}),vx,RM,FM,ite=I(()=>{vx=Ne,RM=(0,vx.prism)(()=>{let[e,t]=vx.prism.state("pos",null);return vx.prism.effect("setupListeners",()=>{let r=o=>{t(o)};return document.addEventListener("mousemove",r),()=>{document.removeEventListener("mousemove",r)}},[]),e}),FM=RM}),Vs,Vn,C0,MM,UM,VM,HM,Hs,Ti,yx,LM,KM,rn=I(()=>{Vs=Ne,ite(),_r(),Vn=Q(ae()),C0=(0,Vn.createContext)(null),MM=0,UM=({children:e,layoutP:t})=>{let r=(0,Vn.useMemo)(()=>new Vs.Atom([]),[]),o=(0,Vn.useMemo)(()=>(0,Vs.prism)(()=>{let u=Vs.prism.memo("p",()=>LM(t),[t]).getValue(),c=(0,Vs.val)(r.pointer);return c.length>0?gs(c).position:u}),[t]),i=(0,Vn.useCallback)(()=>{let u=MM++;return r.reduce(c=>[...c,{id:u,position:[-1,0]}]),{set:c=>{r.reduce(f=>{let p=f.findIndex(b=>b.id===u);if(p===-1)return console.warn("Lock is already freed. This is a bug."),f;let v=[...f];return v.splice(p,1,{id:u,position:[c,c===-1?0:1]}),v})},unlock:()=>{r.reduce(c=>c.filter(f=>f.id!==u))}}},[]),s={currentD:o,getLock:i};return Vn.default.createElement(C0.Provider,{value:s},e)},VM=()=>(0,Vn.useContext)(C0).currentD,HM=()=>{let{getLock:e}=(0,Vn.useContext)(C0),t=(0,Vn.useRef)();return(0,Vn.useLayoutEffect)(()=>()=>{var r;(r=t.current)==null||r.unlock()},[]),(0,Vn.useMemo)(()=>{let r;return(o,i)=>{var s,u;(r==null?void 0:r.shouldLock)!==o&&(o?t.current=e():(s=t.current)==null||s.unlock()),(r==null?void 0:r.pos)!==i&&o&&((u=t.current)==null||u.set(i)),r={shouldLock:o,pos:i}}},[e])},Hs=(e,t)=>{let{getLock:r}=(0,Vn.useContext)(C0),o=(0,Vn.useRef)();(0,Vn.useLayoutEffect)(()=>{if(e)return o.current=r(),()=>{o.current.unlock()}},[e,r]),(0,Vn.useLayoutEffect)(()=>{e&&o.current.set(t)},[t,e])},Ti=e=>({[yx]:e==="hide"?e:e.toFixed(3)}),yx="data-theatre-lock-framestamp-to",LM=e=>(0,Vs.prism)(()=>{let t=(0,Vs.val)(e.rightDims),r=(0,Vs.val)(e.clippedSpace.toUnitSpace),o=(0,Vs.val)(FM);if(!o)return[-1,0];for(let v of o.composedPath()){if(!(v instanceof HTMLElement||v instanceof SVGElement))break;if(v.hasAttribute(yx)){let b=v.getAttribute(yx);if(typeof b!="string")continue;if(b==="hide")return[-1,0];let y=parseFloat(b);if(isFinite(y)&&y>=0)return[y,2]}}let{clientX:i,clientY:s}=o,{screenX:u,screenY:c,width:f,height:p}=t;if(ka(i,u,u+f)&&ka(s,c+16,c+p)){let v=i-u;return[r(v),3]}else return[-1,0]}),KM=UM}),qM,I0,bj,WM,$M,Ai,GM=I(()=>{Dt(),Eo(),Ee(),ate(),gx(),Fa(),rn(),qM=12,I0=34,bj="beingDragged",Ai={BEING_DRAGGED_CLASS:bj,CSS:Xr(WM||(WM=U([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),Go(qM),Ot,bj),CSS_WHEN_SOMETHING_DRAGGING:Xr($M||($M=U([`
    pointer-events: auto;
    cursor: var(`,`);

    // ⸢⸤⸣⸥ thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),Ds,I0/2,I0/2,I0,I0,NM),reactProps(e){return Se(J(J({},Ti(e.position)),Un.includePositionSnapAttrs(e.position)),{className:e.isDragging?Ai.BEING_DRAGGED_CLASS:""})}}});function wj(){O0.set({mode:"snapToAll"})}function Xc(){O0.set({mode:"snapToNone"})}function ZM(e){O0.set({mode:"snapToSome",positions:e})}function XM(e,t){return Object.fromEntries(Object.entries(e).map(([r,o])=>[r,Object.fromEntries(Object.entries(o.trackData).map(([i,s])=>[i,s.keyframes.filter(u=>t(u,{trackId:i,trackData:s,objectKey:r})).map(u=>u.position)]))]))}var YM,QM,kj,JM,e7,t7,r7,n7,j0,O0,_j,Yc=I(()=>{YM=Ne,QM=Ne,kj=Q(ae()),Ee(),GM(),e7=L.div(JM||(JM=U([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),Ai.CSS,Ai.CSS_WHEN_SOMETHING_DRAGGING),r7=L.div(t7||(t7=U([`
  position: absolute;
`]))),n7=e=>kj.default.createElement(r7,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,QM.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},kj.default.createElement(e7,J({},Ai.reactProps({isDragging:!1,position:e.position})))),j0=n7,O0=new YM.Atom({mode:"snapToNone"}),_j=O0.prism});function ste(e,t){let r=(0,Qc.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(i){if(i.target instanceof HTMLInputElement||i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||i.composedPath().some(b=>b instanceof HTMLElement&&b.draggable===!0))return!1;let s=i.clientX-t.getBoundingClientRect().left,u=Xt((0,pr.val)(e.clippedSpace.toUnitSpace)(s),0,1/0),c=(0,pr.val)(e.seeker.setIsSeeking),f=(0,pr.val)(e.sheet).getSequence();f.position=u;let p=u,v=(0,pr.val)(e.scaledSpace.toUnitSpace);return c(!0),wj(),{onDrag(b,y,g){let k=v(b),w=Xt(p+k,0,f.length),x=Un.checkIfMouseEventSnapToPos(g,{});x!=null&&(w=x),f.position=w},onDragEnd(){c(!1),Xc()}}}}),[e,t]),[o]=fr(t,r);qo(o,"draggingPositionInSequenceEditor","ew-resize")}function lte(e,t){let r=AM();(0,Qc.useLayoutEffect)(()=>{if(!t)return;let o=s=>{if(s.ctrlKey){s.preventDefault(),s.stopPropagation();let u=s.clientX-t.getBoundingClientRect().left,c=(0,pr.val)(e.clippedSpace.toUnitSpace)(u),f=(0,pr.val)(e.clippedSpace.range),p=1+xj(s.deltaY,[-50,50])*.03,v=ci(f,g=>(g-c)*p+c),b=(0,pr.val)(e.sheet).getSequence().length,y=b+b*.25;(0,pr.val)(e.clippedSpace.setRange)(ute(v,[0,y]));return}else if(s.shiftKey){s.preventDefault(),s.stopPropagation();let u=(0,pr.val)(e.sheet).getSequence().length,c=(0,pr.val)(e.clippedSpace.range),f=(c.end-c.start)/u,p=xj(s.deltaY||s.deltaX,[-50,50])*.05*f,v=ci(c,b=>b+p);(0,pr.val)(e.clippedSpace.setRange)(v);return}else{r(s),s.preventDefault(),s.stopPropagation();let u=(0,pr.val)(e.scaledSpace.toUnitSpace)(s.deltaX*1),c=(0,pr.val)(e.clippedSpace.range),f=ci(c,p=>p+u);(0,pr.val)(e.clippedSpace.setRange)(f);return}},i={capture:!0,passive:!1};return t.addEventListener("wheel",o,i),()=>{t.removeEventListener("wheel",o,i)}},[t,e]),fr(t,(0,Qc.useMemo)(()=>({onDragStart(o){let i=(0,pr.val)(e.clippedSpace.range),s=(0,pr.val)(e.clippedSpace.setRange),u=(0,pr.val)(e.scaledSpace.toUnitSpace);return o.preventDefault(),o.stopPropagation(),{onDrag(c,f,p,v,b){r({deltaY:-b});let y=-u(c),g=ci(i,k=>k+y);s(g)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[e]))}function xj(e,[t,r]){return Math.max(Math.min(e,r),t)}function ute(e,t){return ci(e,r=>xj(r,t))}function cte(e,t){(0,Qc.useLayoutEffect)(()=>{if(!t)return;let r=(0,pr.prism)(()=>{let u=(0,pr.val)(e.clippedSpace.range);return(0,pr.val)(e.scaledSpace.fromUnitSpace)(u.start)}),o=()=>{let u=r.getValue();t.scrollLeft=u},i=r.onStale(o);o();let s=setTimeout(o,100);return()=>{clearTimeout(s),i()}},[e,t])}var pr,Qc,o7,a7,i7,Sj,s7=I(()=>{Tr(),At(),Xe(),pr=Ne,_r(),Qc=Q(ae()),Ee(),BM(),Dt(),Eo(),Fa(),Yc(),a7=L.div(o7||(o7=U([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),Ot),i7=Qc.default.memo(({layoutP:e,children:t,height:r})=>{let{width:o,unitSpaceToScaledSpaceMultiplier:i}=bt(()=>({width:(0,pr.val)(e.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,pr.val)(e.scaledSpace.fromUnitSpace)(1)}),[e]),[s,u]=Ct(null);return lte(e,u),ste(e,u),cte(e,u),Qc.default.createElement(a7,{ref:s,style:{width:o+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":i}},t)}),Sj=i7}),bx,l7,u7,c7,d7,f7,p7,h7,Ch,wx=I(()=>{bx=Q(ae()),Ee(),u7=L.li(l7||(l7=U([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),d7=L.div(c7||(c7=U([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),e=>e.isEven?"transparent":"#6b8fb505"),p7=L.ul(f7||(f7=U([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),h7=({leaf:e,children:t,node:r,isCollapsed:o})=>{let i=Array.isArray(t)&&t.length>0;return e.shouldRender?bx.default.createElement(u7,null,bx.default.createElement(d7,{style:{height:e.nodeHeight+"px"},isEven:e.n%2===0},r),i&&bx.default.createElement(p7,null,t)):null},Ch=h7}),dte=st((e,t)=>{(function(){var r=this,o={};typeof e!="undefined"?t.exports=o:r.fuzzy=o,o.simpleFilter=function(i,s){return s.filter(function(u){return o.test(i,u)})},o.test=function(i,s){return o.match(i,s)!==null},o.match=function(i,s,u){u=u||{};var c=0,f=[],p=s.length,v=0,b=0,y=u.pre||"",g=u.post||"",k=u.caseSensitive&&s||s.toLowerCase(),w;i=u.caseSensitive&&i||i.toLowerCase();for(var x=0;x<p;x++)w=s[x],k[x]===i[c]?(w=y+w+g,c+=1,b+=1+b):b=0,v+=b,f[f.length]=w;return c===i.length?(v=k===i?1/0:v,{rendered:f.join(""),score:v}):null},o.filter=function(i,s,u){return!s||s.length===0?[]:typeof i!="string"?s:(u=u||{},s.reduce(function(c,f,p,v){var b=f;u.extract&&(b=u.extract(f));var y=o.match(i,b,u);return y!=null&&(c[c.length]={string:y.rendered,score:y.score,index:p,original:f}),c},[]).sort(function(c,f){var p=f.score-c.score;return p||c.index-f.index}))}})()});function fte(e,t){let[r,o]=(0,kx.useState)(!1),i=(0,kx.useRef)(t);return r||(i.current=t),(0,kx.useMemo)(()=>e(o),i.current)}var kx,pte=I(()=>{kx=Q(ae())}),Ej,iu,_x=I(()=>{Ej="rgba(26, 28, 30, 0.97);",iu="#272B2F"});function m7(e,t,r,o){let i=fte(s=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return s(!0),{onDrag(u,c){e&&r.onCurveChange(o(u,c))},onDragEnd(u){s(!1),r.onCancelCurveChange()}}}}),[e,r.onCurveChange,r.onCancelCurveChange]);fr(t,i)}var jt,xx,T0,Ih,g7,A0,v7,Sx,y7,b7,w7,jh,k7,Jc,_7,x7,Pj,S7,Ex,E7,Cj,P7,C7,hte=I(()=>{jt=Q(ae()),Tr(),At(),wc(),Ee(),Dt(),pte(),_x(),xx=.12,T0=1+xx*2,Ih=.01,g7=8,A0=(1-Ih)/(g7-1),v7="#3EAAA4",Sx="#3EAAA4",y7="#3EAAA4",b7="#3EAAA4",w7="#3EAAA4",jh="#3EAAA4",k7="#3EAAA4",Jc="#B3B3B3",_7="#3eaaa4",x7="#67dfd8",Pj=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],Ex=L.circle(S7||(S7=U([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),_7),Cj=L.circle(E7||(E7=U([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),Ot,Ex,x7),P7=e=>{let{curveConnection:{left:t,right:r},backgroundConnections:o}=e,i=Math.min(0,1-r.handles[1],1-t.handles[3]),s=Math.max(1,1-r.handles[1],1-t.handles[3]),u=Math.max(1,s-i),c=E=>(E-i)/u,[f,p]=Ct(null),v=T0/((p==null?void 0:p.clientWidth)||1),b=T0/((p==null?void 0:p.clientHeight)||1),[y,g]=Ct(null);m7(p,g,e,(E,P)=>{let O=Xt(t.handles[2]+E*v,0,1),B=t.handles[3]-P*b;return[O,B,r.handles[0],r.handles[1]]});let[k,w]=Ct(null);m7(p,w,e,(E,P)=>{let O=Xt(r.handles[0]+E*v,0,1),B=r.handles[1]-P*b;return[t.handles[2],t.handles[3],O,B]});let x=E=>"M0 ".concat(c(1)," C").concat(E.left.handles[2]," ").concat(c(1-E.left.handles[3])," ").concat(E.right.handles[0]," ").concat(c(1-E.right.handles[1])," 1 ").concat(c(0));return jt.default.createElement("svg",{height:"100%",width:"100%",ref:f,viewBox:"".concat(-xx," ").concat(-xx," ").concat(T0," ").concat(T0),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},jt.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},jt.default.createElement("stop",{offset:c(-1),stopColor:k7}),jt.default.createElement("stop",{offset:c(0),stopColor:jh}),jt.default.createElement("stop",{offset:c(.3),stopColor:w7}),jt.default.createElement("stop",{offset:c(.5),stopColor:b7}),jt.default.createElement("stop",{offset:c(.7),stopColor:y7}),jt.default.createElement("stop",{offset:c(1),stopColor:Sx}),jt.default.createElement("stop",{offset:c(2),stopColor:v7})),jt.default.createElement("pattern",{id:"dot-background-pattern-1",width:A0,height:A0/u,y:-i/u},jt.default.createElement("rect",{width:Ih,height:Ih,fill:Jc,opacity:.3})),jt.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),jt.default.createElement("pattern",{id:"dot-background-pattern-2",width:A0,height:A0},jt.default.createElement("rect",{width:Ih,height:Ih,fill:Jc})),jt.default.createElement("rect",{x:0,y:c(0),width:"1",height:c(1)-c(0),fill:"url(#dot-background-pattern-2)"}),!t.type||t.type==="bezier"?jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("line",{x1:0,y1:c(1),x2:t.handles[2],y2:c(1-t.handles[3]),stroke:Jc,strokeWidth:"0.01"}),jt.default.createElement("line",{x1:1,y1:c(0),x2:r.handles[0],y2:c(1-r.handles[1]),stroke:Jc,strokeWidth:"0.01"}),jt.default.createElement("path",{d:x(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),o.map((E,P)=>jt.default.createElement("path",{key:E.objectKey+"/"+E.left.id,d:x(E),stroke:Pj[P%Pj.length],opacity:.6,strokeWidth:"0.01"})),jt.default.createElement("path",{d:x(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),jt.default.createElement("circle",{cx:0,cy:c(1),r:"0.025",stroke:Sx,strokeWidth:"0.02",fill:iu}),jt.default.createElement("circle",{cx:1,cy:c(0),r:"0.025",stroke:jh,strokeWidth:"0.02",fill:iu}),jt.default.createElement(Cj,{ref:y,cx:t.handles[2],cy:c(1-t.handles[3]),fill:Sx,opacity:.2}),jt.default.createElement(Ex,{cx:t.handles[2],cy:c(1-t.handles[3])}),jt.default.createElement(Cj,{ref:k,cx:r.handles[0],cy:c(1-r.handles[1]),fill:jh,opacity:.2}),jt.default.createElement(Ex,{cx:r.handles[0],cy:c(1-r.handles[1])})):jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("line",{x1:0,y1:c(1),x2:1,y2:c(1),stroke:Jc,strokeWidth:"0.01"}),jt.default.createElement("line",{x1:1,y1:c(1),x2:1,y2:0,stroke:Jc,strokeWidth:"0.01"}),jt.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:jh,strokeWidth:"0.02",fill:iu}),jt.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:jh,strokeWidth:"0.02",fill:iu})))},C7=P7});function Px(e){return e.map(t=>t.toFixed(3)).join(", ")}function Cx(e){if(!e||(e==null?void 0:e.length)>I7)return null;let t=e.split(",");if(t.length!==4)return null;let r=t.map(o=>Number(o.trim()));return!r.every(o=>isFinite(o))||r[0]<0||r[0]>1||r[2]<0||r[2]>1?null:r}function mte(e,t,r={threshold:.02}){if(!e||!t)return!1;let o=0;for(let i=0;i<4;i++)o+=Math.abs(e[i]-t[i]);return o<r.threshold}var I7,Ix,j7=I(()=>{I7=128,Ix=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),_n,jx,ed,Ij,O7,T7,D0,jj,Oj,A7,D7,gte=I(()=>{_n=Q(ae()),jx=.75,ed=.1,Ij=1+jx*2,O7="#F5F5F5",T7="#888888",D0="#4f4f4f",jj="rgba(255, 255, 255, 0.1)",Oj=e=>1-e,A7=e=>{let{easing:t,isSelected:r}=e,o=r?O7:T7,i="".concat(-jx," ").concat(-jx," ").concat(Ij," ").concat(Ij);if(t){let s=[t[0],Oj(t[1])],u=[t[2],Oj(t[3])];return _n.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},_n.default.createElement("line",{x1:"0",y1:"1",x2:s[0],y2:s[1],stroke:D0,strokeWidth:"0.1"}),_n.default.createElement("line",{x1:"1",y1:"0",x2:u[0],y2:u[1],stroke:D0,strokeWidth:"0.1"}),_n.default.createElement("circle",{cx:s[0],cy:s[1],r:.1,fill:jj}),_n.default.createElement("circle",{cx:u[0],cy:u[1],r:.1,fill:jj}),_n.default.createElement("circle",{cx:s[0],cy:s[1],r:ed,fill:D0}),_n.default.createElement("circle",{cx:u[0],cy:u[1],r:ed,fill:D0}),_n.default.createElement("path",{d:"M0 1 C".concat(s[0]," ").concat(s[1]," ").concat(u[0],` 
        `).concat(u[1]," 1 0"),stroke:o,strokeWidth:"0.08"}),_n.default.createElement("circle",{cx:0,cy:1,r:ed,fill:o}),_n.default.createElement("circle",{cx:1,cy:0,r:ed,fill:o}))}return _n.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},_n.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),_n.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),_n.default.createElement("circle",{cx:0,cy:1,r:ed,fill:o}),_n.default.createElement("circle",{cx:1,cy:0,r:ed,fill:o}))},D7=A7}),z0,z7,B7,N7,R7,F7,M7,U7,vte=I(()=>{h0(),z0=Q(ae()),Ee(),j7(),gte(),s_(),_x(),Ei(),N7=L.div(B7||(B7=U([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),iu,({isSelected:e})=>e&&Xr(z7||(z7=U([`
      background-color: #383d42;
    `])))),F7=L(Si)(R7||(R7=U([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),M7=z0.default.forwardRef((e,t)=>{let[r,o]=bh({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},()=>z0.default.createElement(F7,{showPopoverEdgeTriangle:!1},e.easing.label));return z0.default.createElement(N7,J({ref:i_([o,t])},e),r,z0.default.createElement(D7,{easing:Cx(e.easing.value),isSelected:e.isSelected}))}),U7=M7});function yte(e){var t;let[r,o]=(0,V7.useState)(null),i=u=>{if(r===null){e.items.length>0&&o(0);return}let c=r+u*e.uiColumns,f=c<0,p=c>e.items.length-1;if(f||p){if(e.canVerticleExit&&e.canVerticleExit(f?"top":"bottom")){o(null);return}return}o(c)},s=u=>{r===null?o(_te(u,e.items.length)):r+u<0?o(null):o(Math.min(r+u,e.items.length-1))};return{focusFirstItem(){o(0)},onParentEltKeyDown:u=>{if(u.key==="ArrowRight")s(1);else if(u.key==="ArrowLeft")s(-1);else if(u.key==="ArrowUp")i(-1);else if(u.key==="ArrowDown")i(1);else return 0;return 1},gridItems:e.items.map((u,c)=>e.renderItem({isSelected:c===r,item:u,select(f){o(c),e.onSelectItem(u)===1&&(f==null||f.preventDefault(),f==null||f.stopPropagation())}})),currentSelection:(t=e.items[r!=null?r:-1])!=null?t:null}}var V7,bte=I(()=>{V7=Q(ae()),Tx()});function H7(e,t,r){var o;(o=e.current)==null||o.discard(),e.current=null;let i=Cx(r);i===null?e.current=kte(t):e.current=wte(t,i)}function L7(e){var t;(t=e.current)==null||t.discard(),e.current=null}function wte(e,t){return ie().tempTransaction(({stateEditors:r})=>{let{setHandlesForKeyframe:o,setKeyframeType:i}=r.coreByProject.historic.sheetsById.sequence;for(let{projectId:s,sheetId:u,objectKey:c,trackId:f,left:p,right:v}of e)o({projectId:s,sheetId:u,objectKey:c,trackId:f,keyframeId:p.id,start:[t[0],t[1]]}),o({projectId:s,sheetId:u,objectKey:c,trackId:f,keyframeId:v.id,end:[t[2],t[3]]}),i({projectId:s,sheetId:u,objectKey:c,trackId:f,keyframeId:p.id,keyframeType:"bezier"})})}function kte(e){return ie().tempTransaction(({stateEditors:t})=>{let{setKeyframeType:r}=t.coreByProject.historic.sheetsById.sequence;for(let{projectId:o,sheetId:i,objectKey:s,trackId:u,left:c}of e)r({projectId:o,sheetId:i,objectKey:s,trackId:u,keyframeId:c.id,keyframeType:"hold"})})}function _te(e,t){return(e%t+t)%t}function xte(e,t){return()=>setTimeout(e,t)}function Ste({left:e,right:t}){return({left:r,right:o})=>e.handles[2]!==r.handles[2]||e.handles[3]!==r.handles[3]||t.handles[0]!==o.handles[0]||t.handles[1]!==o.handles[1]}var Ox,or,K7,Tj,Aj,q7,W7,$7,G7,Z7,X7,Y7,Q7,J7,eU,tU,rU,Dj,Ete,zj,nU,Tx=I(()=>{Ox=Ne,or=Q(ae()),Ee(),K7=Q(dte()),$e(),hte(),vte(),j7(),_x(),At(),bte(),Tj=3,Aj=53,q7=25,$7=L.div(W7||(W7=U([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),Ej,Tj*Aj),Z7=L.div(G7||(G7=U([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),Tj),Y7=L.input.attrs({type:"text"})(X7||(X7=U([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),iu),J7=L.div(Q7||(Q7=U([`
  grid-area: tween;
  background: `,`;
`])),iu),tU=L.div(eU||(eU=U([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),rU=e=>{let t=(0,or.useMemo)(()=>[e.curveConnection,...e.additionalConnections],[e.curveConnection,...e.additionalConnections]),r=(0,or.useRef)(null);(0,or.useEffect)(()=>{let M=nU(t);return()=>{var oe;M(),(oe=r.current)==null||oe.commit()}},[r]);let o=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,or.useRef)(null);(0,or.useLayoutEffect)(()=>{var M,oe;(M=i.current)==null||M.select(),(oe=i.current)==null||oe.focus()},[i.current]);let[s,u]=(0,or.useState)(Px(o)),c=M=>{M!==void 0&&(v(1),u(M.target.value),Cx(M.target.value)&&y(M.target.value))},f=M=>{var oe,T;v(1),(M.key==="ArrowDown"||M.key==="ArrowUp")&&M.preventDefault(),M.key==="ArrowDown"?(me.focusFirstItem(),(T=(oe=F.current[E[0].label])==null?void 0:oe.current)==null||T.focus()):M.key==="Escape"?(L7(r),e.onRequestClose("key Escape")):M.key==="Enter"&&e.onRequestClose("key Enter")},[p,v]=(0,or.useState)(0);(0,or.useEffect)(()=>{p===2?u(Px(o)):p===3&&s!==""&&u("")},t);let[b,y]=(0,or.useState)(Px(o)),[g,k]=(0,or.useState)(null);(0,or.useEffect)(()=>{var M;p!==0&&p!==3&&H7(r,t,(M=g!=null?g:b)!=null?M:"")},[g,b,p]),t.some(Ste(e.curveConnection))&&p===0&&v(3);let w=M=>{var oe,T;v(2);let ue=Px(M);u(ue),y(ue),(oe=i.current)==null||oe.select(),(T=i.current)==null||T.focus()},x=()=>{},E=(0,or.useMemo)(()=>/^[A-Za-z]/.test(s)?K7.default.filter(s,Ix,{extract:M=>M.label}).map(M=>M.original):Ix,[s]);(0,or.useEffect)(()=>{p===1&&E[0]&&y(E[0].value)},[E]);let P=M=>{M.key==="Escape"?(L7(r),e.onRequestClose("key Escape"),M.stopPropagation()):M.key==="Enter"&&(e.onRequestClose("key Enter"),M.stopPropagation())},O=M=>{p===0&&v(2),k(M.value)},B=()=>k(null),z=M=>(H7(r,t,M.value),e.onRequestClose("selected easing option"),1),F=(0,or.useRef)(Ix.reduce((M,oe)=>(M[oe.label]={current:null},M),{})),[Z,ee]=Ct(null),[K,ne]=(0,or.useState)(0);(0,or.useEffect)(()=>{let M=()=>{var oe;ne((oe=ee==null?void 0:ee.scrollTop)!=null?oe:0)};return ee==null||ee.addEventListener("scroll",M),()=>ee==null?void 0:ee.removeEventListener("scroll",M)},[ee]);let me=yte({items:E,uiColumns:3,onSelectItem:z,canVerticleExit(M){var oe,T;return M==="top"?((oe=i.current)==null||oe.select(),(T=i.current)==null||T.focus(),1):0},renderItem:({item:M,select:oe})=>{var T,ue;return or.default.createElement(U7,{key:M.label,easing:M,tabIndex:0,onKeyDown:P,ref:F.current[M.label],onMouseOver:()=>O(M),onMouseOut:B,onClick:oe,tooltipPlacement:((ue=(T=F.current[M.label].current)==null?void 0:T.offsetTop)!=null?ue:0)-(K!=null?K:0)<Aj+q7?"bottom":"top",isSelected:mte(o,Cx(M.value))})}});return(0,or.useLayoutEffect)(()=>{var M,oe;if(me.currentSelection!==null&&document.activeElement!==i.current){let T=(oe=(M=F.current)==null?void 0:M[me.currentSelection.label])==null?void 0:oe.current;T==null||T.focus(),y(me.currentSelection.value),/^[A-Za-z]/.test(s)||u(me.currentSelection.value)}},[me.currentSelection]),or.default.createElement($7,null,or.default.createElement(Y7,{value:s,placeholder:p===3?"Multiple easings selected":"Search presets...",onPaste:xte(c),onChange:c,ref:i,onKeyDown:f}),or.default.createElement(Z7,{ref:Z,onKeyDown:M=>me.onParentEltKeyDown(M)},me.gridItems,me.gridItems.length===0?or.default.createElement(tU,null,"No results found"):void 0),or.default.createElement(J7,{onClick:()=>{var M;return(M=i.current)==null?void 0:M.focus()}},or.default.createElement(C7,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:w,onCancelCurveChange:x})))},Dj=rU,{isCurveEditorOpenD:Ete,isConnectionEditingInCurvePopover:zj,getLock:nU}=(()=>{let e=new Ox.Atom([]);return{getLock(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,Ox.prism)(()=>e.prism.getValue().length>0),isConnectionEditingInCurvePopover(t){return Ox.prism.ensurePrism(),e.prism.getValue().some(({left:r,right:o})=>t.left.id===r.id&&t.right.id===o.id)}}})()});function Pte(e,t){for(let{keyframeId:r}of jte(t))if(e.left.id===r)return!0;return!1}function oU(e,t,r){return(0,Dx.prism)(()=>{if(r===void 0)return[];let o=[];for(let{objectKey:i,trackId:s}of aU(r)){let u=(0,Dx.val)(ie().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[i].trackData[s]);u&&(o=o.concat(Ite(u.keyframes).filter(c=>Pte(c,r)).map(({left:c,right:f})=>({left:c,right:f,trackId:s,objectKey:i,sheetId:t,projectId:e}))))}return o})}function Ax(e,t,r){var o;if(r===void 0)return[];let i=[];for(let{objectKey:u,trackId:c,keyframeIds:f}of aU(r))i=i.concat((o=Bj({projectId:e,sheetId:t,objectKey:u,trackId:c,keyframeIds:f}))!=null?o:[]);let s=dx(i.map(u=>u.pathToProp));return i.map(({keyframe:u,pathToProp:c})=>({keyframe:u,pathToProp:c.slice(s.length)}))}function Bj({projectId:e,sheetId:t,objectKey:r,trackId:o,keyframeIds:i}){let s=(0,Dx.val)(ie().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[r]),u=s==null?void 0:s.trackData[o];if(!u)return null;let c=Cte((s==null?void 0:s.trackIdByPropPath)||{})[o];if(!c)return null;let f=[r,...fx(c)];return i.map(p=>({keyframe:u.keyframes.find(v=>v.id===p),pathToProp:f})).filter(({keyframe:p})=>p!==void 0)}function Cte(e){let t={};for(let[r,o]of Object.entries(e))t[o]=r;return t}function Ite(e){return e.map((t,r)=>({left:t,right:e[r+1]})).slice(0,-1)}function jte(e){var t,r,o;let i=[];for(let[s,u]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[c,f]of Object.entries((r=u==null?void 0:u.byTrackId)!=null?r:{}))for(let p of Object.keys((o=f==null?void 0:f.byKeyframeId)!=null?o:{}))i.push({objectKey:s,trackId:c,keyframeId:p});return i}function aU(e){var t,r,o;let i=[];for(let[s,u]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[c,f]of Object.entries((r=u==null?void 0:u.byTrackId)!=null?r:{}))i.push({objectKey:s,trackId:c,keyframeIds:Object.keys((o=f==null?void 0:f.byKeyframeId)!=null?o:{})});return i}var Dx,Oh=I(()=>{Dx=Ne,$e(),Oi()});function Ote(e,t){return(0,iU.useMemo)(()=>Tte(e,t),[])}function Tte(e,t){let r=null,o=u=>ie().tempTransaction(c=>e(c,u));function i(){r==null||r.discard(),r=null}let s={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:u=>u.id?t.sheet.project.assetStorage.getAssetUrl(u.id):void 0};return J({temporarilySetValue(u){i(),r=o(u)},discardTemporaryValue:i,permanentlySetValue(u){i(),o(u).commit()}},s)}var iU,Ate=I(()=>{$e(),iU=Q(ae())});function Nj(e){var t;if(e.type==="sheetObject")return nn.default.createElement(nn.default.Fragment,null,nn.default.createElement(zx,{style:{paddingLeft:"".concat(e.indent*Bx,"px")}},e.sheetObject.address.objectKey),e.children.map((r,o)=>nn.default.createElement(Nj,Se(J({key:o},r),{autoFocusInput:e.autoFocusInput&&o===0,indent:e.indent+1}))));if(e.type==="propWithChildren"){let r=(t=e.propConfig.label)!=null?t:gs(e.pathToProp);return nn.default.createElement(nn.default.Fragment,null,nn.default.createElement(zx,{style:{paddingLeft:"".concat(e.indent*Bx,"px")}},r),e.children.map((o,i)=>nn.default.createElement(Nj,Se(J({key:i},o),{autoFocusInput:e.autoFocusInput&&i===0,indent:e.indent+1}))))}else return nn.default.createElement(Dte,Se(J({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function Dte(e){var t;let r=(t=e.propConfig.label)!=null?t:gs(e.pathToProp),o=zte(e);if(e.propConfig.type==="enum")return nn.default.createElement(nn.default.Fragment,null);{let i=f5[e.propConfig.type];return nn.default.createElement(lU,null,nn.default.createElement(zx,null,nn.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*Bx,"px")}},r)),nn.default.createElement(dU,null,nn.default.createElement(i,{editingTools:o,propConfig:e.propConfig,value:j_(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}function zte(e){let t=e.sheetObject;return Ote(({stateEditors:r},o)=>{let i=Se(J({},e.keyframe),{value:o});r.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Se(J({},t.address),{trackId:e.trackId,keyframes:[i],snappingFunction:t.sheet.getSequence().closestGridPosition}))},t)}var nn,sU,lU,uU,zx,Bx,cU,dU,Bte=I(()=>{nn=Q(ae()),Ee(),Zz(),Sp(),Ate(),Yl(),lU=L.div(sU||(sU=U([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),zx=L.div(uU||(uU=U([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),Bx=10,dU=L.div(cU||(cU=U([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function Nx(e){return _i({debugName:"useKeyframeInlineEditorPopover"},()=>Rx.default.createElement(Si,{showPopoverEdgeTriangle:!0},Rx.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((t,r)=>Rx.default.createElement(Nj,Se(J({key:r},t),{autoFocusInput:r===0,indent:0}))):void 0)))}var Rx,Fx=I(()=>{Rx=Q(ae()),xi(),Ei(),Bte()});function Nte(e,t,r){return Fn(e,{displayName:"Keyframe",menuItems:()=>{let o=Ax(r.leaf.sheetObject.address.projectId,r.leaf.sheetObject.address.sheetId,r.selection);return[{label:o.length>0?"Copy (selection)":"Copy",callback:()=>{o.length>0?ie().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes(o)}):ie().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:r.keyframe,pathToProp:r.leaf.pathToProp}])})}},{label:r.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{r.selection?r.selection.delete():ie().transaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Se(J({},r.leaf.sheetObject.address),{keyframeIds:[r.keyframe.id],trackId:r.leaf.trackId}))})}}]},onOpen(){t._debug("Show keyframe",r)}})}function Rte(e,t,r){let o=(0,su.useRef)(t);o.current=t;let{onClickFromDrag:i}=r,s=(0,su.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(c){let f=o.current,p=(0,Mx.val)(ie().atomP.historic.coreByProject[f.leaf.sheetObject.address.projectId].sheetsById[f.leaf.sheetObject.address.sheetId].sequence.tracksByObject),v=XM(p,function(k,{trackId:w,objectKey:x}){var E,P;return k.id!==f.keyframe.id&&!(f.selection&&(P=(E=f.selection.byObjectKey[x])==null?void 0:E.byTrackId[w])!=null&&P.byKeyframeId[k.id])});if(ZM(v),f.selection){let{selection:k,leaf:w}=f,{sheetObject:x}=w,E=k.getDragHandlers(Se(J({},x.address),{domNode:e,positionAtStartOfDrag:f.track.data.keyframes[f.index].position})).onDragStart(c);return E&&Se(J({},E),{onClick:i,onDragEnd:(...P)=>{var O;(O=E.onDragEnd)==null||O.call(E,...P),Xc()}})}let b=f,y=(0,Mx.val)(b.layoutP.scaledSpace.toUnitSpace),g;return{onDrag(k,w,x){var E;let P=b.track.data.keyframes[b.index],O=Math.max((E=Un.checkIfMouseEventSnapToPos(x,{ignore:e}))!=null?E:P.position+y(k),0);g==null||g.discard(),g=void 0,g=ie().tempTransaction(({stateEditors:B})=>{B.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Se(J({},b.leaf.sheetObject.address),{trackId:b.leaf.trackId,keyframes:[Se(J({},P),{position:O})],snappingFunction:(0,Mx.val)(b.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(k){k?g==null||g.commit():g==null||g.discard(),Xc()},onClick(k){i(k)}}}}),[i]),[u]=fr(e,s);return Hs(u,t.keyframe.position),qo(u,"draggingPositionInSequenceEditor","ew-resize"),[u]}var su,Mx,B0,Rj,N0,Fj,fU,Ux,pU,hU,mU,gU,vU,yU,bU=I(()=>{su=Q(ae()),Ee(),$e(),Mn(),Tr(),At(),Mx=Ne,rn(),Eo(),Fa(),gx(),Zl(),Oh(),Dt(),Yc(),Fx(),Kc(),B0=6,Rj=B0+2,N0={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},Fj=({isSelected:e,isInlineEditorPopoverOpen:t})=>e&&t?N0.inlineEditorOpenColor:e?N0.selectedColor:t?N0.selectedAndInlineEditorOpenColor:N0.normalColor,Ux=L.div(fU||(fU=U([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Go(B0),e=>Fj(e),e=>e.flag===2?"outline: 2px solid white;":""),hU=L.div(pU||(pU=U([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Go(B0*1.5),e=>Fj(e),e=>e.flag===2?"outline: 2px solid white;":""),gU=L.div(mU||(mU=U([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),Go(12),Ot,Ux,e=>e.isInlineEditorPopoverOpen?Go(Rj):"",Ux,Go(Rj)),vU=e=>{let t=Gl("SingleKeyframeDot",e.keyframe.id),r=Lc(e.itemKey),[o,i]=Ct(null),[s]=Nte(i,t,e),{node:u,toggle:c,isOpen:f}=Nx([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]);Rte(i,e,{onClickFromDrag(v){c(v,o.current)}});let p=!e.keyframe.type||e.keyframe.type==="bezier";return su.default.createElement(su.default.Fragment,null,su.default.createElement(gU,J({ref:o,isInlineEditorPopoverOpen:f},r.attrs)),p?su.default.createElement(Ux,{isSelected:!!e.selection,isInlineEditorPopoverOpen:f,flag:r.flag}):su.default.createElement(hU,{isSelected:!!e.selection,isInlineEditorPopoverOpen:f,flag:r.flag}),u,s)},yU=vU}),Mj,Uj,Vj,td,wU,kU,Hj,_U=I(()=>{So(),Mj=Q(ae()),Ee(),bU(),Uj=B0/2+1,Vj=1e3,td={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?td.selectedColor:td.normalColor;return e.isPopoverOpen?Wk(.2,Zp(.2,t)):t},hoverColor:e=>{let t=e.isSelected?td.selectedColor:td.normalColor;return e.isPopoverOpen?Wk(.2,Zp(.2,t)):Wk(.1,Zp(.1,t))}},kU=L.div(wU||(wU=U([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),td.barColor,Uj,Vj,Uj/2,td.hoverColor),Hj=Mj.default.forwardRef((e,t)=>{let r={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return Mj.default.createElement(kU,Se(J({},r),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/Vj,"))")},onClick:o=>{var i;(i=e.openPopover)==null||i.call(e,o)}}),e.children)})});function Fte(e,t){let r=(0,Lj.useRef)(t);r.current=t;let o=(0,Lj.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let s=r.current,u;if(s.selection){let{selection:v,leaf:b}=s,{sheetObject:y}=b;return v.getDragHandlers(Se(J({},y.address),{domNode:e,positionAtStartOfDrag:s.track.data.keyframes[s.index].position})).onDragStart(i)}let c=s,f=(0,Vx.val)(c.layoutP.sheet).getSequence(),p=(0,Vx.val)(c.layoutP.scaledSpace.toUnitSpace);return{onDrag(v,b,y){let g=p(v);u&&(u.discard(),u=void 0),u=ie().tempTransaction(({stateEditors:k})=>{k.coreByProject.historic.sheetsById.sequence.transformKeyframes(Se(J({},c.leaf.sheetObject.address),{trackId:c.leaf.trackId,keyframeIds:[c.keyframe.id,c.track.data.keyframes[c.index+1].id],translate:g,scale:1,origin:0,snappingFunction:f.closestGridPosition}))})},onDragEnd(v){v?u&&u.commit():u&&u.discard()}}}}),[]);fr(e,o)}function Mte(e,t,r,o){return Fn(t,{displayName:"Tween",menuItems:()=>{let i=Ax(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:i.length>0?"Copy (selection)":"Copy",callback:()=>{i.length>0?ie().transaction(s=>{s.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}):ie().transaction(s=>{s.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:r,pathToProp:e.leaf.pathToProp},{keyframe:o,pathToProp:e.leaf.pathToProp}])})}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():ie().transaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Se(J({},e.leaf.sheetObject.address),{keyframeIds:[r.id,o.id],trackId:e.leaf.trackId}))})}}]}})}var Vx,lu,Lj,Kj,xU,SU,EU,PU,CU,Ute=I(()=>{$e(),Mn(),Tr(),At(),Vx=Ne,lu=Q(ae()),Lj=Q(ae()),xi(),Ei(),Tx(),_U(),_x(),Xe(),Oh(),Oh(),Ee(),Kj=5,SU=L(Si)(xU||(xU=U([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),Ej),EU=e=>{let{index:t,track:r}=e,o=r.data.keyframes[t],i=r.data.keyframes[t+1],[s,u]=Ct(null),{node:c,toggle:f,close:p}=_i(()=>{let g=(0,Vx.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:g.screenX+Kj,maxX:g.screenX+g.width-Kj}}},()=>lu.default.createElement(CU,Se(J({},e),{closePopover:p}))),[v]=Mte(e,u,o,i);Fte(u,e);let b=i.position-o.position,y={isPopoverOpen:bt(()=>zj(Se(J({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:o,right:i})),[e.leaf.sheetObject.address,e.leaf.trackId,o,i]),isSelected:e.selection!==void 0};return lu.default.createElement(lu.default.Fragment,null,lu.default.createElement(Hj,Se(J({ref:s,connectorLengthInUnitSpace:b},y),{openPopover:g=>{u&&f(g,u)}}),c),v)},PU=EU,CU=lu.default.forwardRef((e,t)=>{let{index:r,track:{data:o},selection:i}=e,s=o.keyframes[r],u=o.keyframes[r+1],c=e.leaf.trackId,f=e.leaf.sheetObject.address,p=bt(()=>oU(f.projectId,f.sheetId,i).getValue(),[f,i]),v=J({left:s,right:u,trackId:c},f);return lu.default.createElement(SU,{showPopoverEdgeTriangle:!1,ref:t},lu.default.createElement(Dj,{curveConnection:v,additionalConnections:p,onRequestClose:e.closePopover}))})}),IU,rd,jU,OU,TU,AU,DU,Vte=I(()=>{IU=Ne,rd=Q(ae()),Ee(),Ute(),bU(),OU=L.div(jU||(jU=U([`
  position: absolute;
`]))),TU=rd.default.createElement(rd.default.Fragment,null),AU=rd.default.memo(e=>{let{index:t,track:{data:r}}=e,o=r.keyframes[t],i=r.keyframes[t+1],s=o.connectedRight&&!!i;return rd.default.createElement(OU,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,IU.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(o.position,"px))")}},rd.default.createElement(yU,Se(J({},e),{itemKey:e.itemKey})),s?rd.default.createElement(PU,J({},e)):TU)}),DU=AU});function Hte(e,t){return Fn(e,{displayName:"Keyframe Track",menuItems:()=>{var r;let o=(r=(0,Th.val)(ie().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?r:[];return[Lte(t,o)]}})}function Lte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var r;let o=(0,Th.val)(e.layoutP.sheet).getSequence(),i=(r=t[0])==null?void 0:r.pathToProp,s=t.filter(({keyframe:u,pathToProp:c})=>Wee(i,c)).map(({keyframe:u,pathToProp:c})=>u);ie().transaction(({stateEditors:u})=>{var c;o.position=o.closestGridPosition(o.position);let f=(c=Kte(s))==null?void 0:c.position;for(let p of s)u.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Se(J({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:o.position+p.position-f,handles:p.handles,value:p.value,snappingFunction:o.closestGridPosition,type:p.type}))})}}}function Kte(e){let t=null;for(let r of e)(t===null||r.position<t.position)&&(t=r);return t}var Th,Ls,zU,BU,qj,NU,qte=I(()=>{Xe(),Th=Ne,Ls=Q(ae()),Ee(),Vte(),Mn(),At(),$e(),Oi(),Yc(),Fs(),BU=L.div(zU||(zU=U([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),qj=Ls.default.memo(e=>{var t;let{layoutP:r,trackData:o,leaf:i}=e,[s,u]=Ct(null),{selectedKeyframeIds:c,selection:f}=bt(()=>{let O=(0,Th.val)(r.selectionAtom),B=(0,Th.val)(O.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return B?{selectedKeyframeIds:B,selection:(0,Th.val)(O.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[r,i.trackId]),[p,v,b]=Hte(u,e),y=_t(_j),g=y.mode==="snapToSome"?(t=y.positions[i.sheetObject.address.objectKey])==null?void 0:t[i.trackId]:[],k=y.mode==="snapToAll",w=(0,Ls.useMemo)(()=>({data:o,id:i.trackId,sheetObject:e.leaf.sheetObject}),[o,i.trackId]),x=o.keyframes.map((O,B)=>Ls.default.createElement(DU,{key:"keyframe-"+O.id,itemKey:Rr.forTrackKeyframe(i.sheetObject,i.trackId,O.id),keyframe:O,index:B,track:w,layoutP:r,leaf:i,selection:c[O.id]===!0?f:void 0})),E=g.map(O=>Ls.default.createElement(j0,{key:"snap-target-"+O,layoutP:r,leaf:i,position:O})),P=k?o.keyframes.map(O=>Ls.default.createElement(j0,{key:"additionalSnapTarget-".concat(O.id),layoutP:r,leaf:i,position:O.position})):null;return Ls.default.createElement(BU,{ref:s,style:{background:b?"#444850 ":"unset"}},x,E,Ls.default.createElement(Ls.default.Fragment,null,P),p)}),qj.displayName="BasicKeyframedTrack",NU=qj}),RU,R0,FU,MU,Wte=I(()=>{$e(),Xe(),RU=Ne,R0=Q(ae()),wx(),qte(),Zl(),FU=({leaf:e,layoutP:t})=>{let r=Gl("PrimitivePropRow",e.pathToProp.join());return bt(()=>{let{sheetObject:o}=e,{trackId:i}=e,s=(0,RU.val)(ie().atomP.historic.coreByProject[o.address.projectId].sheetsById[o.address.sheetId].sequence.tracksByObject[o.address.objectKey].trackData[i]);return(s==null?void 0:s.type)!=="BasicKeyframedTrack"?(r.errorDev("trackData type ".concat(s==null?void 0:s.type," is not yet supported on the sequence editor")),R0.default.createElement(Ch,{leaf:e,isCollapsed:!1,node:R0.default.createElement("div",null)})):R0.default.createElement(Ch,{leaf:e,isCollapsed:!1,node:R0.default.createElement(NU,{layoutP:t,trackData:s,leaf:e})})},[e,t])},MU=FU});function $te(e){return e()}var Gte=I(()=>{});function UU(e){let{index:t,aggregateKeyframes:r,selection:o}=e;return bt(VU(e),[t,r,o,e.viewModel])}function VU(e){let{index:t,aggregateKeyframes:r,selection:o}=e,{projectId:i,sheetId:s}=e.viewModel.type==="sheet"?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let u=r[t],c=r[t+1],f=c&&u.keyframes.length===c.keyframes.length&&u.keyframes.every(({track:y},g)=>c.keyframes[g].track===y)?{length:c.position-u.position,selected:u.selected===0&&c.selected===0}:null,p=f?u.keyframes.map(({kf:y,track:g},k)=>Se(J({},g.sheetObject.address),{trackId:g.id,left:y,right:c.keyframes[k].kf})):[],v=$te(()=>{let y=Wj.prism.memo("selectedConnections",()=>oU(i,s,o),[i,s,o]).getValue();return[...p,...y]}),b=p.every(y=>zj(y));return{itemKey:Wj.prism.memo("itemKey",()=>e.viewModel.type==="sheet"?Rr.forSheetAggregateKeyframe(e.viewModel.sheet,u.position):e.viewModel.type==="sheetObject"?Rr.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,u.position):Rr.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,u.position),[e.viewModel,u.position]),cur:u,connected:f,isAggregateEditingInCurvePopover:b,allConnections:v}}}var Wj,$j=I(()=>{Wj=Ne,Fs(),Tx(),Xe(),Oh(),Gte()});function Zte(e,t){let r=(0,Zo.useRef)(t);r.current=t;let o=(0,Zo.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let s=r.current,u,c=s.aggregateKeyframes[s.index].keyframes,{selection:f,viewModel:p}=s,v=p.type==="sheet"?p.sheet.address:p.sheetObject.address;if(f&&s.aggregateKeyframes[s.index].selected===0)return f.getDragHandlers(Se(J({},v),{domNode:e,positionAtStartOfDrag:s.aggregateKeyframes[s.index].position})).onDragStart(i);let b=s,y=(0,Hx.val)(b.layoutP.sheet).getSequence(),g=(0,Hx.val)(b.layoutP.scaledSpace.toUnitSpace);return{onDrag(k,w,x){let E=g(k);u&&(u.discard(),u=void 0),u=ie().tempTransaction(({stateEditors:P})=>{for(let O of c)P.coreByProject.historic.sheetsById.sequence.transformKeyframes(Se(J({},O.track.sheetObject.address),{trackId:O.track.id,keyframeIds:[O.kf.id,O.track.data.keyframes[O.track.data.keyframes.indexOf(O.kf)+1].id],translate:E,scale:1,origin:0,snappingFunction:y.closestGridPosition}))})},onDragEnd(k){k?u&&u.commit():u&&u.discard()}}}}),[]);return fr(e,o)}function Xte(e,t){return Fn(t,{displayName:"Aggregate Tween",menuItems:()=>{let r=e.utils.allConnections.reduce((c,f)=>{var p;return c.concat((p=Bj(Se(J({},f),{keyframeIds:[f.left.id,f.right.id]})))!=null?p:[])},[]),o=dx(r.map(c=>c.pathToProp)),i=r.map(({keyframe:c,pathToProp:f})=>({keyframe:c,pathToProp:f.slice(o.length)})),s=e.editorProps.viewModel,u=s.type==="sheet"?s.sheet.address:s.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let c=Ax(u.projectId,u.sheetId,e.editorProps.selection);ie().transaction(f=>{f.stateEditors.studio.ahistoric.setClipboardKeyframes(c)})}else ie().transaction(c=>{c.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():ie().transaction(({stateEditors:c})=>{for(let f of e.utils.allConnections)c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Se(J({},u),{objectKey:f.objectKey,keyframeIds:[f.left.id,f.right.id],trackId:f.trackId}))})}}]}})}var Hx,Zo,Gj,HU,LU,KU,qU,Yte=I(()=>{Hx=Ne,Zo=Q(ae()),_U(),xi(),At(),$e(),Tr(),Tx(),$j(),Ee(),Ei(),Oh(),Mn(),Oi(),Gj=5,LU=L(Si)(HU||(HU=U([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),KU=Zo.default.forwardRef((e,t)=>{let{allConnections:r}=UU(e);return Zo.default.createElement(LU,{showPopoverEdgeTriangle:!1,ref:t},Zo.default.createElement(Dj,{curveConnection:r[0],additionalConnections:r,onRequestClose:e.closePopover}))}),qU=e=>{let[t,r]=Ct(null),{editorProps:o}=e,[i]=Xte(e,r),[s]=Zte(r,e.editorProps),{node:u,toggle:c,close:f}=_i(()=>{let b=(0,Hx.val)(o.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:b.screenX+Gj,maxX:b.screenX+b.width-Gj}}},()=>Zo.default.createElement(KU,Se(J({},o),{closePopover:f}))),{connected:p,isAggregateEditingInCurvePopover:v}=e.utils;return p||s?Zo.default.createElement(Zo.default.Fragment,null,Zo.default.createElement(Hj,{ref:t,connectorLengthInUnitSpace:p?p.length:0,isSelected:p?p.selected:!1,isPopoverOpen:v,openPopover:b=>{r&&c(b,r)}}),u,i):Zo.default.createElement(Zo.default.Fragment,null)}});function Qte(e){let t={isSelected:e.isSelected,flag:e.flag};return Ks.default.createElement(Lx,null,e.isAllHere?Ks.default.createElement(YU,J({},t)):Ks.default.createElement(QU,J({},t)))}var Ks,Zj,WU,$U,Lx,GU,ZU,Xj,Yj,Qj,Jj,XU,YU,QU,Jte=I(()=>{Ks=Q(ae()),Ee(),gx(),Dt(),Zj=16,WU=Zj+2,Lx=L.div($U||($U=U([`
  position: absolute;
  `,`
  z-index: 1;
`])),Go(Zj)),ZU=L.div(GU||(GU=U([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),Go(12),Ot,Lx,Lx,Go(WU)),Xj="#F2C95C",Yj="#40AAA4",Qj="#45747C",Jj=e=>e.isSelected===0?Xj:e.isSelected===1?Yj:Qj,XU=e=>e.isSelected===0?Xj:e.isSelected===1?Yj:Qj,YU=e=>Ks.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ks.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:XU(e)}),Ks.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:Jj(e),stroke:e.flag===2?"white":void 0,strokeWidth:e.flag===2?"2px":void 0})),QU=e=>Ks.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ks.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:e.flag===2?"white":Jj(e),strokeWidth:e.flag===2?"2px":void 0}))});function ere(e,t){let r=e.children.map(o=>o.type==="propWithChildren"?e3(o,t):JU(o,t)).filter(t3);return r.length===0?null:{type:"sheetObject",sheetObject:e.sheetObject,children:r}}function e3(e,t){let r=e.children.map(o=>o.type==="propWithChildren"?e3(o,t):JU(o,t)).filter(t3);return r.length===0?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:r}}function JU(e,t){let r=t.find(o=>o.track.id===e.trackId);return r?{type:"primitiveProp",keyframe:r.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function tre(e){var t,r,o,i;let{cur:s}=e.utils,u=Nx(e.editorProps.viewModel.type==="sheet"?null:e.editorProps.viewModel.type==="sheetObject"?(r=(t=ere(e.editorProps.viewModel,s.keyframes))==null?void 0:t.children)!=null?r:null:(i=(o=e3(e.editorProps.viewModel,s.keyframes))==null?void 0:o.children)!=null?i:null),c=Lc(e.utils.itemKey);c.useRelations(()=>s.keyframes.map(b=>({affects:b.itemKey,flag:2})),[s.keyframes.map(b=>b.track.id).join("-")]);let[f,p]=Ct(null),[v]=rre(e,p);return F0.default.createElement(F0.default.Fragment,null,F0.default.createElement(ZU,Se(J(J({ref:f},c.attrs),Un.includePositionSnapAttrs(s.position)),{onClick:b=>e.editorProps.viewModel.type!=="sheet"?u.open(b,f.current):null})),F0.default.createElement(Qte,{flag:c.flag,isAllHere:s.allHere,isSelected:s.selected}),v,u.node)}function rre(e,t){return Fn(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let r=e.editorProps.viewModel,o=e.editorProps.selection;return[{label:o?"Copy (selection)":"Copy",callback:()=>{if(o){let{projectId:i,sheetId:s}=r.type==="sheet"?r.sheet.address:r.sheetObject.address,u=Ax(i,s,o);ie().transaction(c=>{c.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}else{let i=e.utils.cur.keyframes.flatMap(f=>{var p;return(p=Bj(Se(J({},f.track.sheetObject.address),{trackId:f.track.id,keyframeIds:[f.kf.id]})))!=null?p:[]}),s=r.type==="sheet"?[]:r.type==="sheetObject"?[r.sheetObject.address.objectKey]:r.type==="propWithChildren"?[r.sheetObject.address.objectKey,...r.pathToProp]:[],u=dx([s,...i.map(f=>f.pathToProp)]),c=i.map(({keyframe:f,pathToProp:p})=>({keyframe:f,pathToProp:p.slice(u.length)}));ie().transaction(f=>{f.stateEditors.studio.ahistoric.setClipboardKeyframes(c)})}}},{label:o?"Delete (selection)":"Delete",callback:()=>{o?o.delete():ie().transaction(({stateEditors:i})=>{for(let s of e.utils.cur.keyframes)i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Se(J({},s.track.sheetObject.address),{keyframeIds:[s.kf.id],trackId:s.track.id}))})}}]}})}var F0,t3,nre=I(()=>{F0=Q(ae()),At(),Kc(),Mn(),Jte(),$e(),Oh(),Oi(),Fa(),Fx(),t3=e=>e!==null}),eV,M0,tV,rV,nV,oV,ore=I(()=>{eV=Ne,M0=Q(ae()),Ee(),Yte(),$j(),nre(),rV=L.div(tV||(tV=U([`
  position: absolute;
`]))),nV=M0.default.memo(e=>{let t=UU(e);return M0.default.createElement(rV,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,eV.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},M0.default.createElement(tre,{editorProps:e,utils:t}),M0.default.createElement(qU,{editorProps:e,utils:t}))}),oV=nV});function are(e){let{layoutP:t,aggregatedKeyframes:r,viewModel:o}=e,i=Gl("AggregatedKeyframeTrack"),[s,u]=Ct(null),{selectedPositions:c,selection:f}=ire(t,r),[p,v,b]=ure(u,e,()=>i._debug("see aggregatedKeyframes",e.aggregatedKeyframes)),y=(0,Xo.useMemo)(()=>[...r.byPosition.entries()].sort((O,B)=>O[0]-B[0]).map(([O,B])=>({position:O,keyframes:B,selected:c.get(O),allHere:B.length===r.tracks.length})),[r,c]),g=_t(_j),k=g.mode==="snapToAll",w=g.mode==="snapToSome"?g.positions:S5,x=(0,Xo.useMemo)(()=>o.type==="sheet"?tte(o,w):mj(o,w),[w]).map(O=>Xo.default.createElement(j0,{key:"snap-target-"+O,layoutP:t,leaf:o,position:O})),E=(0,Xo.useMemo)(()=>y.map(({position:O,keyframes:B},z)=>({position:O,editorProps:{index:z,layoutP:t,viewModel:o,aggregateKeyframes:y,selection:c.has(O)?f:void 0}})),[y,o,c]);pre(u,O=>{var B;return(B=E.find(z=>z.position===O))==null?void 0:B.editorProps},{onClickFromDrag(O){}});let P=E.map((O,B)=>Xo.default.createElement(Xo.Fragment,{key:"agg-"+y[B].keyframes[0].kf.id},k&&Xo.default.createElement(j0,{layoutP:t,leaf:o,position:O.position}),Xo.default.createElement(oV,J({},O.editorProps))));return Xo.default.createElement(lV,{ref:s,style:{background:b?"#444850 ":"unset"}},P,x,p)}function ire(e,t){return bt(()=>(0,Hn.val)(sre(e,t)),[e,t])}function sre(e,t){return(0,Hn.prism)(()=>{let r=(0,Hn.val)(e.selectionAtom),o=(0,Hn.val)(r.pointer.current);if(!o)return uV;let i=new Map;for(let[s,u]of t.byPosition){let c=lre(u,o);c!==void 0&&c!==qx&&i.set(s,c)}return{selectedPositions:i,selection:(0,Hn.val)(r.pointer.current)}})}function lre(e,t){var r,o,i;let s;for(let{track:u,kf:c}of e){let f=((i=(o=(r=t.byObjectKey[u.sheetObject.address.objectKey])==null?void 0:r.byTrackId[u.id])==null?void 0:o.byKeyframeId)==null?void 0:i[c.id])===!0;s===void 0?f?s=o3:s=qx:f?s===qx&&(s=a3):s===o3&&(s=a3)}return s}function ure(e,t,r){return Fn(e,{onOpen:r,displayName:"Aggregate Keyframe Track",menuItems:()=>{var o;let i=(o=(0,Hn.pointerToPrism)(ie().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?o:[];return[cre(t,i)]}})}function cre(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let r=(0,Hn.val)(e.layoutP.sheet).getSequence();e.viewModel.type==="sheet"?dre(e.viewModel,t,r):fre(e.viewModel,t,r)}}}function dre(e,t,r){var o;let{projectId:i,sheetId:s,sheetInstanceId:u}=e.sheet.address;if(t.every(({pathToProp:c})=>c.length===0))for(let c of e.children.map(f=>f.sheetObject)){let f=(0,Hn.pointerToPrism)(ie().atomP.historic.coreByProject[i].sheetsById[s].sequence.tracksByObject[c.address.objectKey]).getValue(),p=Object.keys((o=f==null?void 0:f.trackData)!=null?o:{});r3(c.address,p,t,r)}else{let c=(0,Hn.pointerToPrism)(ie().atomP.historic.coreByProject[i].sheetsById[s].sequence.tracksByObject).getValue(),f=t.map(({keyframe:p,pathToProp:v})=>{var b,y;let g=v[0],k=v.slice(1),w=ji([...k]),x=((y=(b=c==null?void 0:c[g])==null?void 0:b.trackIdByPropPath)!=null?y:{})[w];return x?{keyframe:p,trackId:x,address:{objectKey:g,projectId:i,sheetId:s,sheetInstanceId:u}}:null}).filter(p=>p!==null);aV(f,r)}}function fre(e,t,r){var o;let{projectId:i,sheetId:s,objectKey:u}=e.sheetObject.address,c=(0,Hn.pointerToPrism)(ie().atomP.historic.coreByProject[i].sheetsById[s].sequence.tracksByObject[u]).getValue();if(t.every(({pathToProp:f})=>f.length===0)){let f=Object.keys((o=c==null?void 0:c.trackData)!=null?o:{});if(e.type==="sheetObject")r3(e.sheetObject.address,f,t,r);else{let p=(c==null?void 0:c.trackIdByPropPath)||{},v=Object.entries(p).filter(([b,y])=>y!==void 0&&qee(fx(b),e.pathToProp)).map(([b,y])=>y);r3(e.sheetObject.address,v,t,r)}}else{let f=(c==null?void 0:c.trackIdByPropPath)||{},p=e.type==="propWithChildren"?e.pathToProp:[],v=t.map(({keyframe:b,pathToProp:y})=>{let g=ji([...p,...y]),k=f[g];return k?{keyframe:b,trackId:k,address:e.sheetObject.address}:null}).filter(b=>b!==null);aV(v,r)}}function r3(e,t,r,o){var i;o.position=o.closestGridPosition(o.position);let s=(i=iV(r.map(({keyframe:u})=>u)))==null?void 0:i.position;ie().transaction(({stateEditors:u})=>{for(let c of t)for(let{keyframe:f}of r)u.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Se(J({},e),{trackId:c,position:o.position+f.position-s,handles:f.handles,value:f.value,snappingFunction:o.closestGridPosition,type:f.type}))})}function aV(e,t){var r;t.position=t.closestGridPosition(t.position);let o=(r=iV(e.map(({keyframe:i})=>i)))==null?void 0:r.position;ie().transaction(({stateEditors:i})=>{for(let{keyframe:s,trackId:u,address:c}of e)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Se(J({},c),{trackId:u,position:t.position+s.position-o,handles:s.handles,value:s.value,snappingFunction:t.closestGridPosition,type:s.type}))})}function iV(e){let t=null;for(let r of e)(t===null||r.position<t.position)&&(t=r);return t}function pre(e,t,r){let o=Gl("useDragForAggregateKeyframeDot"),i=HM(),s=(0,Xo.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(c){o._debug("onDragStart",{target:c.target});let f=Number(c.target.dataset.pos),p=t(f);if(!p)return o._debug("no props found for ",{positionToFind:f}),!1;i(!0,f);let v=(0,Hn.prism)(VU(p)).getValue().cur.keyframes,b=p.viewModel.type==="sheet"?p.viewModel.sheet.address:p.viewModel.sheetObject.address,y=(0,Hn.val)(ie().atomP.historic.coreByProject[b.projectId].sheetsById[b.sheetId].sequence.tracksByObject),g=XM(y,function(E,{trackId:P,objectKey:O}){var B,z;return v.every(F=>E.id!==F.kf.id)&&!(p.selection&&(z=(B=p.selection.byObjectKey[O])==null?void 0:B.byTrackId[P])!=null&&z.byKeyframeId[E.id])});if(ZM(g),p.selection&&p.aggregateKeyframes[p.index].selected===0){let{selection:E,viewModel:P}=p,O=E.getDragHandlers(Se(J({},b),{domNode:e,positionAtStartOfDrag:v[0].kf.position})).onDragStart(c);return O&&Se(J({},O),{onClick:r.onClickFromDrag,onDragEnd:(...B)=>{var z;(z=O.onDragEnd)==null||z.call(O,...B),Xc()}})}let k=p,w=(0,Hn.val)(k.layoutP.scaledSpace.toUnitSpace),x;return{onDrag(E,P,O){var B;let z=Math.max((B=Un.checkIfMouseEventSnapToPos(O,{}))!=null?B:v[0].kf.position+w(E),0);i(!0,z),x==null||x.discard(),x=void 0,x=ie().tempTransaction(({stateEditors:F})=>{for(let Z of v){let ee=Z.kf;F.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Se(J({},Z.track.sheetObject.address),{trackId:Z.track.id,keyframes:[Se(J({},ee),{position:z})],snappingFunction:(0,Hn.val)(k.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(E){i(!1,-1),E?x==null||x.commit():(x==null||x.discard(),r.onClickFromDrag(c)),Xc()},onClick(E){r.onClickFromDrag(E)}}}}),[t,r.onClickFromDrag]),[u]=fr(e,s);return qo(u,"draggingPositionInSequenceEditor","ew-resize"),[u]}var Hn,Xo,sV,lV,uV,cV,Kx,n3,o3,a3,qx,i3=I(()=>{Xe(),Hn=Ne,Xo=Q(ae()),Ee(),Mn(),At(),ore(),Eh(),Zl(),$j(),Fa(),Tr(),rn(),Eo(),$e(),Oi(),Yc(),QB(),Yc(),Eh(),lV=L.div(sV||(sV=U([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),uV=Object.freeze({selectedPositions:new Map,selection:void 0}),cV=Xo.default.memo(are),Kx=cV,n3=(e=>(e[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",e))(n3||{}),{AllSelected:o3,AtLeastOneUnselected:a3,NoneSelected:qx}=n3}),Ah,s3,dV,hre=I(()=>{Xe(),Ah=Q(ae()),Wte(),wx(),i3(),Eh(),Zl(),s3=(e,t)=>e.type==="propWithChildren"?Ah.default.createElement(dV,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):Ah.default.createElement(MU,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),dV=({viewModel:e,layoutP:t})=>{let r=Gl("RightPropWithChildrenRow",e.pathToProp.join());return bt(()=>{let o=hx(e);return Ah.default.createElement(aD,{logger:r},Ah.default.createElement(Ch,{leaf:e,node:Ah.default.createElement(Kx,{layoutP:t,aggregatedKeyframes:o,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(i=>s3(i,t))))},[e,t])}}),l3,fV,pV,mre=I(()=>{Xe(),l3=Q(ae()),hre(),wx(),Eh(),i3(),fV=({leaf:e,layoutP:t})=>bt(()=>{let r=hx(e);return l3.default.createElement(Ch,{leaf:e,node:l3.default.createElement(Kx,{layoutP:t,aggregatedKeyframes:r,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>s3(o,t)))},[e,t]),pV=fV}),Wx,hV,mV,gre=I(()=>{Xe(),Wx=Q(ae()),mre(),wx(),Eh(),i3(),hV=({leaf:e,layoutP:t})=>bt(()=>{let r=hx(e);return Wx.default.createElement(Ch,{leaf:e,node:Wx.default.createElement(Kx,{layoutP:t,aggregatedKeyframes:r,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>Wx.default.createElement(pV,{layoutP:t,key:"sheetObject-"+o.sheetObject.address.objectKey,leaf:o})))},[e,t]),mV=hV}),U0,nd,$x,gV,vV,yV,bV,wV=I(()=>{Xe(),U0=Ne,nd=Q(ae()),Ee(),ote(),s7(),gre(),$x=1e6,vV=L.ul(gV||(gV=U([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),$x),yV=({layoutP:e})=>bt(()=>{let t=(0,U0.val)(e.tree),r=(0,U0.val)(e.tree.top)+Math.max((0,U0.val)(e.tree.heightIncludingChildren),(0,U0.val)(e.dopeSheetDims.height));return nd.default.createElement(nd.default.Fragment,null,nd.default.createElement(Sj,{layoutP:e,height:r},nd.default.createElement(jM,{layoutP:e,height:r},nd.default.createElement(vV,{style:{top:t.top+"px"}},nd.default.createElement(mV,{leaf:t,layoutP:e})))))},[e]),bV=yV});function u3(e,t,r,o){let i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),s="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");r===0&&(r=1e-4);let u="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(r,")");o===0&&(o=.001);let c="calc(var(--graphEditorVerticalSpace) * ".concat(o*-1,")");return"translate(".concat(i,", ").concat(s,") scale(").concat(u,", ").concat(c,")")}function vre(e,t){let{index:r,trackData:o}=t,i=o.keyframes[r],s=o.keyframes[r+1];return Fn(e,{menuItems:()=>[{label:"Delete",callback:()=>{ie().transaction(({stateEditors:u})=>{let{deleteKeyframes:c}=u.coreByProject.historic.sheetsById.sequence;c(Se(J({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,s.id]}))})}}]})}var Gx,kV,_V,xV,SV,EV,c3=I(()=>{Yl(),$e(),Mn(),At(),Gx=Q(ae()),Ee(),_V=L.path(kV||(kV=U([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),xV="M 0 0 L 1 0 L 1 1",SV=e=>{let{index:t,trackData:r}=e,o=r.keyframes[t],i=r.keyframes[t+1],s=i.position-o.position,[u,c]=Ct(null),[f]=vre(c,e),p=e.isScalar?j_(o.value,e.propConfig):0,v=e.isScalar?j_(i.value,e.propConfig):1,b=e.extremumSpace.fromValueSpace(p),y=e.extremumSpace.fromValueSpace(v)-b,g=u3(o.position,b,s,y),k=o.handles[2],w=o.handles[3],x=i.handles[0],E=i.handles[1],P="M 0 0 C ".concat(k," ").concat(w," ").concat(x," ").concat(E," 1 1");return Gx.default.createElement(Gx.default.Fragment,null,Gx.default.createElement(_V,{ref:u,d:!o.type||o.type==="bezier"?P:xV,style:{transform:g}}),f)},EV=SV});function yre(e,t){let r=(0,od.useRef)(t);r.current=t;let o=(0,od.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let i,s=r.current,u=(0,V0.val)(s.layoutP.scaledSpace.toUnitSpace),c=(0,V0.val)(s.layoutP.graphEditorVerticalSpace.toExtremumSpace),f=s.extremumSpace.lock();return{onDrag(p,v){i&&(i.discard(),i=void 0);let{index:b,trackData:y}=s,g=y.keyframes[b],k=y.keyframes[b+1],w=u(p)/(k.position-g.position),x=-v,E=c(x),P=s.extremumSpace.deltaToValueSpace(E),O=t.isScalar?g.value:0,B=t.isScalar?k.value:1,z=P/(B-O);if(s.which==="left"){let F=Xt(g.handles[2]+w,0,1),Z=g.handles[3]+z;i=ie().tempTransaction(({stateEditors:ee})=>{ee.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Se(J({},s.sheetObject.address),{snappingFunction:(0,V0.val)(s.layoutP.sheet).getSequence().closestGridPosition,trackId:s.trackId,keyframes:[Se(J({},g),{handles:[g.handles[0],g.handles[1],F,Z]})]}))})}else{let F=Xt(k.handles[0]+w,0,1),Z=k.handles[1]+z;i=ie().tempTransaction(({stateEditors:ee})=>{ee.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Se(J({},s.sheetObject.address),{trackId:s.trackId,snappingFunction:(0,V0.val)(s.layoutP.sheet).getSequence().closestGridPosition,keyframes:[Se(J({},k),{handles:[F,Z,k.handles[2],k.handles[3]]})]}))})}},onDragEnd(p){f(),p?i&&i.commit():i&&i.discard()}}}}),[]);fr(e,o)}function bre(e,t){return Fn(e,{menuItems:()=>[{label:"Delete",callback:()=>{ie().transaction(({stateEditors:r})=>{r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Se(J({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var V0,od,PV,d3,CV,IV,jV,OV,TV,f3,wre=I(()=>{$e(),Mn(),Tr(),At(),V0=Ne,_r(),od=Q(ae()),Ee(),c3(),Dt(),d3=L.circle(PV||(PV=U([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),IV=L.circle(CV||(CV=U([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),Ot,d3),OV=L.path(jV||(jV=U([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),TV=e=>{let[t,r]=Ct(null),{index:o,trackData:i}=e,s=i.keyframes[o],u=i.keyframes[o+1],[c]=bre(r,e);yre(r,e);let f=e.which==="left"?s.handles[2]:u.handles[0],p=s.position+(u.position-s.position)*f,v=e.which==="left"?s.handles[3]:u.handles[1],b=e.isScalar?s.value:0,y=e.isScalar?u.value:1,g=b+(y-b)*v,k=e.extremumSpace.fromValueSpace(g),w=k-e.extremumSpace.fromValueSpace(e.which==="left"?b:y),x=u3(e.which==="left"?s.position:u.position,e.extremumSpace.fromValueSpace(e.which==="left"?b:y),p-(e.which==="left"?s.position:u.position),w);return od.default.createElement("g",null,od.default.createElement(IV,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(p," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(k,") * 1px)")}}),od.default.createElement(d3,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(p," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(k,") * 1px)")}}),od.default.createElement(OV,{d:"M 0 0 L 1 1",style:{transform:x}}),c)},f3=TV});function kre(e){let[t,r]=(0,uu.useState)(!1);Hs(t,e.props.keyframe.position);let o=(0,uu.useRef)(e.props);o.current=e.props;let i=(0,uu.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(s){r(!0);let u=!!s.altKey,c=o.current,f=(0,Zx.val)(c.layoutP.scaledSpace.toUnitSpace),p=(0,Zx.val)(c.layoutP.graphEditorVerticalSpace.toExtremumSpace),v=c.extremumSpace.lock(),b;return{onDrag(y,g){let k=c.trackData.keyframes[c.index],w=f(y),x=-g,E=p(x),P=c.extremumSpace.deltaToValueSpace(E),O=[],B=Se(J({},k),{position:k.position+w,value:k.value+P,handles:[...k.handles]});if(O.push(B),u){let z=c.trackData.keyframes[c.index-1];if(z&&Math.abs(k.value-z.value)>0){let Z=Se(J({},z),{handles:[...z.handles]});O.push(Z),Z.handles[3]=xre(z.handles[3],z.value,z.value,k.value,B.value)}let F=c.trackData.keyframes[c.index+1];if(F&&Math.abs(k.value-F.value)>0){let Z=Se(J({},F),{handles:[...F.handles]});O.push(Z),Z.handles[1]=Sre(Z.handles[1],Z.value,Z.value,k.value,B.value)}}b==null||b.discard(),b=ie().tempTransaction(({stateEditors:z})=>{z.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Se(J({},c.sheetObject.address),{trackId:c.trackId,keyframes:O,snappingFunction:(0,Zx.val)(c.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(y){r(!1),v(),y?b==null||b.commit():(b==null||b.discard(),e.onDetectedClick(s))}}}}),[]);return fr(e.node,i),qo(t,"draggingPositionInSequenceEditor","move"),t}function _re(e,t){return Fn(e,{menuItems:()=>[{label:"Delete",callback:()=>{ie().transaction(({stateEditors:r})=>{r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Se(J({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}function xre(e,t,r,o,i){return(o-t)*e/(i-r)}function Sre(e,t,r,o,i){return((t-o)*e+o-t+r-i)/(r-i)}var Zx,uu,AV,p3,DV,zV,BV,NV,Ere=I(()=>{$e(),Mn(),Tr(),At(),Zx=Ne,uu=Q(ae()),Ee(),rn(),rn(),Dt(),Eo(),Fa(),Fx(),Kc(),p3=L.circle(AV||(AV=U([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),zV=L.circle(DV||(DV=U([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),Ot,p3,Ds),BV=e=>{let[t,r]=Ct(null),{index:o,trackData:i}=e,s=i.keyframes[o],[u]=_re(r,e),c=Lc(e.itemKey),f=s.value,p=e.extremumSpace.fromValueSpace(f),v=Nx([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),b=kre({node:r,props:e,onDetectedClick:y=>v.toggle(y,y.target instanceof Element?y.target:r)});return uu.default.createElement(uu.default.Fragment,null,uu.default.createElement(zV,Se(J(J(J({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(p,") * 1px)")}},Ti(s.position)),Un.includePositionSnapAttrs(s.position)),c.attrs),{className:b?"beingDragged":""})),uu.default.createElement(p3,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(p,") * 1px)"),fill:c.flag===2?"white":void 0}}),v.node,u)},NV=BV});function Pre(e){let[t,r]=(0,cu.useState)(!1);Hs(t,e.props.keyframe.position);let o=(0,cu.useRef)(e.props);o.current=e.props;let i=(0,cu.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(s){r(!0);let u=o.current,c=(0,h3.val)(u.layoutP.scaledSpace.toUnitSpace),f=u.extremumSpace.lock(),p;return{onDrag(v,b){let y=u.trackData.keyframes[u.index],g=c(v),k=[],w=Se(J({},y),{position:y.position+g,value:y.value,handles:[...y.handles]});k.push(w),p==null||p.discard(),p=ie().tempTransaction(({stateEditors:x})=>{x.coreByProject.historic.sheetsById.sequence.replaceKeyframes(Se(J({},u.sheetObject.address),{trackId:u.trackId,keyframes:k,snappingFunction:(0,h3.val)(u.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(v){r(!1),f(),v?p==null||p.commit():(p==null||p.discard(),e.onDetectedClick(s))}}}}),[]);return fr(e.node,i),qo(t,"draggingPositionInSequenceEditor","ew-resize"),t}function Cre(e,t){return Fn(e,{menuItems:()=>[{label:"Delete",callback:()=>{ie().transaction(({stateEditors:r})=>{r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(Se(J({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var h3,cu,RV,m3,FV,MV,UV,g3,Ire=I(()=>{$e(),Mn(),Tr(),At(),h3=Ne,cu=Q(ae()),Ee(),rn(),rn(),Dt(),Eo(),Fa(),Fx(),Kc(),m3=L.circle(RV||(RV=U([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),MV=L.circle(FV||(FV=U([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),Ot,m3,Ds),UV=e=>{let[t,r]=Ct(null),{index:o,trackData:i,itemKey:s}=e,u=i.keyframes[o],[c]=Cre(r,e),f=Lc(s),p=e.which==="left"?0:1,v=Nx([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),b=Pre({node:r,props:e,onDetectedClick:g=>v.toggle(g,g.target instanceof Element?g.target:r)}),y=e.extremumSpace.fromValueSpace(p);return cu.default.createElement(cu.default.Fragment,null,cu.default.createElement(MV,Se(J(J(J({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(y,") * 1px)")}},f.attrs),Ti(u.position)),Un.includePositionSnapAttrs(u.position)),{className:b?"beingDragged":""})),cu.default.createElement(m3,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(y,") * 1px)"),fill:f.flag===2?"white":void 0}}),v.node,c)},g3=UV}),Xx,VV,HV,LV,KV,jre=I(()=>{Xx=Q(ae()),Ee(),c3(),HV=L.path(VV||(VV=U([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),LV=e=>{let{index:t,trackData:r}=e,o="M 0 0 L 1 1",i=u3(r.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return Xx.default.createElement(Xx.default.Fragment,null,Xx.default.createElement(HV,{d:o,style:{transform:i}}))},KV=LV}),on,qV,WV,$V,GV,ZV,Ore=I(()=>{on=Q(ae()),Ee(),c3(),wre(),Ere(),Ire(),jre(),WV=L.g(qV||(qV=U([`
  /* position: absolute; */
`]))),$V=on.default.createElement(on.default.Fragment,null),GV=e=>{let{index:t,trackData:r,isScalar:o}=e,i=r.keyframes[t],s=r.keyframes[t+1],u=i.connectedRight&&!!s&&s.value!==i.value;return on.default.createElement(WV,null,u?on.default.createElement(on.default.Fragment,null,on.default.createElement(EV,J({},e)),!i.type||i.type==="bezier"&&on.default.createElement(on.default.Fragment,null,on.default.createElement(f3,Se(J({},e),{which:"left"})),on.default.createElement(f3,Se(J({},e),{which:"right"})))):$V,o?on.default.createElement(NV,J({},e)):on.default.createElement(on.default.Fragment,null,on.default.createElement(g3,Se(J({},e),{which:"left"})),on.default.createElement(g3,Se(J({},e),{which:"right"})),on.default.createElement(KV,J({},e))))},ZV=GV});function Tre(e,t){let r=1/0,o=-1/0;function i(s){r=Math.min(s,r),o=Math.max(s,o)}return e.forEach((s,u)=>{let c=j_(s.value,t);if(i(c),!s.connectedRight)return;let f=e[u+1];if(!f)return;let p=(typeof f.value=="number"?f.value:1)-c;i(c+s.handles[3]*p),i(c+f.handles[1]*p)}),[r,o]}function Are(e){let t=0,r=1;function o(i){t=Math.min(i,t),r=Math.max(i,r)}return e.forEach((i,s)=>{if(!i.connectedRight)return;let u=e[s+1];u&&(o(i.handles[3]),o(u.handles[1]))}),[t,r]}var Di,XV,YV,Dre=I(()=>{Fs(),Di=Q(ae()),Qx(),Ore(),Yl(),Xe(),XV=Di.default.memo(({layoutP:e,trackData:t,sheetObject:r,trackId:o,color:i,pathToProp:s})=>{let u=I_(_t(r.template.configPointer),s);if(Ci(u))return console.error("Composite prop types cannot be keyframed"),Di.default.createElement(Di.default.Fragment,null);let[c,f]=(0,Di.useState)(!1),p=(0,Di.useMemo)(()=>{let g=new Set;return function(){let k=g.size===0;g.add(w),k&&f(!0);function w(){let x=g.size>0;g.delete(w),x&&g.size===0&&f(!1)}return w}},[]),v=(0,Di.useMemo)(()=>{let g=u.type==="number"?Tre(t.keyframes,u):Are(t.keyframes),k=E=>(E-g[0])/(g[1]-g[0]),w=E=>g[0]+x(E),x=E=>E*(g[1]-g[0]);return{fromValueSpace:k,toValueSpace:w,deltaToValueSpace:x,lock:p}},[t.keyframes]),b=(0,Di.useRef)(void 0);c||(b.current=v);let y=t.keyframes.map((g,k)=>Di.default.createElement(ZV,{pathToProp:s,propConfig:u,itemKey:Rr.forTrackKeyframe(r,o,g.id),keyframe:g,index:k,trackData:t,layoutP:e,sheetObject:r,trackId:o,isScalar:u.type==="number",key:g.id,extremumSpace:b.current,color:i}));return Di.default.createElement("g",{style:{"--main-color":H0[i].iconColor}},y)}),YV=XV}),QV,Yx,JV,eH,zre=I(()=>{$e(),Xe(),QV=Ne,Yx=Q(ae()),Dre(),JV=e=>bt(()=>{let{sheetObject:t,trackId:r}=e,o=(0,QV.val)(ie().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[r]);return(o==null?void 0:o.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(o==null?void 0:o.type," is not yet supported on the graph editor")),Yx.default.createElement(Yx.default.Fragment,null)):Yx.default.createElement(YV,Se(J({},e),{trackData:o}))},[e.trackId,e.layoutP]),eH=JV});function tH({clippedSpaceRange:e,clippedSpaceWidth:t,fps:r,gapWidth:o=120},i){let s=1/r,u=e.end-e.start,c=t/(r*u),f=Math.floor(o/c),p=(f<r?rH(r).find(y=>y>=f):r*Math.floor(f/r))*s,v=Math.floor(e.start/p),b=Math.ceil(e.end/p);for(let y=v;y<=b;y++){let g=y*p,k=g%1===0;i(g,k)}}var rH,nH=I(()=>{_r(),rH=op(e=>{let t=[];for(let r=1;r<=e;r++)e%r===0&&t.push(r);return t})});function Bre(e){let{clippedSpaceWidth:t,height:r,ctx:o,unitSpaceToClippedSpace:i,snapToGrid:s}=e;o.clearRect(0,0,t,r),tH(e,(u,c)=>{let f=s(u),p=Math.floor(i(f));o.strokeStyle=c?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",o.beginPath(),o.moveTo(p,0),o.lineTo(p,r),o.stroke(),o.closePath()})}var ad,id,oH,aH,iH,sH,lH,uH,cH,dH,v3,fH=I(()=>{ad=Ne,id=Q(ae()),Ee(),nH(),$e(),aH=L.div(oH||(oH=U([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),sH=L.canvas(iH||(iH=U([`
  position: relative;
  left: 0;
`]))),lH=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},uH=()=>window.devicePixelRatio||1,cH=e=>uH()/lH(e),dH=({layoutP:e,width:t,height:r})=>{let o=(0,id.useRef)(null),[i,s]=(0,id.useState)(null),{ctx:u,ratio:c}=(0,id.useMemo)(()=>{if(!i)return{};let f=i.getContext("2d"),p=cH(f);return{ctx:f,ratio:p}},[i]);return(0,id.useLayoutEffect)(()=>{if(!u)return;i.width=t*c,i.height=r*c;let f=(0,ad.prism)(()=>{let p=(0,ad.val)(e.sheet).getSequence();return{ctx:u,clippedSpaceRange:(0,ad.val)(e.clippedSpace.range),clippedSpaceWidth:(0,ad.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,ad.val)(e.clippedSpace.fromUnitSpace),height:r,leftPadding:(0,ad.val)(e.scaledSpace.leftPadding),fps:p.subUnitsPerUnit,snapToGrid:v=>p.closestGridPosition(v)}}).onChange(ie().ticker,p=>{u.save(),u.scale(c,c),Bre(p),u.restore()},!0);return()=>{f()}},[u,t,r,e]),id.default.createElement(aH,{ref:o,style:{width:t+"px"}},id.default.createElement(sH,{ref:s,style:{width:t+"px",height:r+"px"}}))},v3=dH}),zi,sd,H0,pH,hH,mH,gH,vH,yH,Qx=I(()=>{$e(),Oi(),D_(),Xe(),zi=Ne,sd=Q(ae()),Ee(),wV(),s7(),zre(),fH(),So(),H0={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},hH=L.div(pH||(pH=U([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),Oa(.03,"#1a1c1e")),gH=L.svg(mH||(mH=U([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),vH=({layoutP:e})=>bt(()=>{let t=(0,zi.val)(e.sheet),r=(0,zi.val)(ie().atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequenceEditor.selectedPropsByObject),o=(0,zi.val)(e.graphEditorDims.height),i=(0,zi.val)(e.scaledSpace.fromUnitSpace)(1),s=[];if(r)for(let[c,f]of Object.entries(r)){let p=t.getObject(c);if(!p)continue;let v=(0,zi.val)(p.template.getMapOfValidSequenceTracks_forStudio());for(let[b,y]of Object.entries(f)){let g=fx(b),k=Jl(v,g);k&&s.push(sd.default.createElement(eH,{key:"graph-".concat(c,"-").concat(b),sheetObject:p,pathToProp:g,layoutP:e,trackId:k,color:y}))}}let u=(0,zi.val)(e.rightDims.width);return sd.default.createElement(hH,{style:{width:u+"px",height:o+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,zi.val)(e.graphEditorVerticalSpace.space))}},sd.default.createElement(v3,{layoutP:e,width:u,height:o}),sd.default.createElement(Sj,{layoutP:e,height:o},sd.default.createElement(gH,{width:$x,height:o,viewBox:"0 0 ".concat($x," ").concat(o)},sd.default.createElement("g",{style:{transform:"translate(".concat((0,zi.val)(e.scaledSpace.leftPadding),"px, ").concat((0,zi.val)(e.graphEditorDims.padding.top),"px)")}},s))))},[e]),yH=vH}),bH,Yo,wH,kH,_H,xH,y3,SH,EH,PH,CH,IH,jH,OH,Nre=I(()=>{$e(),Oi(),z_(),Xe(),bH=Ne,Yo=Q(ae()),Ee(),I5(),M_(),Qx(),cx(),Hc(),iM(),wH={label:{color:"#9a9a9a"}},_H=L(lj)(kH||(kH=U([""]))),y3=L(uj)(xH||(xH=U([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),wH.label.color),EH=L.button(SH||(SH=U([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),e=>e.isSelected?H0[e.graphEditorColor].iconColor:eu.offColor),PH=()=>Yo.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},Yo.default.createElement("g",{transform:"translate(0 100)"},Yo.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),IH=L.span(CH||(CH=U([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),Ql,y3),jH=({leaf:e})=>{var t;let r=o0(e.sheetObject.propsP,e.pathToProp),o=e.sheetObject,{controlIndicators:i}=C5(r,o,e.propConf),s=bt(()=>{let b=e.sheetObject.address,y=ji(e.pathToProp);return(0,bH.val)(ie().atomP.historic.projects.stateByProjectId[b.projectId].stateBySheetId[b.sheetId].sequenceEditor.selectedPropsByObject[b.objectKey][y])},[e]),u=(0,Yo.useRef)(!1),c=typeof s=="string";u.current=c;let f=(0,Yo.useCallback)(()=>{let b=e.sheetObject.address;ie().transaction(({stateEditors:y})=>{u.current?y.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(Se(J({},b),{pathToProp:e.pathToProp})):(y.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(Se(J({},b),{pathToProp:e.pathToProp})),y.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[e]),p=(t=e.propConf.label)!=null?t:e.pathToProp[e.pathToProp.length-1],v=(0,Yo.useRef)(null);return oM(v.current,e),Yo.default.createElement(_H,{depth:e.depth},Yo.default.createElement(y3,{ref:v,isEven:e.n%2===0,style:{height:e.nodeHeight+"px"},isSelected:c===!0},Yo.default.createElement(IH,null,p),i,Yo.default.createElement(EH,{onClick:f,isSelected:c===!0,graphEditorColor:s!=null?s:"1",style:{opacity:1},disabled:!1},Yo.default.createElement(PH,null))))},OH=jH});function b3(e,t){ie().transaction(({stateEditors:r})=>{r.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(Se(J({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))})}var w3=I(()=>{$e()}),Dh,k3,TH,Rre=I(()=>{Dh=Q(ae()),cx(),Nre(),w3(),k3=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?e.type==="propWithChildren"?Dh.default.createElement(TH,{leaf:e,key:t}):Dh.default.createElement(OH,{leaf:e,key:t}):Dh.default.createElement(Dh.default.Fragment,{key:t})},TH=({leaf:e})=>Dh.default.createElement(ux,{leaf:e,label:e.pathToProp[e.pathToProp.length-1],isCollapsed:e.isCollapsed,toggleCollapsed:()=>b3(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>k3(t)))}),AH,DH,zH,Fre=I(()=>{AH=Q(ae()),cx(),Rre(),w3(),$e(),DH=({leaf:e})=>AH.default.createElement(ux,{leaf:e,label:e.sheetObject.address.objectKey,isCollapsed:e.isCollapsed,toggleSelect:()=>{ie().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e.sheetObject])})},toggleCollapsed:()=>b3(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>k3(t))),zH=DH}),_3,BH,NH,Mre=I(()=>{Xe(),_3=Q(ae()),Fre(),cx(),w3(),WN(),BH=({leaf:e})=>bt(()=>_3.default.createElement(ux,{leaf:e,label:e.sheet.address.sheetId,isCollapsed:e.isCollapsed,toggleCollapsed:()=>{b3(!e.isCollapsed,{sheetAddress:e.sheet.address,sheetItemKey:e.sheetItemKey})}},e.children.map(t=>_3.default.createElement(zH,{key:"sheetObject-"+KN(t.sheetObject),leaf:t}))),[e]),NH=BH}),x3,Jx,RH,FH,MH,UH,VH,HH,Ure=I(()=>{Xe(),x3=Ne,Jx=Q(ae()),Ee(),Mre(),FH=L.div(RH||(RH=U([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),UH=L.ul(MH||(MH=U([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),VH=({layoutP:e})=>bt(()=>{let t=(0,x3.val)(e.tree),r=(0,x3.val)(e.leftDims.width);return Jx.default.createElement(FH,{style:{width:r+"px",top:t.top+"px"}},Jx.default.createElement(UH,null,Jx.default.createElement(NH,{leaf:t})))},[e]),HH=VH}),S3,LH,KH,qH,WH,Vre=I(()=>{Dt(),Gs(),Xe(),So(),S3=Q(ae()),Ee(),fH(),KH=L.div(LH||(LH=U([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>Ui.rightBackground,Oa(.01,Av(1*.03,rh.panel.bg))),qH=({layoutP:e})=>{let t=_t(e.rightDims.width),r=_t(e.panelDims.height);return S3.default.createElement(KH,{style:{width:t+"px"}},S3.default.createElement(v3,{width:t,height:r,layoutP:e}))},WH=qH}),zh,$H,GH,ZH,XH,Hre=I(()=>{Xe(),zh=Q(ae()),Ee(),Ure(),Vre(),wV(),BM(),GH=L.div($H||($H=U([`
  position: absolute;
  left: 0;
  right: 0;
`]))),ZH=({layoutP:e})=>{let t=_t(e.dopeSheetDims.height);return zh.default.createElement(GH,{style:{height:t+"px"}},zh.default.createElement(WH,{layoutP:e}),zh.default.createElement(zM,null,zh.default.createElement(HH,{layoutP:e}),zh.default.createElement(bV,{layoutP:e})))},XH=ZH});function Lre(e,t,r){return E3.prism.memo(e,()=>(0,E3.prism)(t),r).getValue()}var E3,Kre=I(()=>{E3=Ne});function Jt(e){return function(t,r){return e(t,r())}}function Co(e){return Object.freeze({audience:ld(e,8)?"internal":ld(e,16)?"dev":"public",category:ld(e,4)?"troubleshooting":ld(e,2)?"todo":"general",level:ld(e,512)?512:ld(e,256)?256:ld(e,128)?128:64})}function ld(e,t){return(e&t)===t}function er(e,t){return((t&32)===32?!0:(t&16)===16?e.dev:(t&8)===8?e.internal:!1)&&e.min<=t}function YH(e=console,t={}){let r=Se(J({},Bi),{includes:J({},Bi.includes)}),o={styled:$re.bind(r,e),noStyle:Zre.bind(r,e)},i=Wre.bind(r);function s(){return r.loggingConsoleStyle&&r.loggerConsoleStyle?o.styled:o.noStyle}return r.create=s(),{configureLogger(u){var c;u==="console"?(r.loggerConsoleStyle=Bi.loggerConsoleStyle,r.create=s()):u.type==="console"?(r.loggerConsoleStyle=(c=u.style)!=null?c:Bi.loggerConsoleStyle,r.create=s()):u.type==="keyed"?(r.creatExt=f=>u.keyed(f.names),r.create=i):u.type==="named"&&(r.creatExt=qre.bind(null,u.named),r.create=i)},configureLogging(u){var c,f,p,v,b;r.includes.dev=(c=u.dev)!=null?c:Bi.includes.dev,r.includes.internal=(f=u.internal)!=null?f:Bi.includes.internal,r.includes.min=(p=u.min)!=null?p:Bi.includes.min,r.include=(v=u.include)!=null?v:Bi.include,r.loggingConsoleStyle=(b=u.consoleStyle)!=null?b:Bi.loggingConsoleStyle,r.create=s()},getLogger(){return r.create({names:[]})}}}function qre(e,t){let r=[];for(let{name:o,key:i}of t.names)r.push(i==null?o:"".concat(o," (").concat(i,")"));return e(r)}function Wre(e){let t=J(J({},this.includes),this.include(e)),r=this.filtered,o=this.named.bind(this,e),i=this.creatExt(e),s=er(t,524),u=er(t,522),c=er(t,521),f=er(t,529),p=er(t,545),v=er(t,265),b=er(t,268),y=er(t,273),g=er(t,289),k=er(t,137),w=er(t,145),x=er(t,73),E=er(t,81),P=s?i.error.bind(i,to._hmm):r.bind(e,524),O=u?i.error.bind(i,to._todo):r.bind(e,522),B=c?i.error.bind(i,to._error):r.bind(e,521),z=f?i.error.bind(i,to.errorDev):r.bind(e,529),F=p?i.error.bind(i,to.errorPublic):r.bind(e,545),Z=b?i.warn.bind(i,to._kapow):r.bind(e,268),ee=v?i.warn.bind(i,to._warn):r.bind(e,265),K=y?i.warn.bind(i,to.warnDev):r.bind(e,273),ne=g?i.warn.bind(i,to.warnPublic):r.bind(e,273),me=k?i.debug.bind(i,to._debug):r.bind(e,137),M=w?i.debug.bind(i,to.debugDev):r.bind(e,145),oe=x?i.trace.bind(i,to._trace):r.bind(e,73),T=E?i.trace.bind(i,to.traceDev):r.bind(e,81),ue={_hmm:P,_todo:O,_error:B,errorDev:z,errorPublic:F,_kapow:Z,_warn:ee,warnDev:K,warnPublic:ne,_debug:me,debugDev:M,_trace:oe,traceDev:T,lazy:{_hmm:s?Jt(P):P,_todo:u?Jt(O):O,_error:c?Jt(B):B,errorDev:f?Jt(z):z,errorPublic:p?Jt(F):F,_kapow:b?Jt(Z):Z,_warn:v?Jt(ee):ee,warnDev:y?Jt(K):K,warnPublic:g?Jt(ne):ne,_debug:k?Jt(me):me,debugDev:w?Jt(M):M,_trace:x?Jt(oe):oe,traceDev:E?Jt(T):T},named:o,utilFor:{internal(){return{debug:ue._debug,error:ue._error,warn:ue._warn,trace:ue._trace,named(Re,te){return ue.named(Re,te).utilFor.internal()}}},dev(){return{debug:ue.debugDev,error:ue.errorDev,warn:ue.warnDev,trace:ue.traceDev,named(Re,te){return ue.named(Re,te).utilFor.dev()}}},public(){return{error:ue.errorPublic,warn:ue.warnPublic,debug(Re,te){ue._warn('(public "debug" filtered out) '.concat(Re),te)},trace(Re,te){ue._warn('(public "trace" filtered out) '.concat(Re),te)},named(Re,te){return ue.named(Re,te).utilFor.public()}}}}};return ue}function $re(e,t){let r=J(J({},this.includes),this.include(t)),o=[],i="";for(let f=0;f<t.names.length;f++){let{name:p,key:v}=t.names[f];if(i+=" %c".concat(p),o.push(this.style.css(p)),v!=null){let b="%c#".concat(v);i+=b,o.push(this.style.css(b))}}let s=this.filtered,u=this.named.bind(this,t),c=[i,...o];return QH(s,t,r,e,c,Gre(c),u)}function Gre(e){let t=e.slice(0);for(let r=1;r<t.length;r++)t[r]+=";background-color:#e0005a;padding:2px;color:white";return t}function Zre(e,t){let r=J(J({},this.includes),this.include(t)),o="";for(let c=0;c<t.names.length;c++){let{name:f,key:p}=t.names[c];o+=" ".concat(f),p!=null&&(o+="#".concat(p))}let i=this.filtered,s=this.named.bind(this,t),u=[o];return QH(i,t,r,e,u,u,s)}function QH(e,t,r,o,i,s,u){let c=er(r,524),f=er(r,522),p=er(r,521),v=er(r,529),b=er(r,545),y=er(r,265),g=er(r,268),k=er(r,273),w=er(r,289),x=er(r,137),E=er(r,145),P=er(r,73),O=er(r,81),B=c?o.error.bind(o,...i):e.bind(t,524),z=f?o.error.bind(o,...i):e.bind(t,522),F=p?o.error.bind(o,...i):e.bind(t,521),Z=v?o.error.bind(o,...i):e.bind(t,529),ee=b?o.error.bind(o,...i):e.bind(t,545),K=g?o.warn.bind(o,...s):e.bind(t,268),ne=y?o.warn.bind(o,...i):e.bind(t,265),me=k?o.warn.bind(o,...i):e.bind(t,273),M=w?o.warn.bind(o,...i):e.bind(t,273),oe=x?o.info.bind(o,...i):e.bind(t,137),T=E?o.info.bind(o,...i):e.bind(t,145),ue=P?o.debug.bind(o,...i):e.bind(t,73),Re=O?o.debug.bind(o,...i):e.bind(t,81),te={_hmm:B,_todo:z,_error:F,errorDev:Z,errorPublic:ee,_kapow:K,_warn:ne,warnDev:me,warnPublic:M,_debug:oe,debugDev:T,_trace:ue,traceDev:Re,lazy:{_hmm:c?Jt(B):B,_todo:f?Jt(z):z,_error:p?Jt(F):F,errorDev:v?Jt(Z):Z,errorPublic:b?Jt(ee):ee,_kapow:g?Jt(K):K,_warn:y?Jt(ne):ne,warnDev:k?Jt(me):me,warnPublic:w?Jt(M):M,_debug:x?Jt(oe):oe,debugDev:E?Jt(T):T,_trace:P?Jt(ue):ue,traceDev:O?Jt(Re):Re},named:u,utilFor:{internal(){return{debug:te._debug,error:te._error,warn:te._warn,trace:te._trace,named(Y,de){return te.named(Y,de).utilFor.internal()}}},dev(){return{debug:te.debugDev,error:te.errorDev,warn:te.warnDev,trace:te.traceDev,named(Y,de){return te.named(Y,de).utilFor.dev()}}},public(){return{error:te.errorPublic,warn:te.warnPublic,debug(Y,de){te._warn('(public "debug" filtered out) '.concat(Y),de)},trace(Y,de){te._warn('(public "trace" filtered out) '.concat(Y),de)},named(Y,de){return te.named(Y,de).utilFor.public()}}}}};return te}var to,Bi,JH=I(()=>{to={_hmm:Co(524),_todo:Co(522),_error:Co(521),errorDev:Co(529),errorPublic:Co(545),_kapow:Co(268),_warn:Co(265),warnDev:Co(273),warnPublic:Co(289),_debug:Co(137),debugDev:Co(145),_trace:Co(73),traceDev:Co(81)},Bi={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,r){return this.create({names:[...e.names,{name:t,key:r}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,r,o,i;let s=this.cssMemo.get(e);if(s)return s;let u="color:".concat((r=(t=this.color)==null?void 0:t.call(this,e))!=null?r:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(o=this.bold)!=null&&o.test(e)&&(u+=";font-weight:600"),(i=this.italic)!=null&&i.test(e)&&(u+=";font-style:italic"),this.cssMemo.set(e,u),u}}}}),P3,eS,tS=I(()=>{JH(),JH(),P3=YH(console,{}),P3.configureLogging({dev:!0,min:64}),eS=P3.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),du,ud,eL,Xre=I(()=>{Fs(),du=Ne,tS(),Ts(),ud=28,eL=(e,t)=>{var r;du.prism.ensurePrism();let o=!0,i=e_+ud,s=0,u=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,c=u.byId[Rr.forSheet()].isCollapsed,f=(r=(0,du.pointerToPrism)(c).getValue())!=null?r:!1,p={type:"sheet",isCollapsed:f,sheet:e,children:[],sheetItemKey:Rr.forSheet(),shouldRender:o,top:e_,depth:0,n:s,nodeHeight:o?ud:0,heightIncludingChildren:-1};s+=1;for(let w of Object.values((0,du.val)(e.objectsP)))w&&v(w,p.children,p.depth+1,!f);p.heightIncludingChildren=i-p.top;function v(w,x,E,P){var O;let B=(0,du.val)(w.template.getMapOfValidSequenceTracks_forStudio()),z=(0,du.val)(w.template.configPointer);if(Object.keys(B).length===0)return;let F=u.byId[Rr.forSheetObject(w)].isCollapsed,Z=(O=(0,du.pointerToPrism)(F).getValue())!=null?O:!1,ee={type:"sheetObject",isCollapsed:Z,sheetItemKey:Rr.forSheetObject(w),shouldRender:P,top:i,children:[],depth:E,n:s,sheetObject:w,nodeHeight:P?ud:0,heightIncludingChildren:-1};x.push(ee),P&&(s+=1,i+=ee.nodeHeight),b(w,B,[],z,ee.children,E+1,P&&!Z),ee.heightIncludingChildren=i-ee.top}function b(w,x,E,P,O,B,z){for(let[F,Z]of Object.entries(x)){let ee=P.props[F];y(w,Z,[...E,F],ee,O,B,z)}}function y(w,x,E,P,O,B,z){P.type==="compound"?g(w,x,P,E,P,O,B,z):P.type==="enum"?eS.warn("Prop type enum is not yet supported in the sequence editor"):k(w,x,E,P,O,B,z)}function g(w,x,E,P,O,B,z,F){var Z;let ee=u.byId[Rr.forSheetObjectProp(w,P)].isCollapsed,K=(Z=(0,du.pointerToPrism)(ee).getValue())!=null?Z:!1,ne={type:"propWithChildren",isCollapsed:K,propConf:E,pathToProp:P,sheetItemKey:Rr.forSheetObjectProp(w,P),sheetObject:w,shouldRender:F,top:i,children:[],nodeHeight:F?ud:0,heightIncludingChildren:-1,depth:z,trackMapping:x,n:s};B.push(ne),F&&(i+=ne.nodeHeight,s+=1),b(w,x,P,O,ne.children,z+1,F&&!K),ne.heightIncludingChildren=i-ne.top}function k(w,x,E,P,O,B,z){let F={type:"primitiveProp",propConf:P,depth:B,sheetItemKey:Rr.forSheetObjectProp(w,E),sheetObject:w,pathToProp:E,shouldRender:z,top:i,nodeHeight:z?ud:0,heightIncludingChildren:z?ud:0,trackId:x,n:s};O.push(F),s+=1,i+=F.nodeHeight}return p}});function Yre(e,t){let r=ie(),o=r.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=r.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,ro.prism)(()=>{var s;let u=Lre("tree",()=>eL(e,r),[]),c=(0,ro.val)(t),f=(0,ro.val)(r.atomP.historic.panels.sequenceEditor.graphEditor),p=(0,ro.val)(i.sequenceEditor.selectedPropsByObject),v=!!p&&Object.keys(p).length>0,{leftDims:b,rightDims:y,graphEditorDims:g,dopeSheetDims:k,horizontalScrollbarDims:w}=ro.prism.memo("leftDims",()=>{var ne;let me={width:Math.floor(c.width*tL),height:c.height,screenX:c.screenX,screenY:c.screenY},M={width:c.width-me.width,height:c.height,screenX:c.screenX+me.width,screenY:c.screenY},oe=v&&(f==null?void 0:f.isOpen)===!0,T=Math.floor((oe?Xt((ne=f==null?void 0:f.height)!=null?ne:.5,.1,.7):0)*c.heightWithoutBorder),ue=0+T,Re=c.height-ue,te={width:c.width,height:Re,screenX:c.screenX,screenY:c.screenY},Y={isAvailable:v,isOpen:oe,width:M.width,height:T,screenX:c.screenX,screenY:c.screenY+Re,padding:{top:20,bottom:20}};return{leftDims:me,rightDims:M,graphEditorDims:Y,dopeSheetDims:te,horizontalScrollbarDims:{bottom:0}}},[c,f,v]),x=ro.prism.memo("graphEditorVerticalSpace",()=>{let ne=g.height-g.padding.top-g.padding.bottom;return{space:ne,fromExtremumSpace(me){return me*ne},toExtremumSpace(me){return me/ne}}},[g]),[E,P]=ro.prism.state("isSeeking",!1),O={isSeeking:E,setIsSeeking:P},B={},z=(s=(0,ro.val)(o.sequence.clippedSpaceRange))!=null?s:rL,F=ro.prism.memo("scaledSpace",()=>{let ne=z.end-z.start,me=y.width,M=ne/me,oe=me/ne;return{fromUnitSpace(T){return T*oe},toUnitSpace(T){return T*M},leftPadding:10}},[z,y.width]),Z=ro.prism.memo("setClippedSpaceRange",()=>function(ne){r.transaction(({stateEditors:me})=>{let M=J({},ne);if(M.end<=M.start&&(M.end=M.start+1),M.start<0){let oe=M.end-M.start;M.start=0,M.end=oe}me.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(Se(J({},e.address),{range:M}))})},[]),ee=ro.prism.memo("clippedSpace",()=>({range:z,width:y.width,fromUnitSpace(ne){return F.fromUnitSpace(ne-z.start)+F.leftPadding},toUnitSpace(ne){return F.toUnitSpace(ne-F.leftPadding)+z.start},setRange:Z}),[z,y.width,F,Z]),K=ro.prism.memo("selection.current",()=>new ro.Atom({}),[]);return sj("finalAtom",{sheet:e,tree:u,panelDims:c,leftDims:b,rightDims:y,dopeSheetDims:k,horizontalScrollbarDims:w,seeker:O,unitSpace:B,scaledSpace:F,clippedSpace:ee,graphEditorDims:g,graphEditorVerticalSpace:x,selectionAtom:K}).pointer})}var ro,tL,rL,Qre=I(()=>{$e(),Kre(),nM(),ro=Ne,Xre(),_r(),tL=.2,rL={start:0,end:10}});function Jre(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:r,snapToGrid:o,unitSpaceToClippedSpace:i}=e,s="";tH(e,(u,c)=>{let f=o(u),p=i(f);c?s+=nL(r.formatFullUnitForGrid(f),p,"full-unit"):s+=nL(r.formatSubUnitForGrid(f),p,"sub-unit")}),t.innerHTML=s}function nL(e,t,r){return'<span class="'.concat(r,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var cd,dd,oL,aL,fu,iL,sL,lL,uL,cL,dL,fL=I(()=>{cd=Ne,So(),dd=Q(ae()),Ee(),nH(),$e(),aL=L.div(oL||(oL=U([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),fu={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return Av(.2,fu.fullUnitStampColor)}},sL=L.div(iL||(iL=U([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),uL=L.div(lL||(lL=U([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),fu.fullUnitStampColor,fu.stampFontSize,fu.fullUnitStampColor,fu.subUnitStampColor),cL=({layoutP:e,width:t})=>{let r=(0,dd.useRef)(null),[o,i]=(0,dd.useState)(null);return(0,dd.useLayoutEffect)(()=>{if(o)return(0,cd.prism)(()=>{let s=(0,cd.val)(e.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,cd.val)(e.clippedSpace.range),clippedSpaceWidth:(0,cd.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,cd.val)(e.clippedSpace.fromUnitSpace),leftPadding:(0,cd.val)(e.scaledSpace.leftPadding),fps:s.subUnitsPerUnit,sequencePositionFormatter:s.positionFormatter,snapToGrid:u=>s.closestGridPosition(u)}}).onChange(ie().ticker,Jre,!0)},[o,t,e]),dd.default.createElement(aL,{ref:r,style:{width:t+"px"}},dd.default.createElement(sL,{style:{width:t+"px"}},dd.default.createElement(uL,{ref:i})))},dL=cL});function ene(e){let[t,r]=(0,C3.useState)(!1);return(0,C3.useEffect)(()=>{if(r(!1),!e)return;let o=s=>{s.target===e?r(!0):r(!1)},i=()=>{r(!1)};return e.addEventListener("mouseenter",o),e.addEventListener("mousemove",o),e.addEventListener("mouseleave",i),()=>{r(!1),e.removeEventListener("mouseenter",o),e.removeEventListener("mousemove",o),e.removeEventListener("mouseleave",i)}},[e]),t}var C3,tne=I(()=>{C3=Q(ae())});function rne(e,t){let r=0,[o,i]=e,[s,u]=t;return i-o>u-s?[s,u]:(o<s&&(r=0-o),i>u&&(r=u-i),[o+r,i+r])}var Ni,pu,Ar,I3,pL,rS,hL,mL,gL=I(()=>{Ni=Ne,Xe(),Dt(),$e(),pd(),Mn(),Tr(),At(),pu=Q(ae()),Ee(),rn(),Ar={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},I3=1e3,rS=L.div(pL||(pL=U([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>Fi-1,e=>e.enabled?Ar.enabled.backgroundColor:Ar.disabled.backgroundColor,I3,Ar.hover.backgroundColor,Ar.dragging.backgroundColor,Ot),hL=({layoutP:e})=>{let t=(0,pu.useMemo)(()=>(0,Ni.prism)(()=>{let{projectId:p,sheetId:v}=(0,Ni.val)(e.sheet).address;return(0,Ni.val)(ie().atomP.ahistoric.projects.stateByProjectId[p].stateBySheetId[v].sequence.focusRange)}),[e]),[r,o]=Ct(null),[i]=Fn(o,{menuItems:()=>{let p=(0,Ni.val)(e.sheet),v=t.getValue();return[{label:"Delete focus range",callback:()=>{ie().tempTransaction(({stateEditors:b})=>{b.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(J({},p.address))}).commit()}},{label:v!=null&&v.enabled?"Disable focus range":"Enable focus range",callback:()=>{v!==void 0&&ie().tempTransaction(({stateEditors:b})=>{b.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Se(J({},p.address),{range:v.range,enabled:!v.enabled}))}).commit()}}]}}),s=_t(e.scaledSpace.toUnitSpace),u=_t(e.sheet),c=(0,pu.useMemo)(()=>{let p,v;return{debugName:"FocusRangeStrip",onDragStart(b){let y,g=t.getValue();if(!g)return!1;let k=g.range.start,w=g.range.end,x=!1,E=(0,Ni.val)(e.sheet).getSequence();return{onDrag(P){if(g=t.getValue(),g){x=!0;let O=s(P),B=k+O,z=w+O;z<B&&(z=B),[p,v]=rne([B,z],[0,E.length]).map(F=>E.closestGridPosition(F)),y&&y.discard(),y=ie().tempTransaction(({stateEditors:F})=>{var Z;F.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Se(J({},u.address),{range:{start:p,end:v},enabled:(Z=g==null?void 0:g.enabled)!=null?Z:!0}))})}},onDragEnd(){g&&(x&&y!==void 0?y.commit():y&&y.discard())}}},lockCSSCursorTo:"grabbing"}},[u,s]),[f]=fr(o,c);return Hs(f,-1),bt(()=>{let p=t.getValue(),v=(p==null?void 0:p.range)||{start:0,end:0},b=(0,Ni.val)(e.clippedSpace.fromUnitSpace)(v.start),y=(0,Ni.val)(e.clippedSpace.fromUnitSpace)(v.end),g,k;return b<0&&(b=0),y>(0,Ni.val)(e.clippedSpace.width)&&(y=(0,Ni.val)(e.clippedSpace.width)),b>y?(k=0,g=0):(k=b,g=(y-b)/I3),p?pu.default.createElement(pu.default.Fragment,null,i,pu.default.createElement(rS,{id:"range-strip",enabled:p.enabled,className:"".concat(f?"dragging":""," ").concat(p.enabled?"enabled":""),ref:r,style:{transform:"translateX(".concat(k,"px) scale(").concat(g,", 1)")}})):pu.default.createElement(pu.default.Fragment,null)},[e,r,t,i,f])},mL=hL}),hu,qs,vL,yL,bL,wL,kL,_L,xL,j3,nne=I(()=>{hu=Ne,Xe(),$e(),pd(),Eo(),Tr(),At(),qs=Q(ae()),Ee(),rn(),gL(),Fa(),yL=L.div(vL||(vL=U([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),e=>e.type==="start"?0:-Ar.thumbWidth,Ar.thumbWidth,()=>Fi-1,({enabled:e})=>e?Ar.enabled.backgroundColor:Ar.disabled.backgroundColor,Ar.enabled.stroke,e=>e.type==="start"?"w-resize":"e-resize",Ds,()=>rS,Ar.hover.backgroundColor,Ar.hover.stroke,()=>rS,Ar.dragging.backgroundColor,Ar.dragging.stroke,Ar.dragging.backgroundColor),wL=L.div(bL||(bL=U([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?90:-90,e=>e.type==="start"?Ar.thumbWidth:-Ar.thumbWidth+1),_L=L.div(kL||(kL=U([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?-90:90,()=>L0.backgroundColor,e=>e.type==="start"?-12:Ar.thumbWidth),xL=({layoutP:e,thumbType:t})=>{var r;let[o,i]=Ct(null),s=(0,qs.useMemo)(()=>(0,hu.prism)(()=>{let{projectId:p,sheetId:v}=(0,hu.val)(e.sheet).address;return(0,hu.val)(ie().atomP.ahistoric.projects.stateByProjectId[p].stateBySheetId[v].sequence.focusRange)}),[e]),u=(0,qs.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let p,v,b=(0,hu.val)(e.sheet),y={start:0,end:b.getSequence().length},g=s.getValue()||{range:y,enabled:!1},k=g.enabled,w=g.range[t],x=(0,hu.val)(e.scaledSpace.toUnitSpace),E=x(Ar.rangeStripMinWidth);return{onDrag(P,O,B){var z;let F,Z=Un.checkIfMouseEventSnapToPos(B,{ignore:i});if(Z==null){let K=x(P);F=w+K}else F=Z;v=((z=s.getValue())==null?void 0:z.range)||y,t==="start"?F=Math.max(Math.min(F,v.end-E),0):F=Math.min(Math.max(F,v.start+E),b.getSequence().length);let ee=b.getSequence().closestGridPosition(F);p!==void 0&&p.discard(),p=ie().tempTransaction(({stateEditors:K})=>{K.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Se(J({},b.address),{range:Se(J({},v),{[t]:ee}),enabled:k}))})},onDragEnd(P){P?p==null||p.commit():p==null||p.discard()}}}}),[e]),[c]=fr(i,u);qo(c,"draggingPositionInSequenceEditor",t==="start"?"w-resize":"e-resize");let f=_t(s);return Hs(c,(r=f==null?void 0:f.range[t])!=null?r:0),bt(()=>{let p=s.getValue();if(!p)return null;let{enabled:v}=p,b=p.range[t],y=(0,hu.val)(e.clippedSpace.fromUnitSpace)(b);return(y<0||(0,hu.val)(e.clippedSpace.width)<y)&&(y=-1e4),qs.default.createElement(yL,Se(J(J({ref:o},Un.includePositionSnapAttrs(b)),Ti(b)),{className:"".concat(c&&"dragging"," ").concat(v&&"enabled"),enabled:v,type:t,style:{transform:"translate3d(".concat(y,"px, 0, 0)")}}),qs.default.createElement(wL,{type:t,enabled:v}),qs.default.createElement(_L,{type:t}),qs.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},qs.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),qs.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[e,o,s,c])},j3=xL});function one(e,t){let[r,o]=(0,Ri.useState)("none");return qo(r!=="none","dragging",r==="creating"?"ew-resize":"move"),(0,Ri.useMemo)(()=>{let i=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(u){let c,f=(0,fd.val)(e.clippedSpace.toUnitSpace),p=(0,fd.val)(e.scaledSpace.toUnitSpace),v=(0,fd.val)(e.sheet),b=v.getSequence(),y=u.target.getBoundingClientRect(),g=f(u.clientX-y.left),k=p(Ar.rangeStripMinWidth);return{onDrag(w){let x=p(w),E=g,P=g+x;[E,P]=[Xt(E,0,b.length),Xt(P,0,b.length)].map(O=>b.closestGridPosition(O)),P<E?[E,P]=[Math.max(Math.min(P,E-k),0),E]:w>0&&(P=Math.min(Math.max(P,E+k),b.length)),c&&c.discard(),c=ie().tempTransaction(({stateEditors:O})=>{O.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(Se(J({},v.address),{range:{start:E,end:P},enabled:!0}))})},onDragEnd(w){w&&c!==void 0?c.commit():c&&c.discard()}}},lockCSSCursorTo:"ew-resize"}),s=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let u,c=t.current,f=t.current.addBoundsHighlightLock();return{onDrag(p,v){let b=Se(J({},c.dims),{top:Xt(c.dims.top+v,0,window.innerHeight-yi),left:Xt(c.dims.left+p,-c.dims.width+yi,window.innerWidth-yi)}),y=ix(b,{width:window.innerWidth,height:window.innerHeight});u==null||u.discard(),u=ie().tempTransaction(({stateEditors:g})=>{g.studio.historic.panelPositions.setPanelPosition({position:y,panelId:c.panelId})})},onDragEnd(p){f(),p?u==null||u.commit():u==null||u.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(u){let[c,f]=u.shiftKey?["creating",i().onDragStart(u)]:["moving-panel",s().onDragStart(u)];return o(c),f===!1?!1:{onDrag(p,v,b,y,g){f.onDrag(p,v,b,y,g)},onDragEnd(p){var v;o("none"),(v=f.onDragEnd)==null||v.call(f,p)}}}}},[e,t])}var fd,Ri,SL,EL,PL,CL,ane=I(()=>{fd=Ne,Xe(),$e(),Sh(),pd(),Eo(),Tr(),tne(),bM(),At(),_r(),Ri=Q(ae()),Ee(),gL(),nne(),Ts(),EL=L.div(SL||(SL=U([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>Fi,e=>e.isShiftDown?"ew-resize":"move"),PL=({layoutP:e})=>{let[t,r]=Ct(null),o=xh(),i=(0,Ri.useRef)(o);i.current=o;let s=(0,Ri.useMemo)(()=>(0,fd.prism)(()=>{let{projectId:f,sheetId:p}=(0,fd.val)(e.sheet).address;return(0,fd.val)(ie().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[p].sequence.focusRange)}),[e]);fr(r,one(e,i));let u=vM("Shift"),c=ene(r);return(0,Ri.useEffect)(()=>{if(!u&&c)return i.current.addBoundsHighlightLock()},[!u&&c]),bt(()=>Ri.default.createElement(EL,{ref:t,isShiftDown:u},Ri.default.createElement(mL,{layoutP:e}),Ri.default.createElement(j3,{thumbType:"start",layoutP:e}),Ri.default.createElement(j3,{thumbType:"end",layoutP:e})),[e,s,u])},CL=PL}),Bh,Fi,L0,IL,jL,OL,TL,pd=I(()=>{Xe(),Bh=Q(ae()),Ee(),fL(),rn(),Dt(),ane(),Fi=18,L0={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},jL=L.div(IL||(IL=U([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),Fi,L0.backgroundColor,L0.borderColor,Ot),OL=({layoutP:e})=>{let t=_t(e.rightDims.width);return Bh.default.createElement(Bh.default.Fragment,null,Bh.default.createElement(jL,J({},Ti("hide")),Bh.default.createElement(dL,{layoutP:e,width:t,height:Fi}),Bh.default.createElement(CL,{layoutP:e})))},TL=OL}),hd,AL,DL,zL,BL,NL,RL,FL,ML,ine=I(()=>{hd=Q(ae()),Ee(),Xe(),$e(),zI(),Hc(),AL=e=>isFinite(e)&&e>0,zL=L.div(DL||(DL=U([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),NL=L.div(BL||(BL=U([`
  `,`;
  white-space: nowrap;
`])),Ql),RL=({deltaX:e})=>e*.25,FL=({layoutP:e})=>{let t=_t(e.sheet),r=(0,hd.useMemo)(()=>{let i;return{temporarilySetValue(s){i&&(i.discard(),i=void 0),i=ie().tempTransaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.setLength(Se(J({},t.address),{length:s}))})},discardTemporaryValue(){i&&(i.discard(),i=void 0)},permanentlySetValue(s){i&&(i.discard(),i=void 0),ie().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.setLength(Se(J({},t.address),{length:s}))})}}},[e,t]),o=(0,hd.useRef)(null);return(0,hd.useLayoutEffect)(()=>{o.current.focus()},[]),bt(()=>{let i=t.getSequence().length;return hd.default.createElement(zL,null,hd.default.createElement(NL,null,"Sequence length"),hd.default.createElement(u_,Se(J({value:i},r),{isValid:AL,inputRef:o,nudge:RL})))},[t,r,o])},ML=FL});function sne(e,t){let r=(0,no.useRef)(t);r.current=t;let o=(0,no.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(s){let u,c=r.current,f=(0,md.val)(r.current.layoutP.sheet),p=f.getSequence().length,v=(0,md.val)(c.layoutP.scaledSpace.toUnitSpace);return{onDrag(b,y,g){let k=v(b);u&&(u.discard(),u=void 0),u=ie().tempTransaction(({stateEditors:w})=>{w.coreByProject.historic.sheetsById.sequence.setLength(Se(J({},f.address),{length:p+k}))})},onDragEnd(b){b?u&&u.commit():u&&u.discard()}}}}),[]),[i]=fr(e,o);return Hs(i,-1),[i]}var md,no,O3,K0,UL,mu,VL,HL,LL,KL,qL,WL,$L,GL,ZL,XL,YL,lne=I(()=>{Xe(),md=Ne,no=Q(ae()),Ee(),Gs(),pd(),At(),Tr(),$e(),xi(),rn(),dh(),ine(),Dt(),Ei(),O3=1e3,K0={stripNormal:"#0000006c",stripActive:"#000000"},mu=L.div(UL||(UL=U([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>Ui.lengthIndicatorStrip,Fi,K0.stripNormal,K0.stripActive),HL=L.div(VL||(VL=U([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),Fi-15),KL=L.div(LL||(LL=U([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),Ot,mu,mu,K0.stripActive),WL=L.div(qL||(qL=U([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),Ot,mu,mu,K0.stripActive),GL=L.div($L||($L=U([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),O3,()=>Ui.lengthIndicatorCover,mu,mu),ZL=-1e4,XL=({layoutP:e})=>{let[t,r]=Ct(null),[o]=sne(r,{layoutP:e}),{node:i,toggle:s,close:u}=_i({debugName:"LengthIndicator"},()=>no.default.createElement(Si,null,no.default.createElement(ML,{layoutP:e,onRequestClose:u})));return bt(()=>{let c=(0,md.val)(e.sheet),f=(0,md.val)(e.rightDims.height),p=c.getSequence(),v=p.length,b=v,y=(0,md.val)(e.clippedSpace.fromUnitSpace)(b),g=(0,md.val)(e.clippedSpace.width),k,w;return y>g?(w=0,k=0):(y<0&&(y=0),w=y,k=(g-y)/O3),no.default.createElement(no.default.Fragment,null,i,no.default.createElement(mu,{style:{height:f+"px",transform:"translateX(".concat(w===0?ZL:w,"px)")},className:o?"dragging":""},no.default.createElement(HL,null,no.default.createElement(WL,J({ref:t,onClick:x=>{s(x,r)}},Ti("hide")),no.default.createElement(YQ,null),no.default.createElement(QQ,null)),no.default.createElement(KL,null,"Sequence length:"," ",p.positionFormatter.formatBasic(v)))),no.default.createElement(GL,{title:"Length",style:{height:f+"px",transform:"translateX(".concat(w,"px) scale(").concat(k,", 1)")}}))},[e,t,o,i])},YL=XL}),T3,Ws,QL,JL,eK,tK,rK,nK,oK,aK,une=I(()=>{Xe(),T3=Ne,Ws=Q(ae()),Ee(),fL(),Gs(),pd(),rn(),JL=L.div(QL||(QL=U([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),tK=L.div(eK||(eK=U([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),fu.stampFontSize,fu.fullUnitStampColor,L0.backgroundColor,()=>Ui.currentFrameStamp),nK=L.div(rK||(rK=U([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),oK=Ws.default.memo(({layoutP:e})=>{let[t,r]=_t(VM()),o=_t(e.clippedSpace.fromUnitSpace),{sequence:i,formatter:s,clippedSpaceWidth:u}=bt(()=>{let v=(0,T3.val)(e.sheet).getSequence(),b=(0,T3.val)(e.clippedSpace.width);return{sequence:v,formatter:v.positionFormatter,clippedSpaceWidth:b}},[e]);if(t==-1)return Ws.default.createElement(Ws.default.Fragment,null);let c=r===3?i.closestGridPosition(t):t,f=o(c),p=f>=0&&f<=u;return Ws.default.createElement(Ws.default.Fragment,null,Ws.default.createElement(JL,null,Ws.default.createElement(tK,{style:{opacity:p?1:0,transform:"translate3d(calc(".concat(f,"px - 50%), 0, 0)")}},s.formatForPlayhead(c)),Ws.default.createElement(nK,{posType:r,style:{opacity:p?1:0,transform:"translate3d(".concat(f,"px, 0, 0)")}}))," ")}),aK=oK}),Ma,Ln,iK,sK,lK,uK,cK,nS,dK,A3,fK,oS,pK,aS,hK,D3,mK,gK,cne=I(()=>{Xe(),Ma=Ne,iv(),So(),Ln=Q(ae()),Ee(),Gs(),rn(),Dt(),Tr(),sK=L.div(iK||(iK=U([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>Ui.horizontalScrollbar,Ot),uK=L.div(lK||(lK=U([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),nS=L.div(cK||(cK=U([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),FC("absolute","-4px")),A3=L.div(dK||(dK=U([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),FC("absolute","0"),FC("absolute","-4px")),oS=L(A3)(fK||(fK=U([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),aS=L(A3)(pK||(pK=U([`
  cursor: e-resize;
  left: 0px;
`]))),D3=L.div(hK||(hK=U([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),e=>e.active?"block":"none",oS,aS,nS,oS,nS,aS),mK=({layoutP:e})=>{let t=(0,Ln.useCallback)(x=>x.toFixed(2),[]),r=(0,Ln.useMemo)(()=>(0,Ma.prism)(()=>{let x=(0,Ma.val)(e.rightDims.width)-25,E=(0,Ma.val)(e.clippedSpace.range),P=(0,Ma.val)(e.sheet).getSequence().length,O=Math.max(E.end,P),B=E.start/O*x,z=E.end/O*x;return{rightWidth:x,clippedSpaceRange:E,sequenceLength:P,assumedLengthOfSequence:O,rangeStartX:B,rangeEndX:z,bottom:(0,Ma.val)(e.horizontalScrollbarDims.bottom)}}),[e]),{rangeStartX:o,rangeEndX:i,clippedSpaceRange:s,bottom:u}=_t(r),[c,f]=(0,Ln.useState)("nothing"),p=(0,Ln.useMemo)(()=>{let x=(0,Ma.val)(r),E=()=>{x=(0,Ma.val)(r)},P=O=>O/x.rightWidth*x.assumedLengthOfSequence;return{onRangeDragStart(){return E(),{onDrag(O){f("both");let B=P(O),z=ci(x.clippedSpaceRange,F=>F+B);(0,Ma.val)(e.clippedSpace.setRange)(z)},onDragEnd(){f("nothing")}}},onRangeStartDragStart(){return E(),{onDrag(O){f("start");let B=P(O),z={start:x.clippedSpaceRange.start+B,end:x.clippedSpaceRange.end};z.start>z.end-1&&(z.start=z.end-1),z.start<=0&&(z.start=0),(0,Ma.val)(e.clippedSpace.setRange)(z)},onDragEnd(){f("nothing")}}},onRangeEndDragStart(){return E(),{onDrag(O){f("end");let B=P(O),z={start:x.clippedSpaceRange.start,end:x.clippedSpaceRange.end+B};z.end<z.start+1&&(z.end=z.start+1),z.end>=x.assumedLengthOfSequence&&(z.end=x.assumedLengthOfSequence),(0,Ma.val)(e.clippedSpace.setRange)(z)},onDragEnd(){f("nothing")}}}}},[e,r]),[v,b]=(0,Ln.useState)(null);fr(v,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:p.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[y,g]=(0,Ln.useState)(null);fr(y,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:p.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[k,w]=(0,Ln.useState)(null);return fr(k,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:p.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),Ln.default.createElement(sK,J({style:{bottom:u+8+"px"}},Ti("hide")),Ln.default.createElement(uK,null,Ln.default.createElement(nS,{ref:b,style:{width:"".concat(i-o,"px"),transform:"translate3d(".concat(o,"px, 0, 0)")}}),Ln.default.createElement(oS,{ref:g,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},Ln.default.createElement(D3,{active:c==="both"||c==="start"},t(s.start))),Ln.default.createElement(aS,{ref:w,style:{transform:"translate3d(".concat(i,"px, 0, 0)")}},Ln.default.createElement(D3,{active:c==="both"||c==="end"},t(s.end)))))},gK=mK}),vK,yK,bK,wK,kK,dne=I(()=>{vK=Q(ae()),Ee(),bK=L.div(yK||(yK=U([`
  position: absolute;
  inset: `,`px;
`])),e=>e.room*-1),wK=e=>vK.default.createElement(bK,{room:e.room}),kK=wK}),iS,sS,z3,_K,xK,SK,EK,PK,CK,IK,jK,fne=I(()=>{Ee(),Xe(),zI(),Hc(),iS=Q(ae()),sS=Q(ae()),z3=Ne,wc(),_K=e=>isFinite(e)&&e>=0,SK=L.div(xK||(xK=U([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),PK=L.div(EK||(EK=U([`
  `,`;
  white-space: nowrap;
`])),Ql),CK=({deltaX:e})=>e*.25,IK=({layoutP:e,onRequestClose:t})=>{let r=(0,z3.val)(e.sheet),o=r.getSequence(),i=(0,iS.useMemo)(()=>{let u,c=o.position;return{temporarilySetValue(f){u&&(u=void 0),u=Xt(f,0,o.length),o.position=u},discardTemporaryValue(){u&&(u=void 0,o.position=c,t("discardTemporaryValue"))},permanentlySetValue(f){u&&(u=void 0),o.position=Xt(f,0,o.length),t("permanentlySetValue")}}},[e,o]),s=(0,iS.useRef)(null);return(0,iS.useLayoutEffect)(()=>{s.current.focus()},[]),bt(()=>{let u=r.getSequence(),c=Number((0,z3.val)(u.pointer.position).toFixed(3));return sS.default.createElement(SK,null,sS.default.createElement(PK,null,"Sequence position"),sS.default.createElement(u_,Se(J({value:c},i),{isValid:_K,inputRef:s,nudge:CK})))},[r,i,s])},jK=IK}),OK,pne=I(()=>{OK=typeof navigator!="undefined"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),TK,hne=I(()=>{pne(),TK=e=>OK?e.metaKey===!0:e.ctrlKey===!0});function mne(){lS=!1}function gne(){lS=!0}function vne(){let e=ie();(0,AK.useEffect)(()=>{let t=r=>{let o=r.composedPath()[0];if(!(o&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"))){if(r.key==="z"||r.key==="Z"||r.code==="KeyZ")if(TK(r))r.shiftKey===!0?e.redo():e.undo();else return;else if(r.code==="Space"&&!r.shiftKey&&!r.metaKey&&!r.altKey&&!r.ctrlKey){if(!lS)return;let i=wQ();if(i)if(i.playing)i.pause();else{let{projectId:s,sheetId:u}=i.address,c=(0,Ua.prism)(()=>{let v=(0,Ua.val)(ie().atomP.ahistoric.projects.stateByProjectId[s].stateBySheetId[u].sequence.focusRange);return Ua.prism.memo("shouldFollowFocusRange",()=>{let b=i.position;if(v){let y=b>=v.range.start&&b<=v.range.end;return v.enabled?!!y:!0}else return!0},[])&&v&&v.enabled?{range:[v.range.start,v.range.end],isFollowingARange:!0}:{range:[0,(0,Ua.val)(i.pointer.length)],isFollowingARange:!1}}),f=i.playDynamicRange((0,Ua.prism)(()=>(0,Ua.val)(c).range),ie().ticker),p=B3(i);f.finally(()=>{p.set(void 0)}),p.set(c)}else return}else if(r.altKey&&(r.key==="\\"||r.code==="Backslash"||r.code==="IntlBackslash"))e.transaction(({stateEditors:i,drafts:s})=>{i.studio.ahistoric.setVisibilityState(s.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;r.preventDefault(),r.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[])}var AK,Ua,lS,B3,DK,N3=I(()=>{AK=Q(ae()),$e(),hne(),$l(),Ua=Ne,C_(),lS=!0,B3=Jv(e=>new Ua.Atom(void 0)),DK=Jv(e=>(0,Ua.prism)(()=>{let t=B3(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:r,sheetId:o}=e.address,i=(0,Ua.val)(ie().atomP.ahistoric.projects.stateByProjectId[r].stateBySheetId[o].sequence.focusRange);if(!i||!i.enabled)return!1;let s=(0,Ua.val)(e.pointer.position);return s>=i.range.start&&s<=i.range.end}}))});function yne(e,t){return Fn(e,{menuItems(){return[{label:"Place marker",callback:()=>{ie().transaction(({stateEditors:r})=>{let o=(0,Mi.val)(t.layoutP.sheet),i=o.getSequence();r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:o.address,markers:[{id:oee(),position:i.position}],snappingFunction:i.closestGridPosition})})}}]}})}var Mi,Qo,zK,gd,BK,NK,RK,R3,FK,MK,UK,VK,HK,LK,bne=I(()=>{dne(),Tr(),At(),Xe(),Mi=Ne,wc(),Qo=Q(ae()),Ee(),Gs(),rn(),Dt(),xi(),Ei(),fne(),N3(),Eo(),Mn(),$e(),Fs(),Fa(),Yc(),gd=L.div(zK||(zK=U([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>Ui.playhead,e=>e.isVisible?"block":"none"),NK=L.div(BK||(BK=U([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),Ds),R3=L.div(RK||(RK=U([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),Ot,gd,gd,Ds,gd),MK=L.div(FK||(FK=U([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),gd),VK=L.div(UK||(UK=U([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),R3,gd),HK=({layoutP:e})=>{let[t,r]=Ct(null),{node:o,toggle:i,close:s}=_i({debugName:"Playhead"},()=>Qo.default.createElement(Si,null,Qo.default.createElement(jK,{layoutP:e,onRequestClose:s}))),u=(0,Qo.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let p=(0,Mi.val)(e.sheet).getSequence(),v=p.position,b=(0,Mi.val)(e.scaledSpace.toUnitSpace),y=(0,Mi.val)(e.seeker.setIsSeeking);return y(!0),wj(),{onDrag(g,k,w){var x;let E=b(g);p.position=(x=Un.checkIfMouseEventSnapToPos(w,{ignore:r}))!=null?x:Xt(v+E,0,p.length)},onDragEnd(g){y(!1),Xc()},onClick(g){i(g,t.current)}}}}),[e,r]),[c]=fr(r,u);qo(c,"draggingPositionInSequenceEditor","ew-resize"),Hs(_t(e.seeker.isSeeking)||c,-1);let[f]=yne(r,{layoutP:e});return bt(()=>{let p=(0,Mi.val)(e.seeker.isSeeking),v=(0,Mi.val)(e.sheet).getSequence(),b=(0,Mi.val)(DK(v)),y=v.positionPrism.getValue(),g=(0,Mi.val)(e.clippedSpace.fromUnitSpace)(y),k=g>=0&&g<=(0,Mi.val)(e.clippedSpace.width);return Qo.default.createElement(Qo.default.Fragment,null,f,o,Qo.default.createElement(gd,J({isVisible:k,style:{transform:"translate3d(".concat(g,"px, 0, 0)")},className:"".concat(p&&"seeking"," ").concat(b&&"playheadattachedtofocusrange")},Ti("hide")),Qo.default.createElement(R3,J({ref:t},Un.includePositionSnapAttrs(y)),Qo.default.createElement(kK,{room:8}),Qo.default.createElement(MK,null),Qo.default.createElement(VK,null,v.positionFormatter.formatForPlayhead(v.closestGridPosition(y)))),Qo.default.createElement(NK,Se(J({},Un.includePositionSnapAttrs(y)),{className:p?"seeking":""}))))},[e,t,o])},LK=HK}),vd,q0,uS,KK,qK,WK,$K,wne=I(()=>{vd=Ne,Xe(),$e(),pd(),q0=Q(ae()),Ee(),uS=1e3,qK=L.div(KK||(KK=U([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),Fi,uS,e=>e.enabled?"#000000":"transparent"),WK=({layoutP:e})=>{let t=(0,q0.useMemo)(()=>(0,vd.prism)(()=>{let{projectId:r,sheetId:o}=(0,vd.val)(e.sheet).address;return(0,vd.val)(ie().atomP.ahistoric.projects.stateByProjectId[r].stateBySheetId[o].sequence.focusRange)}),[e]);return bt(()=>{let r=t.getValue();if(!r||!r.enabled)return null;let{range:o}=r,i=(0,vd.val)(e.rightDims.height)-Fi,s=(0,vd.val)(e.clippedSpace.fromUnitSpace),u=(0,vd.val)(e.clippedSpace.width),c=[];{let f=0,p=s(r.range.start),v,b;f>p?(b=0,v=0):(p>u&&(p=u),b=f,v=(p-f)/uS),c.push({translateX:b,scaleX:v})}{let f=s(r.range.end),p=u,v,b;f>p?(b=0,v=0):(f<0&&(f=0),b=f,v=(p-f)/uS),c.push({translateX:b,scaleX:v})}return q0.default.createElement(q0.default.Fragment,null,c.map(({translateX:f,scaleX:p},v)=>q0.default.createElement(qK,{key:"curtain-".concat(v),enabled:!0,style:{height:"".concat(i,"px"),transform:"translateX(".concat(f,"px) scaleX(").concat(p,")")}})))},[e,t])},$K=WK}),Nh,GK,ZK,XK,YK,QK,kne=I(()=>{Nh=Q(ae()),Ee(),Xe(),$e(),Hc(),VI(),ZK=L.div(GK||(GK=U([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),L.div(XK||(XK=U([`
  `,`;
  white-space: nowrap;
`])),Ql),YK=({layoutP:e,marker:t})=>{var r;let o=_t(e.sheet),i=(0,Nh.useMemo)(()=>{let u;return{temporarilySetValue(c){u&&(u.discard(),u=void 0),u=ie().tempTransaction(({stateEditors:f})=>{f.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:c})})},discardTemporaryValue(){u&&(u.discard(),u=void 0)},permanentlySetValue(c){u&&(u.discard(),u=void 0),ie().transaction(({stateEditors:f})=>{f.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:c})})}}},[e,o]),s=(0,Nh.useRef)(null);return(0,Nh.useLayoutEffect)(()=>{s.current.focus()},[]),Nh.default.createElement(ZK,null,Nh.default.createElement(d_,Se(J({value:(r=t.label)!=null?r:""},i),{isValid:()=>!0,inputRef:s})))},QK=YK});function _ne(e,t){return Fn(e,{menuItems(){return[{label:"Remove marker",callback:()=>{ie().transaction(({stateEditors:r})=>{r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})})}}]}})}function xne(e,t){let r=(0,Kn.useRef)(t);r.current=t;let o=(0,Kn.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(s){let u=r.current.marker,c=(0,cS.val)(t.layoutP.scaledSpace.toUnitSpace),f;return wj(),{onDrag(p,v,b){var y;let g=u,k=Math.max((y=Un.checkIfMouseEventSnapToPos(b,{ignore:e}))!=null?y:g.position+c(p),0);f==null||f.discard(),f=ie().tempTransaction(({stateEditors:w})=>{w.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,cS.val)(t.layoutP.sheet.address),markers:[Se(J({},g),{position:k})],snappingFunction:(0,cS.val)(t.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(p){p?f==null||f.commit():f==null||f.discard(),Xc()}}}}),[]),[i]=fr(e,o);return Hs(i,t.marker.position),qo(i,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[i]}var cS,Kn,F3,M3,JK,eq,tq,rq,nq,dS,oq,aq,iq,sq,lq,uq,Sne=I(()=>{cS=Ne,Xe(),$e(),Eo(),Mn(),At(),Kn=Q(ae()),Ee(),rn(),Tr(),Gs(),Fa(),gx(),GM(),Yc(),xi(),Ei(),kne(),F3=12,M3=12,JK=F3*2,eq=M3*2,rq=L.div(tq||(tq=U([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>Ui.marker),dS=L.div(nq||(nq=U([`
  position: absolute;
  `,`
  pointer-events: none;
`])),Go(F3,M3)),oq=Kn.default.memo(()=>Kn.default.createElement(dS,{children:Kn.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kn.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),iq=L.div(aq||(aq=U([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),Ai.CSS,Ai.CSS_WHEN_SOMETHING_DRAGGING,Ai.BEING_DRAGGED_CLASS,Ds,dS,Ai.BEING_DRAGGED_CLASS,dS,Go(JK,eq)),sq=({layoutP:e,markerId:t})=>{let r=_t(e.sheet.address),o=_t(ie().atomP.historic.projects.stateByProjectId[r.projectId].stateBySheetId[r.sheetId].sequenceEditor.markerSet.byId[t]);if(!o)return null;let i=_t(e.clippedSpace.width),s=_t(e.clippedSpace.fromUnitSpace)(o.position),u=s<=0||s>i,c=u?-1e4:s,f=u?0:1;return Kn.default.createElement(rq,{style:{transform:"translateX(".concat(c,"px) scale(").concat(f,")")}},Kn.default.createElement(uq,{marker:o,layoutP:e}))},lq=sq,uq=({layoutP:e,marker:t})=>{let r=_t(e.sheet.address),[o,i]=Ct(null),[s]=_ne(i,{sheetAddress:r,markerId:t.id}),[u]=xne(i,{layoutP:e,marker:t}),{node:c,toggle:f,close:p}=_i({debugName:"MarkerPopover"},()=>Kn.default.createElement(Si,null,Kn.default.createElement(QK,{marker:t,layoutP:e,onRequestClose:p})));return Kn.default.createElement(Kn.default.Fragment,null,s,c,Kn.default.createElement(iq,J({title:t.label?"Marker: ".concat(t.label):"Marker",ref:o,onClick:v=>{f(v,o.current)}},Ai.reactProps({isDragging:u,position:t.position}))),Kn.default.createElement(oq,null))}}),fS,cq,dq,Ene=I(()=>{Xe(),$e(),fS=Q(ae()),Sne(),cq=({layoutP:e})=>{let t=_t(e.sheet.address),r=ie().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.markerSet,o=_t(r.allIds);return fS.default.createElement(fS.default.Fragment,null,o&&Object.keys(o).map(i=>fS.default.createElement(lq,{key:i,layoutP:e,markerId:i})))},dq=cq}),fq,$s,pq,hq,mq,gq,Pne=I(()=>{Gs(),Xe(),fq=Ne,$s=Q(ae()),Ee(),lne(),une(),cne(),bne(),pd(),wne(),Ene(),hq=L.div(pq||(pq=U([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>Ui.rightOverlay),mq=({layoutP:e})=>bt(()=>{let t=(0,fq.val)(e.rightDims.width);return $s.default.createElement(hq,{style:{width:t+"px"}},$s.default.createElement(LK,{layoutP:e}),$s.default.createElement(gK,{layoutP:e}),$s.default.createElement(aK,{layoutP:e}),$s.default.createElement(TL,{layoutP:e}),$s.default.createElement(dq,{layoutP:e}),$s.default.createElement(YL,{layoutP:e}),$s.default.createElement($K,{layoutP:e}))},[e]),gq=mq}),vq,pS,yq,bq,wq,kq,Cne=I(()=>{vq=Ne,Xe(),$e(),pS=Q(ae()),Ee(),dh(),rn(),bq=L.button(yq||(yq=U([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),wq=({layoutP:e})=>{let t=_t(e.graphEditorDims.isOpen),r=(0,pS.useCallback)(()=>{let o=(0,vq.val)(e.graphEditorDims.isOpen);ie().transaction(({stateEditors:i})=>{i.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!o})})},[e]);return pS.default.createElement(bq,J({onClick:r,title:"Toggle graph editor",className:t?"open":""},Ti("hide")),pS.default.createElement(mJ,null))},kq=wq}),Va,ar,_q,xq,Sq,Eq,Ui,Pq,Cq,Iq,jq,Oq,Tq,Aq,Dq,zq,Gs=I(()=>{$l(),Xe(),nM(),Va=Ne,ar=Q(ae()),Ee(),Hre(),Qx(),Qre(),Pne(),Sh(),lF(),RF(),rn(),ua(),_r(),Cne(),Ts(),Kc(),xq=L(aj)(_q||(_q=U([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),nh.sequenceEditorPanel),Eq=L.div(Sq||(Sq=U([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),Ui=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let r of Object.keys(e))e[r]=t,t++;return e})(),Cq=L(J5)(Pq||(Pq=U([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),Iq={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},jq={width:800,height:200},Oq=e=>ar.default.createElement(Q5,{panelId:"sequenceEditor",defaultPosition:Iq,minDims:jq},ar.default.createElement(Tq,null)),Tq=()=>{let{dims:e}=xh(),[t,r]=(0,ar.useState)(null);return _B(t),bt(()=>{let o=Va.prism.memo("panelSize",()=>{let y=e.width,g=e.height;return{width:y,height:g,widthWithoutBorder:y-2,heightWithoutBorder:g-4,screenX:e.left,screenY:e.top}},[e]),i=fi(Wl().filter(y=>Ur(y)||lr(y)).map(y=>lr(y)?y.sheet:y));if(fi(i.map(y=>y.template)).length!==1)return ar.default.createElement(ar.default.Fragment,null);let s=i[0];if(!s)return ar.default.createElement(ar.default.Fragment,null);let u=sj("panelSizeP",o).pointer,c=Va.prism.memo("key",()=>JSON.stringify(s.address),[s]),f=Va.prism.memo("layout",()=>Yre(s,u),[s,u]).getValue();if((0,Va.val)(f.tree.children).length===0)return ar.default.createElement(ar.default.Fragment,null);let p=Va.prism.memo("containerRef",zq,[]),v=(0,Va.val)(f.graphEditorDims.isAvailable),b=(0,Va.val)(f.graphEditorDims.isOpen);return ar.default.createElement(xq,{ref:y=>{p(y),y!==t&&r(y)}},ar.default.createElement(Eq,{style:{width:"".concat((0,Va.val)(f.leftDims.width),"px")}}),ar.default.createElement(KM,{layoutP:f},ar.default.createElement(Aq,{layoutP:f}),ar.default.createElement(XH,{key:c+"-dopeSheet",layoutP:f}),b&&ar.default.createElement(yH,{key:c+"-graphEditor",layoutP:f}),v&&ar.default.createElement(kq,{layoutP:f}),ar.default.createElement(gq,{layoutP:f})))},[e,t])},Aq=({layoutP:e})=>bt(()=>{let t=(0,Va.val)(e.sheet);return ar.default.createElement(Cq,{style:{width:(0,Va.val)(e.leftDims.width)}},ar.default.createElement(sI,null,ar.default.createElement(ql,null,t.address.sheetId," "),ar.default.createElement(Mv,null,":"," "),ar.default.createElement(ql,null,t.address.sheetInstanceId," "),ar.default.createElement(Mv,null," ",">"," "),ar.default.createElement(ql,null,"Sequence")))},[e]),Dq=Oq,zq=()=>{let e=null,t={passive:!1,capture:!1},r=o=>{Math.abs(o.deltaY)<Math.abs(o.deltaX)&&(o.preventDefault(),o.stopPropagation())};return o=>{e!==o&&e&&e.removeEventListener("wheel",r,t),e=o,o&&o.addEventListener("wheel",r,t)}}}),yd,Bq,Nq,Ine=I(()=>{OQ(),Z5(),yd=Q(ae()),$e(),Xe(),Kee(),Gs(),Bq=()=>{let e=_t(ie().paneManager.allPanesD),t=Object.entries(e).map(([r,o])=>yd.default.createElement(rM,{key:"pane-".concat(r),paneInstance:o}));return yd.default.createElement(yd.default.Fragment,null,t,yd.default.createElement(LA,null),yd.default.createElement(nF,null),yd.default.createElement(Dq,null))},Nq=Bq}),Rq,Fq,Mq,jne=I(()=>{Ee(),G_(),Fq=L(wh)(Rq||(Rq=U([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),Mq=Fq}),One=st((e,t)=>{var r,o;r=[],o=[];function i(s,u,c){var f,p,v,b,y,g,k,w;if(s===u)return 0;if(f=s.length,p=u.length,f===0)return p;if(p===0)return f;for(c&&(s=s.toLowerCase(),u=u.toLowerCase()),k=0;k<f;)o[k]=s.charCodeAt(k),r[k]=++k;for(w=0;w<p;)for(v=u.charCodeAt(w),b=y=w++,k=-1;++k<f;)g=v===o[k]?y:y+1,y=r[k],r[k]=b=y>b?g>b?b+1:g:g>y?y+1:g;return b}t.exports=i}),Tne=st((e,t)=>{var r=One();function o(){var i,s,u,c,f,p=0,v=arguments[0],b=arguments[1],y=b.length,g=arguments[2];g&&(c=g.threshold,f=g.ignoreCase),c===void 0&&(c=0);for(var k=0;k<y;++k)f?s=r(v,b[k],!0):s=r(v,b[k]),s>v.length?i=1-s/b[k].length:i=1-s/v.length,i>p&&(p=i,u=b[k]);return p>=c?u:null}t.exports=o});function Ane(e,t,r="Did you mean ",o="?"){let i=(0,Uq.default)(e,t,{threshold:.7});return i?r+JSON.stringify(i)+o:""}var Uq,Dne=I(()=>{Uq=Q(Tne())});function Vq(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var zne=I(()=>{}),Hq,U3,Lq=I(()=>{zne(),Hq=e=>typeof e=="string"?'string("'.concat(Vq(e,10),'")'):typeof e=="number"?"number(".concat(Vq(String(e),10),")"):e===null?"null":e===void 0?"undefined":typeof e=="boolean"?String(e):Array.isArray(e)?"array":typeof e=="object"?"object":"unknown",U3=Hq}),Kq,qq,V3,Wq=I(()=>{Ee(),Mc(),qq=L(E6)(Kq||(Kq=U([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),V3=qq}),Rh,$q,Gq,Zq,Fh,W0=I(()=>{Ee(),Dt(),Rh=Q(ae()),h0(),s_(),n9(),Wq(),Gq=L.button($q||($q=U([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Ot,V3),Zq=Rh.default.forwardRef((e,t)=>{var r=e,{title:o}=r,i=Bo(r,["title"]);let[s,u]=bh({enabled:typeof o=="string"},()=>Rh.default.createElement(U5,null,o));return Rh.default.createElement(Rh.default.Fragment,null,s,Rh.default.createElement(Gq,J({ref:i_([u,t])},i))," ")}),Fh=Zq}),Xq,Yq,Qq,Jq,eW,Bne=I(()=>{Xq=Q(ae()),W0(),Ee(),Dt(),Qq=L(Fh)(Yq||(Yq=U([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),Ot),Jq=({config:e,testId:t})=>{var r;return Xq.default.createElement(Qq,{onClick:e.onClick,"data-testid":t,title:e.title,dangerouslySetInnerHTML:{__html:(r=e.svgSource)!=null?r:""}})},eW=Jq});function Nne({value:e,label:t,icon:r,onClick:o,isSelected:i}){return Mh.default.createElement(Mh.default.Fragment,null,Mh.default.createElement(Fh,{forwardedAs:_6,className:i?"selected":void 0,"aria-label":t,onClick:o,title:t},r))}var Mh,tW,rW,Rne=I(()=>{Mh=Q(ae()),Mc(),W0(),Wq(),tW=({value:e,onChange:t,options:r})=>Mh.default.createElement(V3,null,r.map(({label:o,icon:i,value:s})=>Mh.default.createElement(Nne,{key:s,value:s,isSelected:e===s,label:o,icon:i,onClick:()=>t(s)}))),rW=tW}),H3,nW,oW,aW,iW,Fne=I(()=>{H3=Q(ae()),Ee(),Dt(),Rne(),oW=L.div(nW||(nW=U([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),Ot),aW=({config:e})=>H3.default.createElement(rW,{onChange:e.onChange,options:e.options.map(({label:t,value:r,svgSource:o})=>({label:t,value:r,icon:H3.default.createElement(oW,{dangerouslySetInnerHTML:{__html:o}})})),value:e.value}),iW=aW}),$0,sW,lW,uW,cW,Mne=I(()=>{$0=Q(ae()),Ee(),Dt(),W0(),fB(),xi(),lW=L.div(sW||(sW=U([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),Ot),uW=({config:e})=>{let t=(0,$0.useRef)(null),r=_i(()=>{let o=t.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+e.label,constraints:{maxX:o.right,maxY:8,minX:o.left,minY:8},verticalGap:2}},()=>$0.default.createElement(g5,{items:e.items.map((o,i)=>({label:o.label,callback:()=>{var s;try{(s=o.onClick)==null||s.call(o)}catch(u){console.error(u)}}})),onRequestClose:()=>{r.close("clicked")}}));return $0.default.createElement(lW,null,r.node,$0.default.createElement(Fh,{ref:t,onClick:o=>{r.open(o,t.current)}},e.label))},cW=uW});function Une(e){return L3[e]}var G0,dW,L3,fW,pW,Vne=I(()=>{Dne(),Lq(),G0=Q(ae()),Bne(),Fne(),Mne(),dW=e=>G0.default.createElement(G0.default.Fragment,null,e.config.map((t,r)=>G0.default.createElement(fW,{config:t,key:r}))),L3={Icon:eW,Switch:iW,Flyout:cW},fW=({config:e})=>{let t=Une(e.type);if(!t)throw new Error("No tool with tool.type ".concat(U3(e.type)," exists. Did you mean ").concat(Ane(e.type,Object.keys(L3))));return G0.default.createElement(t,{config:e})},pW=dW}),hW,Vi,mW,gW,vW,K3,yW,bW,q3,wW=I(()=>{hW=Ne,Xe(),$e(),Vi=Q(ae()),Ee(),Vne(),gW=L.div(mW||(mW=U([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),K3=L.div(vW||(vW=U([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),yW=({extension:e,toolbarId:t})=>{var r;let o=(0,Vi.useMemo)(()=>new hW.Atom([]),[]),i=(r=e.toolbars)==null?void 0:r[t];(0,Vi.useLayoutEffect)(()=>{let u=i==null?void 0:i(o.set.bind(o),ie().publicApi);if(typeof u=="function")return u},[e,t,i]);let s=_t(o.prism);return Vi.default.createElement(pW,{config:s})},bW=({toolbarId:e,showLeftDivider:t})=>{var r;let o=[],i=_t(ie().atomP.ephemeral.extensions.byId),s=!1;for(let[,u]of Object.entries(i))!u||!((r=u.toolbars)!=null&&r[e])||(o.push(Vi.default.createElement(Vi.default.Fragment,{key:"extensionToolbar-"+u.id},s?Vi.default.createElement(K3,null):void 0,Vi.default.createElement(yW,{extension:u,toolbarId:e}))),s=!0);return o.length===0?null:Vi.default.createElement(gW,{"data-testid":"theatre-extensionToolbar-".concat(e)},t?Vi.default.createElement(K3,null):void 0,o)},q3=bW}),Z0,kW,_W,xW,hS,Hne=I(()=>{Ee(),Z0=Q(ae()),W0(),_W=L(Fh)(kW||(kW=U([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:e})=>e?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:e})=>e?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),xW=(0,Z0.forwardRef)((e,t)=>{var r=e,{children:o,hint:i,pinned:s,icon:u,pinHintIcon:c,unpinHintIcon:f}=r,p=Bo(r,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[v,b]=(0,Z0.useState)(!1),y=v||i;return Z0.default.createElement(_W,Se(J({},p),{pinned:s,ref:t,onMouseOver:()=>b(!0),onMouseOut:()=>b(!1)}),Z0.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},y&&!s?c:y&&s?f:u),o)}),hS=xW});function Lne(e){return W3.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),W3.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var W3,$3,Kne=I(()=>{W3=Q(ae()),$3=Lne});function qne(e){return G3.createElement("svg",J({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),G3.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var G3,Z3,Wne=I(()=>{G3=Q(ae()),Z3=qne}),Dr,SW,EW,PW,X3,CW,gu,IW,jW,OW,TW,AW,DW,zW,BW,NW,mS,RW,FW,Y3,Q3,MW,UW,$ne=I(()=>{Xe(),$e(),Dr=Q(ae()),Ee(),EW=L.div(SW||(SW=U([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),X3=L.div(PW||(PW=U([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),gu=L(X3)(CW||(CW=U([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),jW=L(X3)(IW||(IW=U([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),TW=L.div(OW||(OW=U([`
  font-weight: 600;
`]))),DW=L.div(AW||(AW=U([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),BW=L.div(zW||(zW=U([`
  margin-left: 2px;
`]))),mS=L.div(NW||(NW=U([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),FW=L.div(RW||(RW=U([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),Y3="0.7.2",Q3=Y3.match(/^[^\-]+/)[0],MW=Dr.default.forwardRef((e,t)=>{let r=_t(ie().atomP.ahistoric.updateChecker.result.hasUpdates);return Dr.default.createElement(EW,{ref:t},Dr.default.createElement(gu,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Dr.default.createElement(gu,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Dr.default.createElement(mS,null),Dr.default.createElement(gu,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Dr.default.createElement(gu,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Dr.default.createElement(gu,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Dr.default.createElement(mS,null),Dr.default.createElement(jW,null,Dr.default.createElement(TW,null,"Version"),Dr.default.createElement(DW,null,Dr.default.createElement(BW,null,Y3," ",r===!0?"(outdated)":r===!1?"(latest)":""))),r===!0&&Dr.default.createElement(Dr.default.Fragment,null,Dr.default.createElement(mS,null),Dr.default.createElement(gu,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(Q3)),className:"",target:"_blank"},"Update",Dr.default.createElement(FW,null)),Dr.default.createElement(gu,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(Q3)),className:"",target:"_blank"},"What's new?")))}),UW=MW}),qt,VW,HW,LW,KW,qW,WW,J3,$W,eO,GW,tO,ZW,XW,Gne=I(()=>{Xe(),$e(),qt=Q(ae()),Ee(),h0(),jne(),G_(),VW=Ne,wW(),Hne(),Uv(),Kne(),Wne(),W0(),xi(),$ne(),x0(),LW=L.div(HW||(HW=U([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),qW=L.div(KW||(KW=U([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),J3=L.div(WW||(WW=U([`
  display: flex;
  gap: 8px;
`]))),eO=L.div($W||($W=U([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:e})=>e==="info"?"#40aaa4":"#f59e0b"),L.div(GW||(GW=U([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),tO=!1,ZW=()=>{var e,t,r;let o=bt(()=>{let w=(0,VW.val)(ie().atomP.ephemeral.coreByProject);return Object.entries(w).map(([x,E])=>({projectId:x,state:E})).filter(({state:x})=>x.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[i,s]=bh({enabled:o.length>0,enterDelay:o.length>0?0:200},()=>o.length>0?qt.default.createElement(Mq,null,o.length===1?'There is a state conflict in project "'.concat(o[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(o.length," projects that have state conflicts. They are highlighted in the outline below. ")):qt.default.createElement(wh,null,qt.default.createElement(qt.default.Fragment,null,"Outline"))),u=(e=_t(ie().atomP.ahistoric.pinOutline))!=null?e:!0,c=(t=_t(ie().atomP.ahistoric.pinDetails))!=null?t:!0,f=_t(ie().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,p=_i(()=>{let w=v.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:w.right,maxY:8,minX:w.left-140,minY:8},verticalGap:2}},()=>qt.default.createElement(UW,null)),v=(0,qt.useRef)(null),b=(0,qt.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(tO||(tO=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),f||window.__IS_VISUAL_REGRESSION_TESTING?!0:f),[f]),{hasNotifications:y}=L5(),[g,k]=E9();return qt.default.createElement(LW,null,qt.default.createElement(J3,null,i,qt.default.createElement(hS,{ref:s,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{ie().transaction(({stateEditors:w,drafts:x})=>{var E;w.studio.ahistoric.setPinOutline(!((E=x.ahistoric.pinOutline)==null||E))})},icon:qt.default.createElement(uI,null),pinHintIcon:qt.default.createElement(Z3,null),unpinHintIcon:qt.default.createElement($3,null),pinned:u}),o.length>0?qt.default.createElement(qW,null,o.length):null,qt.default.createElement(q3,{showLeftDivider:!0,toolbarId:"global"})),qt.default.createElement(J3,null,g,qt.default.createElement(hS,{ref:k,onClick:()=>{ie().transaction(({stateEditors:w,drafts:x})=>{var E;w.studio.ahistoric.setPinNotifications(!((E=x.ahistoric.pinNotifications)!=null&&E))})},icon:qt.default.createElement(t_,null),pinHintIcon:qt.default.createElement(t_,null),unpinHintIcon:qt.default.createElement(t_,null),pinned:(r=_t(ie().atomP.ahistoric.pinNotifications))!=null?r:!1},y&&qt.default.createElement(eO,{type:"warning"})),p.node,qt.default.createElement(Fh,{ref:v,onClick:w=>{p.toggle(w,v.current)}},qt.default.createElement(H6,null),b&&qt.default.createElement(eO,{type:"info"})),qt.default.createElement(hS,{ref:s,onClick:()=>{ie().transaction(({stateEditors:w,drafts:x})=>{var E;w.studio.ahistoric.setPinDetails(!((E=x.ahistoric.pinDetails)==null||E))})},icon:qt.default.createElement(V6,null),pinHintIcon:qt.default.createElement($3,null),unpinHintIcon:qt.default.createElement(Z3,null),pinned:c})))},XW=ZW}),YW,X0,QW,Y0,JW,e$,t$,r$,n$=I(()=>{YW=Ne,Xe(),X0=Q(ae()),QW=Q(Nr()),Y0=new YW.Atom({set:{},byId:{}}),JW=1,e$=()=>{let e=JW++;function t(o,i,s){Y0.reduce(u=>({byId:Se(J({},u.byId),{[e]:{comp:o,props:i,portalNode:s}}),set:Se(J({},u.set),{[e]:!0})}))}function r(){Y0.reduce(o=>{let i=J({},o.set),s=J({},o.byId);return delete i[e],{byId:s,set:i}})}return{mountOrRender:t,unmount:r}},t$=()=>{let e=Object.keys(_t(Y0.pointer.set));return X0.default.createElement(X0.default.Fragment,null,e.map(t=>X0.default.createElement(r$,{key:"id-"+t,id:t})))},r$=({id:e})=>{let{comp:t,portalNode:r,props:o}=_t(Y0.pointer.byId[e]);return(0,QW.createPortal)(X0.default.createElement(t,J({},o)),r)}});function Zne(e){let t=ie(),[r,o]=Ct(void 0),i=YH();i.configureLogging({min:128,dev:nO,internal:nO});let s=i.getLogger().named("Theatre.js UIRoot");vne();let u=_t(t.atomP.ahistoric.visibilityState);return(0,an.useEffect)(()=>(u==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[u]),bt(()=>{let c=(0,rO.val)(t.atomP.ahistoric.visibilityState);return(0,rO.val)(t.atomP.ephemeral.initialised)?an.default.createElement(aD,{logger:s},an.default.createElement(uR,null,an.default.createElement(BQ,null,an.default.createElement(u$,null),an.default.createElement(th.Provider,{value:o},an.default.createElement(iI,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:e.containerShadow},an.default.createElement(an.default.Fragment,null,an.default.createElement(a$,null),an.default.createElement(s$,{className:c==="everythingIsHidden"?"invisible":""},an.default.createElement(aI,{ref:r}),an.default.createElement(XW,null),an.default.createElement(Nq,null),an.default.createElement(P9,null)))))))):null},[t,r,o])}var rO,an,o$,a$,i$,s$,l$,nO,u$,Xne=I(()=>{$e(),Xe(),rO=Ne,an=Q(ae()),Ee(),Ine(),Gne(),At(),Mc(),N3(),Eo(),cR(),TI(),n$(),Dt(),tS(),Zl(),x0(),a$=typeof window!="undefined"?wv(o$||(o$=U([`
  :host {
    contain: strict;
  }
`]))):{},s$=L(oD)(i$||(i$=U([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),nO=/Playground.+Theatre\.js/.test((l$=typeof document!="undefined"?document==null?void 0:document.title:null)!=null?l$:""),u$=()=>an.default.createElement(t$,null)}),Yne=st(e=>{var t=Nr();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}),c$={};sa(c$,{default:()=>p$});var d$,f$,p$,Qne=I(()=>{Xne(),d$=Q(ae()),f$=Q(Yne()),n$(),Dt(),wW(),p$=class{constructor(){St(this,"containerEl",document.createElement("div")),St(this,"_renderTimeout"),St(this,"_documentBodyUIIsRenderedIn"),St(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let e=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let t=document.createElement("div");return t.id="theatrejs-faux-shadow-root",document.body.appendChild(t),t}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=e()}render(){let e=()=>{if(!document.body){this._renderTimeout=setTimeout(e,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),f$.default.createRoot(this.containerShadow).render(d$.default.createElement(Zne,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let r=e$();return r.mountOrRender(nQ(q3),{toolbarId:e},t),r.unmount}}}),Jne=st(e=>{e.compare=i,e.reduce=s;var t,r,o;e.REMOVE=t=-1,e.ADD=r=1,e.EQUAL=o=0;function i(v,b){var y=v.length,g=b.length,k=u(v,b),w=k<y&&k<g?c(v,b):0,x=w+k-1;y-=x,g-=x;for(var E=p(y,g),P=y-1;P>=0;--P)for(var O=g-1;O>=0;--O)E[O][P]=f(E,v,b,k,P,O);return{prefix:k,matrix:E,suffix:w}}function s(v,b,y){var g,k,w,x,E=y.matrix,P=y.prefix;for(g=0;g<P;++g)b=v(b,o,g,g);for(w=g,P=E.length,g=0,k=0;g<P;)switch(x=E[g][k].type,b=v(b,x,g+w,k+w),x){case o:++g,++k;break;case t:++k;break;case r:++g;break}for(g+=w,k+=w,P=y.suffix,w=0;w<P;++w)b=v(b,o,g+w,k+w);return b}function u(v,b){for(var y=0,g=Math.min(v.length,b.length);y<g&&v[y]===b[y];)++y;return y}function c(v,b){for(var y=v.length-1,g=b.length-1,k=Math.min(y,g),w=0;w<k&&v[y-w]===b[g-w];)++w;return w}function f(v,b,y,g,k,w){return b[k+g]===y[w+g]?{value:v[w+1][k+1].value,type:o}:v[w][k+1].value<v[w+1][k].value?{value:v[w][k+1].value+1,type:t}:{value:v[w+1][k].value+1,type:r}}function p(v,b){var y=[],g,k,w;for(w=y[b]=[],k=0;k<v;++k)w[k]={value:v-k,type:t};for(g=0;g<b;++g)y[g]=[],y[g][v]={value:b-g,type:r};return y[b][v]={value:0,type:o},y}}),h$=st(e=>{e.cons=t,e.tail=r,e.map=o;function t(i,s){var u=s.length,c=new Array(u+1);c[0]=i;for(var f=0;f<u;++f)c[f+1]=s[f];return c}function r(i){for(var s=i.length-1,u=new Array(s),c=0;c<s;++c)u[c]=i[c+1];return u}function o(i,s){for(var u=new Array(s.length),c=0;c<s.length;++c)u[c]=i(s[c]);return u}}),eoe=st((e,t)=>{t.exports=u;var r=/\/|~1|~0/g,o="/",i="~",s="~1";function u(c,f){var p,v,b,y;for(p=c.charAt(0)===o?1:0,v="",r.lastIndex=p;b=r.exec(c);)if(y=b[0],v+=c.slice(p,r.lastIndex-y.length),p=r.lastIndex,y===o){if(f(v)===!1)return c;v=""}else v+=y===s?o:i;return v+=c.slice(p),f(v),c}}),oO=st(e=>{var t=eoe();e.find=v,e.join=y,e.absolute=b,e.parse=g,e.contains=k,e.encodeSegment=x,e.decodeSegment=w,e.parseArrayIndex=O,e.isValidArrayIndex=P;var r="/",o=/\//g,i="~1",s=/~1/g,u="~",c=/~/g,f="~0",p=/~0/g;function v(z,F,Z,ee){if(typeof F=="string"){if(F==="")return{target:z,key:void 0};if(F===r)return{target:z,key:""};var K=z,ne,me=ee!==void 0;return t(F,function(M){if(z==null)return K=null,!1;Array.isArray(z)?ne=me?B(Z,O(M),z,ee):M==="-"?M:O(M):ne=M,K=z,z=z[ne]}),K===null?void 0:{target:K,key:ne}}}function b(z){return z[0]===r?z:r+z}function y(z){return z.join(r)}function g(z){var F=[];return t(z,F.push.bind(F)),F}function k(z,F){return F.indexOf(z)===0&&F[z.length]===r}function w(z){return z.replace(s,r).replace(p,u)}function x(z){return z.replace(c,f).replace(o,i)}var E=/^(0|[1-9]\d*)$/;function P(z){return E.test(z)}function O(z){if(P(z))return+z;throw new SyntaxError("invalid array index "+z)}function B(z,F,Z,ee){var K=F;if(K<0)throw new Error("array index out of bounds "+K);if(ee!==void 0&&typeof z=="function"&&(K=z(F,Z,ee),K<0))throw new Error("could not find patch context "+ee);return K}}),m$=st((e,t)=>{t.exports=r;function r(s){return s==null||typeof s!="object"?s:Array.isArray(s)?o(s):i(s)}function o(s){for(var u=s.length,c=new Array(u),f=0;f<u;++f)c[f]=r(s[f]);return c}function i(s){for(var u=Object.keys(s),c={},f,p=0,v=u.length;p<v;++p)f=u[p],c[f]=r(s[f]);return c}}),toe=st((e,t)=>{t.exports=r;function r(s,u){return s===u?!0:Array.isArray(s)&&Array.isArray(u)?o(s,u):typeof s=="object"&&typeof u=="object"?i(s,u):!1}function o(s,u){if(s.length!==u.length)return!1;for(var c=0;c<s.length;++c)if(!r(s[c],u[c]))return!1;return!0}function i(s,u){if(s===null&&u!==null||s!==null&&u===null)return!1;var c=Object.keys(s),f=Object.keys(u);if(c.length!==f.length)return!1;for(var p=0,v;p<c.length;++p)if(v=c[p],!(v in u&&r(s[v],u[v])))return!1;return!0}}),roe=st((e,t)=>{var r=oO();t.exports=function(v,b){var y=r.parse(v.path),g=r.parse(b.path),k=f(y,g),w=s(y,g,k.length),x=p(v),E=p(b);return k.length===0&&!w?[E,x]:w?i(x,y,E,g):o(x,y,E)};function o(v,b,y,g){if(v.path===y.path)throw new TypeError("cannot commute "+v.op+","+y.op+" with identical object paths");return[y,v]}function i(v,b,y,g){return b.length===g.length?u(v,b,y,g):(b.length>g.length?(b=c(y,g,v,b,-1),v.path=r.absolute(r.join(b))):(g=c(v,b,y,g,1),y.path=r.absolute(r.join(g))),[y,v])}function s(v,b,y){return r.isValidArrayIndex(v[y])&&r.isValidArrayIndex(b[y])}function u(v,b,y,g){var k=b.length-1,w=+b[k],x=+g[k],E;return w<x?v.op==="add"||v.op==="copy"?(E=g.slice(),E[k]=Math.max(0,x-1),y.path=r.absolute(r.join(E))):v.op==="remove"&&(E=g.slice(),E[k]=x+1,y.path=r.absolute(r.join(E))):y.op==="add"||y.op==="copy"?(E=b.slice(),E[k]=w+1,v.path=r.absolute(r.join(E))):w>x&&y.op==="remove"&&(E=b.slice(),E[k]=Math.max(0,w-1),v.path=r.absolute(r.join(E))),[y,v]}function c(v,b,y,g,k){var w=b.length-1,x=+b[w],E=+g[w],P=g.slice();return x>E||(v.op==="add"||v.op==="copy"?P[w]=Math.max(0,E-k):v.op==="remove"&&(P[w]=Math.max(0,E+k))),P}function f(v,b){var y=v.length,g=b.length;if(y===0||g===0||y<2&&g<2)return[];for(var k=y===g?y-1:Math.min(y,g),w=0;w<k&&v[w]===b[w];)++w;return v.slice(0,w)}function p(v){return v.op==="remove"?{op:v.op,path:v.path}:v.op==="copy"||v.op==="move"?{op:v.op,path:v.path,from:v.from}:{op:v.op,path:v.path,value:v.value}}}),g$=st((e,t)=>{t.exports=r;function r(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r}),aO=st((e,t)=>{t.exports=r;function r(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r}),v$=st((e,t)=>{t.exports=r;function r(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r}),y$=st(e=>{var t=oO(),r=m$(),o=toe(),i=roe(),s=h$(),u=g$(),c=aO(),f=v$(),p=t.find,v=t.parseArrayIndex;e.test={apply:b,inverse:y,commute:g},e.add={apply:k,inverse:x,commute:E},e.remove={apply:z,inverse:Z,commute:ee},e.replace={apply:P,inverse:O,commute:B},e.move={apply:K,inverse:ne,commute:me},e.copy={apply:M,inverse:oe,commute:E};function b(te,Y,de){var Te=p(te,Y.path,de.findContext,Y.context),V=Te.target,q,ge;if(Array.isArray(V)?(q=v(Te.key),ge=V[q]):ge=Te.key===void 0?Te.target:Te.target[Te.key],!o(ge,Y.value))throw new u("test failed "+JSON.stringify(Y));return te}function y(te,Y){return te.push(Y),1}function g(te,Y){if(te.path===Y.path&&Y.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return Y.op==="test"||Y.op==="replace"?[Y,te]:i(te,Y)}function k(te,Y,de){var Te=p(te,Y.path,de.findContext,Y.context);if(T(Te))throw new c("path does not exist "+Y.path);if(Y.value===void 0)throw new c("missing value");var V=r(Y.value);return Te.key===void 0?V:(w(Te,V),te)}function w(te,Y){var de=te.target;if(Array.isArray(de))if(te.key==="-")de.push(Y);else{if(te.key>de.length)throw new c("target of add outside of array bounds");de.splice(te.key,0,Y)}else if(Re(de))de[te.key]=Y;else throw new c("target of add must be an object or array "+te.key)}function x(te,Y){var de=Y.context;return de!==void 0&&(de={before:de.before,after:s.cons(Y.value,de.after)}),te.push({op:"test",path:Y.path,value:Y.value,context:de}),te.push({op:"remove",path:Y.path,context:de}),1}function E(te,Y){if(te.path===Y.path&&Y.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(te,Y)}function P(te,Y,de){var Te=p(te,Y.path,de.findContext,Y.context);if(T(Te)||ue(Te))throw new c("path does not exist "+Y.path);if(Y.value===void 0)throw new c("missing value");var V=r(Y.value);if(Te.key===void 0)return V;var q=Te.target;return Array.isArray(q)?q[v(Te.key)]=V:q[Te.key]=V,te}function O(te,Y,de,Te){var V=Te[de-1];if(V===void 0||V.op!=="test"||V.path!==Y.path)throw new f("cannot invert replace w/o test");var q=V.context;return q!==void 0&&(q={before:q.before,after:s.cons(V.value,s.tail(q.after))}),te.push({op:"test",path:V.path,value:Y.value}),te.push({op:"replace",path:V.path,value:V.value}),2}function B(te,Y){if(te.path===Y.path&&Y.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return Y.op==="test"||Y.op==="replace"?[Y,te]:i(te,Y)}function z(te,Y,de){var Te=p(te,Y.path,de.findContext,Y.context);if(T(Te)||Te.target[Te.key]===void 0)throw new c("path does not exist "+Y.path);return F(Te),te}function F(te){var Y=te.target,de;if(Array.isArray(Y))return de=Y.splice(v(te.key),1),de[0];if(Re(Y))return de=Y[te.key],delete Y[te.key],de;throw new c("target of remove must be an object or array")}function Z(te,Y,de,Te){var V=Te[de-1];if(V===void 0||V.op!=="test"||V.path!==Y.path)throw new f("cannot invert remove w/o test");var q=V.context;return q!==void 0&&(q={before:q.before,after:s.tail(q.after)}),te.push({op:"add",path:V.path,value:V.value,context:q}),2}function ee(te,Y){return te.path===Y.path&&Y.op==="remove"?[Y,te]:i(te,Y)}function K(te,Y,de){if(t.contains(Y.path,Y.from))throw new c("move.from cannot be ancestor of move.path");var Te=p(te,Y.path,de.findContext,Y.context),V=p(te,Y.from,de.findContext,Y.fromContext);return w(Te,F(V)),te}function ne(te,Y){return te.push({op:"move",path:Y.from,context:Y.fromContext,from:Y.path,fromContext:Y.context}),1}function me(te,Y){if(te.path===Y.path&&Y.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(te,Y)}function M(te,Y,de){var Te=p(te,Y.path,de.findContext,Y.context),V=p(te,Y.from,de.findContext,Y.fromContext);if(T(V)||ue(V))throw new c("copy.from must exist");var q=V.target,ge;return Array.isArray(q)?ge=q[v(V.key)]:ge=q[V.key],w(Te,r(ge)),te}function oe(te,Y){throw new f("cannot invert "+Y.op)}function T(te){return te===void 0||te.target==null&&te.key!==void 0}function ue(te){return te.key!==void 0&&te.target[te.key]===void 0}function Re(te){return te!==null&&typeof te=="object"}}),noe=st(e=>{var t=y$(),r=m$(),o=aO();e.apply=s,e.applyInPlace=u,e.clone=r,e.isValidObject=f,e.defaultHash=c;var i={};function s(v,b,y){return u(v,r(b),y)}function u(v,b,y){if(y||(y=i),!Array.isArray(v))return b;for(var g,k,w=0;w<v.length;++w){if(k=v[w],g=t[k.op],g===void 0)throw new o("invalid op "+JSON.stringify(k));b=g.apply(b,k,y)}return b}function c(v){return f(v)||p(v)?JSON.stringify(v):v}function f(v){return v!==null&&Object.prototype.toString.call(v)==="[object Object]"}function p(v){return Object.prototype.toString.call(v)==="[object Array]"}}),ooe=st((e,t)=>{var r=y$();t.exports=function(i){var s=[],u,c;for(u=i.length-1;u>=0;u-=c)c=o(s,i[u],u,i);return s};function o(i,s,u,c){var f=r[s.op];return f!==void 0&&typeof f.inverse=="function"?f.inverse(i,s,u,c):1}}),aoe=st(e=>{var t=Jne(),r=h$(),o=noe(),i=ooe(),s=oO(),u=s.encodeSegment;e.diff=p,e.patch=o.apply,e.patchInPlace=o.applyInPlace,e.inverse=i,e.clone=o.clone,e.InvalidPatchOperationError=aO(),e.TestFailedError=g$(),e.PatchNotInvertibleError=v$();var c=o.isValidObject,f=o.defaultHash;function p(O,B,z){return b(O,B,"",v(z,[])).patch}function v(O,B){return typeof O=="object"?{patch:B,hash:x(P,O.hash,f),makeContext:x(P,O.makeContext,E),invertible:O.invertible!==!1}:{patch:B,hash:x(P,O,f),makeContext:E,invertible:!0}}function b(O,B,z,F){return Array.isArray(O)&&Array.isArray(B)?g(O,B,z,F):c(O)&&c(B)?y(O,B,z,F):w(O,B,z,F)}function y(O,B,z,F){var Z=Object.keys(B),ee=F.patch,K,ne;for(K=Z.length-1;K>=0;--K){ne=Z[K];var me=z+"/"+u(ne);O[ne]!==void 0?b(O[ne],B[ne],me,F):ee.push({op:"add",path:me,value:B[ne]})}for(Z=Object.keys(O),K=Z.length-1;K>=0;--K)if(ne=Z[K],B[ne]===void 0){var M=z+"/"+u(ne);F.invertible&&ee.push({op:"test",path:M,value:O[ne]}),ee.push({op:"remove",path:M})}return F}function g(O,B,z,F){var Z=r.map(F.hash,O),ee=r.map(F.hash,B),K=t.compare(Z,ee);return k(O,B,z,F,K)}function k(O,B,z,F,Z){var ee=0;return t.reduce(function(K,ne,me,M){var oe,T,ue=K.patch,Re=z+"/"+(M+ee);return ne===t.REMOVE?(oe=ue[ue.length-1],T=K.makeContext(M,O),K.invertible&&ue.push({op:"test",path:Re,value:O[M],context:T}),oe!==void 0&&oe.op==="add"&&oe.path===Re?(oe.op="replace",oe.context=T):ue.push({op:"remove",path:Re,context:T}),ee-=1):ne===t.ADD?(ue.push({op:"add",path:Re,value:B[me],context:K.makeContext(M,O)}),ee+=1):b(O[M],B[me],Re,K),K},F,Z)}function w(O,B,z,F){return O!==B&&(F.invertible&&F.patch.push({op:"test",path:z,value:O}),F.patch.push({op:"replace",path:z,value:B})),F}function x(O,B,z){return O(B)?B:z}function E(){}function P(O){return typeof O=="function"}}),bd=st((e,t)=>{function r(o,i){for(var s=0,u=i.length-1;s<u;s++){if(!o[i[s]])return null;o=o[i[s]]}return o}t.exports=r}),vu=st((e,t)=>{function r(i){return i==="~0"?"~":"/"}function o(i){var s=i.split("/");if(i.indexOf("~")===-1)return s;for(var u=0,c=s.length;u<c;u++)s[u].indexOf("~")!==-1&&(s[u]=s[u].replace(/~[01]/g,r));return s}t.exports=o}),ioe=st((e,t)=>{var r=bd(),o=vu();function i(s,u){var c=o(u),f=c[c.length-1],p=r(s,c);return p?p[f]:void 0}t.exports=i}),gS=st((e,t)=>{function r(o,i){if(o===i)return!0;if(!(o&&i)||typeof o!="object"||typeof i!="object"||o.length!==i.length)return!1;if(Array.isArray(o)){if(!Array.isArray(i))return!1;for(var s=0,u=o.length;s<u;s++)if(!r(o[s],i[s]))return!1;return!0}var c=Object.keys(o);if(c.length!==Object.keys(i).length)return!1;for(var f=0,p=c.length;f<p;f++){var v=c[f];if(!r(o[v],i[v]))return!1}return!0}t.exports=r}),vS=st((e,t)=>{function r(o,i){if(i==="-")return o.length;for(var s=0,u=i.length;s<u;s++){var c=i.charCodeAt(s);if(57<c||c<48)return 1/0}return+i}t.exports=r}),yS=st((e,t)=>{var r=gS(),o=bd(),i=vS(),s=vu();function u(c,f,p,v){if(typeof p=="undefined")return"[op:add] require value, but got undefined";var b=s(f),y=b[b.length-1],g=o(c,b);if(g===null)return"[op:add] path not found: "+f;if(Array.isArray(g)){var k=i(g,y);if(g.length<k)return"[op:add] invalid array index: "+f;v(c,b).splice(k,0,p)}else r(g[y],p)||(v(c,b)[y]=p)}t.exports=u}),b$=st((e,t)=>{var r=bd(),o=vS(),i=vu();function s(u,c,f){var p=i(c),v=p[p.length-1],b=r(u,p);if(b===null)return"[op:remove] path not found: "+c;if(Array.isArray(b)){var y=o(b,v);if(b.length<=y)return"[op:remove] invalid array index: "+c;f(u,p).splice(y,1)}else delete f(u,p)[v]}t.exports=s}),w$=st((e,t)=>{var r=gS(),o=bd(),i=vS(),s=vu();function u(c,f,p,v){if(typeof p=="undefined")return"[op:replace] require value, but got undefined";var b=s(f),y=b[b.length-1],g=o(c,b);if(g===null)return"[op:replace] path not found: "+f;if(Array.isArray(g)){var k=i(g,y);if(g.length<=k)return"[op:replace] invalid array index: "+f;r(g[k],p)||v(c,b).splice(k,1,p)}else r(g[y],p)||(v(c,b)[y]=p)}t.exports=u}),k$=st((e,t)=>{var r=yS(),o=bd(),i=vS(),s=vu();function u(c,f,p,v){if(p!==f){var b=s(f),y=b[b.length-1],g=o(c,b);if(g===null)return"[op:move] path not found: "+f;var k=void 0;if(Array.isArray(g)){var w=i(g,y);if(g.length<=w)return"[op:move] invalid array index: "+p;k=g[w],v(c,b).splice(w,1)}else k=g[y],delete v(c,b)[y];return r(c,p,k,v)}}t.exports=u}),_$=st((e,t)=>{var r=bd(),o=vu(),i=yS();function s(u,c,f,p){var v=o(c),b=v[v.length-1],y=r(u,v);return y===null?"[op:copy] path not found: "+c:i(u,f,y[b],p)}t.exports=s}),x$=st((e,t)=>{var r=gS(),o=bd(),i=vu();function s(u,c,f){var p=i(c),v=p[p.length-1],b=o(u,p);if(b===null)return"[op:test] path not found: "+c;if(!r(b[v],f)){var y=JSON.stringify(b[v]),g=JSON.stringify(f);return"[op:test] not matched: "+y+" "+g}}t.exports=s}),iO=st((e,t)=>{function r(o){if(!o||typeof o!="object")return o;if(Array.isArray(o)){for(var i=o.length,s=new Array(i),u=0;u<i;u++)s[u]=o[u];return s}for(var c=Object.keys(o),f={},p=0,v=c.length;p<v;p++){var b=c[p];f[b]=o[b]}return f}t.exports=r}),soe=st((e,t)=>{var r=ioe(),o=yS(),i=b$(),s=w$(),u=k$(),c=_$(),f=x$(),p=gS(),v=iO(),b=vu();function y(g,k){return{get:function(w){return r(g,w)},add:function(w,x){return o(g,w,x,k)},remove:function(w){return i(g,w,k)},replace:function(w,x){return s(g,w,x,k)},move:function(w,x){return u(g,w,x,k)},copy:function(w,x){return c(g,w,x,k)},test:function(w,x){return f(g,w,x)},deepEqual:p,shallowCopy:v,toKeys:b}}t.exports=y}),loe=st((e,t)=>{function r(o,i,s,u){return u.error=s,u.partial?i[""]:o}t.exports=r}),uoe=st((e,t)=>{function r(o){return!!o}t.exports=r}),coe=st((e,t)=>{function r(o){if(o)throw new TypeError(o)}t.exports=r}),doe=st((e,t)=>{var r=iO();function o(i,s){for(var u=0,c=s.length-1;u<c;u++)i=i[s[u]]=r(i[s[u]]);return i}t.exports=o}),foe=st((e,t)=>{var r=iO();function o(s,u,c){var f=s[u];return c.has(f)||(f=r(f),c.add(f)),f}function i(s,u,c){for(var f=0,p=u.length-1;f<p;f++)s=s[u[f]]=o(s,u[f],c);return s}t.exports=i}),poe=st((e,t)=>{var r=soe(),o=loe(),i=uoe(),s=coe(),u=doe(),c=foe(),f=yS(),p=b$(),v=w$(),b=k$(),y=_$(),g=x$(),k=Set||function(){var x=[];return x.has=function(E){return this.indexOf(E)!==-1},x.add=function(E){this.push(E)},x};function w(x,E,P){if(E.length===0)return x;P=P||{};for(var O=P.strict?s:i,B=E.length===1?u:function(ne){return function(me,M){return c(me,M,ne)}}(new k),z={"":x},F,Z=0,ee=E.length;Z<ee;Z++){var K=E[Z];switch(K.op){case"add":if(O(f(z,""+K.path,K.value,B)))return o(x,z,K,P);break;case"remove":if(O(p(z,""+K.path,B)))return o(x,z,K,P);break;case"replace":if(O(v(z,""+K.path,K.value,B)))return o(x,z,K,P);break;case"move":if(O(b(z,""+K.from,""+K.path,B)))return o(x,z,K,P);break;case"copy":if(O(y(z,""+K.from,""+K.path,B)))return o(x,z,K,P);break;case"test":if(O(g(z,""+K.path,K.value)))return o(x,z,K,P);break;default:if(P.custom&&P.custom[K.op]){if(F=F||r(z,B),O(P.custom[K.op](F,K,Z,E)))return o(x,z,K,P)}else return O("[op:"+K.op+"] unknown"),o(x,z,K,P);break}}return z[""]}t.exports=w}),hoe=st((e,t)=>{t.exports=poe()}),moe=st((e,t)=>{(function(r,o){typeof e=="object"&&typeof t=="object"?t.exports=o():typeof e=="object"?e.blobCompare=o():r.blobCompare=o()})(window,function(){return function(r){var o={};function i(s){if(o[s])return o[s].exports;var u=o[s]={i:s,l:!1,exports:{}};return r[s].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=r,i.c=o,i.d=function(s,u,c){i.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:c})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,u){if(1&u&&(s=i(s)),8&u||4&u&&typeof s=="object"&&s&&s.__esModule)return s;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:s}),2&u&&typeof s!="string")for(var f in s)i.d(c,f,function(p){return s[p]}.bind(null,f));return c},i.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(u,"a",u),u},i.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},i.p="",i(i.s=4)}([function(r,o,i){var s=function(v,b){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return function(y,g){var k=[],w=!0,x=!1,E=void 0;try{for(var P,O=y[Symbol.iterator]();!(w=(P=O.next()).done)&&(k.push(P.value),!g||k.length!==g);w=!0);}catch(B){x=!0,E=B}finally{try{!w&&O.return&&O.return()}finally{if(x)throw E}}return k}(v,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=function(){function v(b,y){for(var g=0;g<y.length;g++){var k=y[g];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,y,g){return y&&v(b.prototype,y),g&&v(b,g),b}}();function c(v){if(Array.isArray(v)){for(var b=0,y=Array(v.length);b<v.length;b++)y[b]=v[b];return y}return Array.from(v)}var f=i(2),p=function(v){function b(y){(function(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")})(this,b);var g=function(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?k:w}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return g._messageId=1,g._messages=new Map,g._worker=y,g._worker.onmessage=g._onMessage.bind(g),g._id=Math.ceil(1e7*Math.random()),g}return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}(b,v),u(b,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(y){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k=this,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],x=arguments[3];return new Promise(function(E,P){var O=k._messageId++;k._messages.set(O,[E,P,x]),k._worker.postMessage([O,g,y],w||[])})}},{key:"postMessage",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments[2];return new Promise(function(x,E){var P=g._messageId++;g._messages.set(P,[x,E,w]),g._worker.postMessage([P,y],k||[])})}},{key:"emit",value:function(y){for(var g=arguments.length,k=Array(g>1?g-1:0),w=1;w<g;w++)k[w-1]=arguments[w];this._worker.postMessage({eventName:y,args:k})}},{key:"_onMessage",value:function(y){var g;if(!Array.isArray(y.data)&&y.data.eventName)return(g=function P(O,B,z){O===null&&(O=Function.prototype);var F=Object.getOwnPropertyDescriptor(O,B);if(F===void 0){var Z=Object.getPrototypeOf(O);return Z===null?void 0:P(Z,B,z)}if("value"in F)return F.value;var ee=F.get;return ee!==void 0?ee.call(z):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this)).call.apply(g,[this,y.data.eventName].concat(c(y.data.args)));var k,w=(k=y.data,Array.isArray(k)?k:Array.from(k)),x=w[0],E=w.slice(1);if(x===1)this._onEvent.apply(this,c(E));else{if(x!==0)throw new Error("Wrong message type '"+x+"'");this._onResult.apply(this,c(E))}}},{key:"_onResult",value:function(y,g,k){var w=this._messages.get(y),x=s(w,2),E=x[0],P=x[1];return this._messages.delete(y),g===1?E(k):P(k)}},{key:"_onEvent",value:function(y,g,k){var w=this._messages.get(y),x=s(w,3)[2];x&&x(g,k)}}]),b}(f);r.exports=p},function(r,o,i){r.exports=function(){return i(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(r,o,i){var s=function(){function c(f,p){for(var v=0;v<p.length;v++){var b=p[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,v){return p&&c(f.prototype,p),v&&c(f,v),f}}(),u=function(){function c(){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,c),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return s(c,[{key:"emit",value:function(f){if(!this.__listeners[f])return this;for(var p=arguments.length,v=Array(p>1?p-1:0),b=1;b<p;b++)v[b-1]=arguments[b];var y=!0,g=!1,k=void 0;try{for(var w,x=this.__listeners[f][Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var E=w.value;E.apply(void 0,v)}}catch(P){g=!0,k=P}finally{try{!y&&x.return&&x.return()}finally{if(g)throw k}}return this}},{key:"once",value:function(f,p){var v=this,b=function y(){v.off(f,y),p.apply(void 0,arguments)};return this.on(f,b)}},{key:"on",value:function(f,p){return this.__listeners[f]||(this.__listeners[f]=[]),this.__listeners[f].push(p),this}},{key:"off",value:function(f,p){return this.__listeners[f]=p?this.__listeners[f].filter(function(v){return v!==p}):[],this}}]),c}();r.exports=u},function(r,o,i){var s=window.URL||window.webkitURL;r.exports=function(u,c){try{try{var f;try{(f=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(u),f=f.getBlob()}catch(p){f=new Blob([u])}return new Worker(s.createObjectURL(f))}catch(p){return new Worker("data:application/javascript,"+encodeURIComponent(u))}}catch(p){if(!c)throw Error("Inline worker is not supported");return new Worker(c)}}},function(r,o,i){i.r(o);var s=i(0),u=i.n(s),c=i(1),f=i.n(c);i.d(o,"workersEnabled",function(){return p}),i.d(o,"default",function(){return v});let p=!!window.Worker;class v{static toBinaryStringWithWorker(y,g){return et(this,null,function*(){let k=new u.a(new f.a),w=yield k.exec("binary",{blob:y,chunk:g});return k.terminate(),w})}static toBinaryStringWithoutWorker(y,g){return function(k,w){return new Promise((x,E)=>{let P=new FileReader,O=w?Math.min(w,k.size):k.size,B=k.slice(0,O);P.onload=()=>x(P.result),P.onerror=E,P.readAsBinaryString(B)})}(y,g)}static toBinaryString(y,g,k=!0){return k&&p?this.toBinaryStringWithWorker(y,g):this.toBinaryStringWithoutWorker(y,g)}static toArrayBufferWithWorker(y,g){return et(this,null,function*(){let k=new u.a(new f.a),w=yield k.exec("buffer",{blob:y,chunk:g});return k.terminate(),w})}static toArrayBufferWithoutWorker(y,g){return function(k,w){return new Promise((x,E)=>{let P=new FileReader,O=w?Math.min(w,k.size):k.size,B=k.slice(0,O);P.onload=()=>x(P.result),P.onerror=E,P.readAsArrayBuffer(B)})}(y,g)}static toArrayBuffer(y,g,k=!0){return k&&p?this.toArrayBufferWithWorker(y,g):this.toArrayBufferWithoutWorker(y,g)}static compareBuffersWithWorker(y,g){return et(this,null,function*(){if(y===g)return!0;let k=new u.a(new f.a),w=yield k.exec("compare",{buf1:y,buf2:g},[y,g]);return k.terminate(),w})}static compareBuffersWithoutWorker(y,g){return function(k,w){if(k===w)return!0;if(k.byteLength!==w.byteLength)return!1;let x=new DataView(k),E=new DataView(w);for(var P=k.byteLength;P--;)if(x.getUint8(P)!==E.getUint8(P))return!1;return!0}(y,g)}static compareBuffers(y,g,k=!0){return k&&p?this.compareBuffersWithWorker(y,g):this.compareBuffersWithoutWorker(y,g)}static sizeEqual(y,g){return y.size===g.size}static typeEqual(y,g){return y.type===g.type}static magicNumbersEqual(y,g,k=!0){return et(this,null,function*(){if(y===g)return!0;let w=[24,16,14,12,8,6,4],[x,E]=yield Promise.all([this.toBinaryString(y,24,k),this.toBinaryString(g,24,k)]);for(let P of w)if(x.substring(0,P)===E.substring(0,P))return!0;return!1})}static bytesEqualWithBinaryString(y,g,k,w=!0){return et(this,null,function*(){if(y===g)return!0;let[x,E]=yield Promise.all([this.toBinaryString(y,k,w),this.toBinaryString(g,k,w)]);return x===E})}static bytesEqualWithArrayBuffer(y,g,k,w=!0){return et(this,null,function*(){if(y===g)return!0;let[x,E]=yield Promise.all([this.toArrayBuffer(y,k,w),this.toArrayBuffer(g,k,w)]);return this.compareBuffers(x,E,w)})}static isEqual(y,g){return et(this,arguments,function*(k,w,{methods:x=["size","type","magic","byte"],byte:E="buffer",partial:P=!1,chunks:O=null,worker:B=!0}={}){let z=null;for(let F of x){if(z===!1||P&&z===!0)break;switch(F){case"byte":case"bytes":case"content":O=O instanceof Array?O:[k.size],z=!0;for(let Z of O){let ee=!1;ee=E==="buffer"?yield this.bytesEqualWithArrayBuffer(k,w,Z,B):yield this.bytesEqualWithBinaryString(k,w,Z,B),ee||(z=!1)}break;case"magic":case"headers":case"numbers":case"mime":z=yield this.magicNumbersEqual(k,w,B);break;case"size":case"sizes":z=this.sizeEqual(k,w);break;case"type":case"types":z=this.typeEqual(k,w);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return z})}}}])})}),S$={};sa(S$,{ToolbarDropdownSelect:()=>Dae,default:()=>Bae}),dt.exports=ti(S$),$e(),al();var E$=Ne;ua();var goe=0,voe=class{constructor(e){this._studio=e,St(this,"_id"),St(this,"_state",{type:"Ready"}),this._id=String(goe++)}get status(){return this._state.type}reset(){let{_state:e}=this;if(e.type!=="Ready")if(e.type==="Captured")this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard();else throw e.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:e}=this;if(e.type==="Captured")e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"};else if(e.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw e.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(e){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let t=!0;try{this._state=J({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(e){let t=[],r=this._studio.tempTransaction(i=>{let s=!0,u={set:(c,f)=>{if(!s)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:p,path:v}=(0,E$.getPointerParts)(c);if(!lr(p))throw new Error("We can only scrub props of Sheet Objects for now");i.set(c,f),t.push(c)}};try{e(u)}finally{s=!1}}),o=this._studio.tempTransaction(({stateEditors:i})=>{t.forEach(s=>{let{root:u,path:c}=(0,E$.getPointerParts)(s);if(!lr(u))return;let f=u.template.getDefaultsAtPointer(s);No(f,(p,v)=>{i.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(Se(J({},u.address),{pathToProp:v}))},c)})});return{transaction:r,flagsTransaction:o}}discard(){let{_state:e}=this;if(e.type==="Captured"||e.type==="Ready")e.type==="Captured"&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"};else throw e.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},yoe=Ne,P$=typeof window!="undefined"?Promise.resolve().then(()=>(Qne(),c$)).then(e=>e.default):null,boe=class{constructor(e){this.studio=e,St(this,"_rendered",!1),St(this,"_nonSSRBits",P$?P$.then(t=>new t):Promise.reject()),St(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(e=>{e.render()}).catch(e=>{throw console.error(e),e}))}hide(){this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,yoe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(e,t){let r=!1,o=null;return this._nonSSRBits.then(i=>{r||(o=i.renderToolset(e,t))}).catch(i=>{console.error(i)}),()=>{if(o){o();return}r||(r=!0)}}},bS=Ne;function woe(e){return e}var koe=(e,t=woe)=>{let r=o=>({type:e,payload:t(o)});return r.type=e,r.is=o=>o&&o.type&&o.type===e,r},Hi=koe,C$=Q(aoe()),I$=Q(hoe());Sp();var wS,_oe=new Uint8Array(16);function xoe(){if(!wS&&(wS=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wS(_oe)}var Soe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Eoe(e){return typeof e=="string"&&Soe.test(e)}var Poe=Eoe,sn=[];for(kS=0;kS<256;++kS)sn.push((kS+256).toString(16).substr(1));var kS;function Coe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(sn[e[t+0]]+sn[e[t+1]]+sn[e[t+2]]+sn[e[t+3]]+"-"+sn[e[t+4]]+sn[e[t+5]]+"-"+sn[e[t+6]]+sn[e[t+7]]+"-"+sn[e[t+8]]+sn[e[t+9]]+"-"+sn[e[t+10]]+sn[e[t+11]]+sn[e[t+12]]+sn[e[t+13]]+sn[e[t+14]]+sn[e[t+15]]).toLowerCase();if(!Poe(r))throw TypeError("Stringified UUID is invalid");return r}var Ioe=Coe;function joe(e,t,r){e=e||{};var o=e.random||(e.rng||xoe)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=o[i];return t}return Ioe(o)}var Ooe=joe,Q0={replaceHistory:Hi("@history/replaceHistory"),startHistoryFromScratch:Hi("@history/startHistoryFromScratch"),undo:Hi("@history/undo"),redo:Hi("@history/redo")},Toe={type:"@history/unknownAction",payload:""},Aoe={maxNumberOfCommits:100},Doe=(e,t=Aoe)=>{let r=sO(e(void 0,Toe));return function(o,i){return Q0.startHistoryFromScratch.is(i)?sO(e(void 0,i.payload)):Q0.replaceHistory.is(i)?i.payload:Q0.undo.is(i)?o?Noe(o):r:Q0.redo.is(i)?o?Roe(o):r:o?zoe(o,e(o.innerState,i),t):sO(e(void 0,i))}};function sO(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function zoe(e,t,r){if(t===e.innerState)return e;let o=Boe(e.innerState,t);if(o.forwardDiff.length===0)return e;let i=gs(e.listOfCommitHashes),s={currentCommitHash:o.hash,commitsByHash:J({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==i){let u=e.listOfCommitHashes.findIndex(c=>c===e.currentCommitHash);e.listOfCommitHashes.slice(u+1).forEach(c=>{delete s.commitsByHash[c]}),s.listOfCommitHashes.splice(u+1,s.listOfCommitHashes.length)}if(s.listOfCommitHashes.push(o.hash),s.commitsByHash[o.hash]=o,s.listOfCommitHashes.length>r.maxNumberOfCommits){let u=s.listOfCommitHashes.length-r.maxNumberOfCommits;s.listOfCommitHashes.slice(0,u).forEach(c=>{delete s.commitsByHash[c]}),s.listOfCommitHashes.splice(0,u)}return s}function Boe(e,t){let r=C$.default.diff(e,t,{invertible:!1}),o=C$.default.diff(t,e,{invertible:!1}),i=Date.now(),s=Ooe();return{forwardDiff:r,backwardDiff:o,timestamp:i,hash:s}}function Noe(e){if(e.currentCommitHash===void 0)return e;let t=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);if(t===-1)throw new Error("This should never happen");let r=e.commitsByHash[e.currentCommitHash],o=(0,I$.default)(e.innerState,r.backwardDiff),i=t-1,s=i===-1?void 0:e.listOfCommitHashes[i];return Se(J({},e),{currentCommitHash:s,innerState:o})}function Roe(e){if(e.listOfCommitHashes.length===0)return e;let t=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);if(t===e.listOfCommitHashes.length-1)return e;let r=t+1,o=e.listOfCommitHashes[r],i=e.commitsByHash[o],s=(0,I$.default)(e.innerState,i.forwardDiff);return Se(J({},e),{currentCommitHash:o,innerState:s})}tS();var _S={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},j$=Hi("@storeBundle/replacePersistentState",e=>e),O$=Hi("@storeBundle/reduceParts",e=>e),Uh={historic:Q0,replacePersistentState:j$,reduceParts:O$},T$=Hi("@storeBundle/setInnerHistoricState",e=>e),Foe=(e=_S.historic,t)=>T$.is(t)?t.payload:e,lO=Doe(Foe),A$=(e,t)=>{if(j$.is(t)){let{historic:r,ahistoric:o}=t.payload,i=(e==null?void 0:e.ephemeral)||_S.ephemeral;return{$persistent:{historic:r,ahistoric:o},ephemeral:i}}else if(e){let{historic:r,ahistoric:o}=e.$persistent,{ephemeral:i}=e;if(O$.is(t)){let s={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},u=t.payload(s);if(u===s)return e;r.innerState!==u.historic&&(r=lO(r,T$(u.historic))),o=u.ahistoric,i=u.ephemeral}else{let s=lO(r,t);if(s===r)return e;r=s}return{$persistent:r===e.$persistent.historic&&o===e.$persistent.ahistoric?e.$persistent:{historic:r,ahistoric:o},ephemeral:i}}else{let r=lO(void 0,{}),o=_S.ahistoric,i=_S.ephemeral;return{$persistent:{historic:r,ahistoric:o},ephemeral:i}}},D$=Hi("@history/pushTempAction",e=>e),z$=Hi("@history/discardTempAction",e=>e),B$=Hi("@history/commitTempAction",e=>e),Moe=0,Uoe=()=>{let e=Moe++;return{push:t=>D$({id:e,originalAction:t}),discard:()=>z$(e),commit:()=>B$(e)}},Voe=(e,t)=>{if(e){let{tempActions:r,permanent:o}=e.$temps,i;if(D$.is(t))r=[...r,t];else if(B$.is(t)){let u=r.find(c=>c.payload.id===t.payload);u?(i=u.payload.originalAction,r=r.filter(c=>c.payload.id!==t.payload)):eS.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else z$.is(t)?r=r.filter(u=>u.payload.id!==t.payload):i=t;i&&(o=A$(e.$temps.permanent,i));let s={historic:o.$persistent.historic.innerState,ahistoric:o.$persistent.ahistoric,ephemeral:o.ephemeral};for(let u of r)s=u.payload.originalAction.payload(s);return J({$temps:{tempActions:r,permanent:o},$persistent:o.$persistent},s)}else{let r=A$(void 0,t);return{$temps:{permanent:r,tempActions:[]},$persistent:r.$persistent,historic:r.$persistent.historic.innerState,ahistoric:r.$persistent.ahistoric,ephemeral:r.ephemeral}}};Oi(),Oi(),Fs();function N$(e,t){if(typeof e!="object"||e===null)return;if(t.length===0){for(let u of Object.keys(e))delete e[u];return}let r=t.slice(0,t.length-1),o=e,i=new WeakMap;for(let u of r){let c=o,f=c[u];if(typeof f!="object"||f===null)return;i.set(f,c),o=f}let s=t.slice().reverse();for(let u of s){if(delete o[u],Object.keys(o).length>0)return;o=i.get(o)}}function Hoe(e,{scale:t,origin:r,translate:o}){let i=r+(e-r)*t;return o+i}function Ha(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Vh(e){return!!e&&!!e[Io]}function wd(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Zoe}(e)||Array.isArray(e)||!!e[W$]||!!e.constructor[W$]||cO(e)||dO(e))}function J0(e,t,r){r===void 0&&(r=!1),Hh(e)===0?(r?Object.keys:xO)(e).forEach(function(o){r&&typeof o=="symbol"||t(o,e[o],e)}):e.forEach(function(o,i){return t(i,o,e)})}function Hh(e){var t=e[Io];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:cO(e)?2:dO(e)?3:0}function uO(e,t){return Hh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Loe(e,t){return Hh(e)===2?e.get(t):e[t]}function R$(e,t,r){var o=Hh(e);o===2?e.set(t,r):o===3?(e.delete(t),e.add(r)):e[t]=r}function Koe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function cO(e){return $oe&&e instanceof Map}function dO(e){return Goe&&e instanceof Set}function kd(e){return e.o||e.t}function fO(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Xoe(e);delete t[Io];for(var r=xO(t),o=0;o<r.length;o++){var i=r[o],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function pO(e,t){return t===void 0&&(t=!1),hO(e)||Vh(e)||!wd(e)||(Hh(e)>1&&(e.set=e.add=e.clear=e.delete=qoe),Object.freeze(e),t&&J0(e,function(r,o){return pO(o,!0)},!0)),e}function qoe(){Ha(2)}function hO(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Zs(e){var t=Yoe[e];return t||Ha(18,e),t}function F$(){return ey}function mO(e,t){t&&(Zs("Patches"),e.u=[],e.s=[],e.v=t)}function xS(e){gO(e),e.p.forEach(Woe),e.p=null}function gO(e){e===ey&&(ey=e.l)}function M$(e){return ey={p:[],l:ey,h:e,m:!0,_:0}}function Woe(e){var t=e[Io];t.i===0||t.i===1?t.j():t.O=!0}function vO(e,t){t._=t.p.length;var r=t.p[0],o=e!==void 0&&e!==r;return t.h.g||Zs("ES5").S(t,e,o),o?(r[Io].P&&(xS(t),Ha(4)),wd(e)&&(e=SS(t,e),t.l||ES(t,e)),t.u&&Zs("Patches").M(r[Io],e,t.u,t.s)):e=SS(t,r,[]),xS(t),t.u&&t.v(t.u,t.s),e!==q$?e:void 0}function SS(e,t,r){if(hO(t))return t;var o=t[Io];if(!o)return J0(t,function(s,u){return U$(e,o,t,s,u,r)},!0),t;if(o.A!==e)return t;if(!o.P)return ES(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var i=o.i===4||o.i===5?o.o=fO(o.k):o.o;J0(o.i===3?new Set(i):i,function(s,u){return U$(e,o,i,s,u,r)}),ES(e,i,!1),r&&e.u&&Zs("Patches").R(o,r,e.u,e.s)}return o.o}function U$(e,t,r,o,i,s){if(Vh(i)){var u=SS(e,i,s&&t&&t.i!==3&&!uO(t.D,o)?s.concat(o):void 0);if(R$(r,o,u),!Vh(u))return;e.m=!1}if(wd(i)&&!hO(i)){if(!e.h.F&&e._<1)return;SS(e,i),t&&t.A.l||ES(e,i)}}function ES(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&pO(t,r)}function yO(e,t){var r=e[Io];return(r?kd(r):e)[t]}function V$(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=Object.getPrototypeOf(r)}}function bO(e){e.P||(e.P=!0,e.l&&bO(e.l))}function wO(e){e.o||(e.o=fO(e.t))}function kO(e,t,r){var o=cO(t)?Zs("MapSet").N(t,r):dO(t)?Zs("MapSet").T(t,r):e.g?function(i,s){var u=Array.isArray(i),c={i:u?1:0,A:s?s.A:F$(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},f=c,p=CS;u&&(f=[c],p=IS);var v=Proxy.revocable(f,p),b=v.revoke,y=v.proxy;return c.k=y,c.j=b,y}(t,r):Zs("ES5").J(t,r);return(r?r.A:F$()).p.push(o),o}function PS(e){return Vh(e)||Ha(22,e),function t(r){if(!wd(r))return r;var o,i=r[Io],s=Hh(r);if(i){if(!i.P&&(i.i<4||!Zs("ES5").K(i)))return i.t;i.I=!0,o=H$(r,s),i.I=!1}else o=H$(r,s);return J0(o,function(u,c){i&&Loe(i.t,u)===c||R$(o,u,t(c))}),s===3?new Set(o):o}(e)}function H$(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return fO(e)}var L$,ey,_O=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",$oe=typeof Map!="undefined",Goe=typeof Set!="undefined",K$=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",q$=_O?Symbol.for("immer-nothing"):((L$={})["immer-nothing"]=!0,L$),W$=_O?Symbol.for("immer-draftable"):"__$immer_draftable",Io=_O?Symbol.for("immer-state"):"__$immer_state",Zoe=""+Object.prototype.constructor,xO=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Xoe=Object.getOwnPropertyDescriptors||function(e){var t={};return xO(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Yoe={},CS={get:function(e,t){if(t===Io)return e;var r=kd(e);if(!uO(r,t))return function(i,s,u){var c,f=V$(s,u);return f?"value"in f?f.value:(c=f.get)===null||c===void 0?void 0:c.call(i.k):void 0}(e,r,t);var o=r[t];return e.I||!wd(o)?o:o===yO(e.t,t)?(wO(e),e.o[t]=kO(e.A.h,o,e)):o},has:function(e,t){return t in kd(e)},ownKeys:function(e){return Reflect.ownKeys(kd(e))},set:function(e,t,r){var o=V$(kd(e),t);if(o!=null&&o.set)return o.set.call(e.k,r),!0;if(!e.P){var i=yO(kd(e),t),s=i==null?void 0:i[Io];if(s&&s.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Koe(r,i)&&(r!==void 0||uO(e.t,t)))return!0;wO(e),bO(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return yO(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,wO(e),bO(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=kd(e),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty:function(){Ha(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ha(12)}},IS={};J0(CS,function(e,t){IS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),IS.deleteProperty=function(e,t){return CS.deleteProperty.call(this,e[0],t)},IS.set=function(e,t,r){return CS.set.call(this,e[0],t,r,e[0])};var Qoe=function(){function e(r){var o=this;this.g=K$,this.F=!0,this.produce=function(i,s,u){if(typeof i=="function"&&typeof s!="function"){var c=s;s=i;var f=o;return function(g){var k=this;g===void 0&&(g=c);for(var w=arguments.length,x=Array(w>1?w-1:0),E=1;E<w;E++)x[E-1]=arguments[E];return f.produce(g,function(P){var O;return(O=s).call.apply(O,[k,P].concat(x))})}}var p;if(typeof s!="function"&&Ha(6),u!==void 0&&typeof u!="function"&&Ha(7),wd(i)){var v=M$(o),b=kO(o,i,void 0),y=!0;try{p=s(b),y=!1}finally{y?xS(v):gO(v)}return typeof Promise!="undefined"&&p instanceof Promise?p.then(function(g){return mO(v,u),vO(g,v)},function(g){throw xS(v),g}):(mO(v,u),vO(p,v))}if(!i||typeof i!="object")return(p=s(i))===q$?void 0:(p===void 0&&(p=i),o.F&&pO(p,!0),p);Ha(21,i)},this.produceWithPatches=function(i,s){return typeof i=="function"?function(f){for(var p=arguments.length,v=Array(p>1?p-1:0),b=1;b<p;b++)v[b-1]=arguments[b];return o.produceWithPatches(f,function(y){return i.apply(void 0,[y].concat(v))})}:[o.produce(i,s,function(f,p){u=f,c=p}),u,c];var u,c},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){wd(r)||Ha(8),Vh(r)&&(r=PS(r));var o=M$(this),i=kO(this,r,void 0);return i[Io].C=!0,gO(o),i},t.finishDraft=function(r,o){var i=r&&r[Io],s=i.A;return mO(s,o),vO(void 0,s)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!K$&&Ha(20),this.g=r},t.applyPatches=function(r,o){var i;for(i=o.length-1;i>=0;i--){var s=o[i];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}var u=Zs("Patches").$;return Vh(r)?u(r,o):this.produce(r,function(c){return u(c,o.slice(i+1))})},e}(),jo=new Qoe;jo.produce,jo.produceWithPatches.bind(jo),jo.setAutoFreeze.bind(jo),jo.setUseProxies.bind(jo),jo.applyPatches.bind(jo);var SO=jo.createDraft.bind(jo),EO=jo.finishDraft.bind(jo);dC(),pC(),kC(),Ap(),xC(),Qx(),_r(),ua();var La={create(e){let t={byId:{},allIds:{}};if(e)for(let[r,o]of e)t.byId[r]=o,t.allIds[r]=!0;return t},shallowCopy(e){return{byId:J({},e==null?void 0:e.byId),allIds:J({},e==null?void 0:e.allIds)}},add(e,t,r){return{byId:Se(J({},e==null?void 0:e.byId),{[t]:r}),allIds:Se(J({},e==null?void 0:e.allIds),{[t]:!0})}},merge(e){let t=La.create();for(let r=0;r<e.length;r++)t.byId=J(J({},t.byId),e[r].byId),t.allIds=J(J({},t.allIds),e[r].allIds);return t},remove(e,t){let r=La.shallowCopy(e);return delete r.allIds[t],delete r.byId[t],r},filter(e,t){let r=La.shallowCopy(e);for(let[o,i]of Object.entries(r.byId))t(i)||(delete r.allIds[o],delete r.byId[o]);return r}},$$=e=>(PO=e,CO),PO,ln=()=>{if(PO===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return PO},CO;(e=>{(t=>{(r=>{(o=>{function i(s){let u=ln().historic;u.panelPositions!=null||(u.panelPositions={}),u.panelPositions[s.panelId]=s.position}o.setPanelPosition=i})(r.panelPositions||(r.panelPositions={})),(o=>{function i(){var s;return(s=ln().historic).panels!=null||(s.panels={}),ln().historic.panels}o._ensure=i,(s=>{function u(){let c=e.studio.historic.panels._ensure();return c.outlinePanel!=null||(c.outlinePanel={}),c.outlinePanel}s._ensure=u,(c=>{function f(v){let b=[];for(let y of fi(v))Gi(y)?b.push(J({type:"Project"},y.address)):Ur(y)?(b.push(J({type:"Sheet"},y.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(y.address)):Rd(y)?b.push(J({type:"Sheet"},y.address)):lr(y)?(b.push(J({type:"SheetObject"},y.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(y.sheet.address)):Fd(y)&&b.push(J({type:"SheetObject"},y.address));s._ensure().selection=b}c.set=f;function p(){s._ensure().selection=[]}c.unset=p})(s.selection||(s.selection={}))})(o.outline||(o.outline={})),(s=>{function u(){let c=e.studio.historic.panels._ensure();return c.sequenceEditor!=null||(c.sequenceEditor={}),c.sequenceEditor}s._ensure=u,(c=>{function f(){let v=s._ensure();return v.graphEditor!=null||(v.graphEditor={height:.5,isOpen:!1}),v.graphEditor}function p(v){f().isOpen=v.isOpen}c.setIsOpen=p})(s.graphEditor||(s.graphEditor={}))})(o.sequenceEditor||(o.sequenceEditor={}))})(r.panels||(r.panels={})),(o=>{(i=>{function s(u){let c=ln().historic;return c.projects.stateByProjectId[u.projectId]||(c.projects.stateByProjectId[u.projectId]={stateBySheetId:{}}),c.projects.stateByProjectId[u.projectId]}i._ensure=s,(u=>{function c(p){let v=e.studio.historic.projects.stateByProjectId._ensure(p);return v.stateBySheetId[p.sheetId]||(v.stateBySheetId[p.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),v.stateBySheetId[p.sheetId]}u._ensure=c;function f(p){e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(p).selectedInstanceId=p.sheetInstanceId}u.setSelectedInstanceId=f,(p=>{function v(x){let{selectedPropsByObject:E}=u._ensure(x).sequenceEditor;E[x.objectKey]||(E[x.objectKey]={});let P=E[x.objectKey],O=ji(x.pathToProp),B=new Set(Object.keys(H0));for(let[F,Z]of Object.entries(PS(E)))for(let[ee,K]of Object.entries(Z))B.delete(K);let z=B.size>0?B.values().next().value:Object.keys(H0)[0];P[O]=z}p.addPropToGraphEditor=v;function b(x){let{selectedPropsByObject:E}=u._ensure(x).sequenceEditor;if(!E[x.objectKey])return;let P=E[x.objectKey],O=ji(x.pathToProp);P[O]&&N$(E,[x.objectKey,O])}p.removePropFromGraphEditor=b;function y(x){let E=e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(x).sequenceEditor;return E.markerSet||(E.markerSet=La.create()),E.markerSet}function g(x){let E=y(x.sheetAddress),P=x.markers.filter(F=>!!isFinite(F.position)).map(F=>Se(J({},F),{position:x.snappingFunction(F.position)})),O=Ec(P,"id"),B=La.filter(E,F=>F&&!O[F.id]),z=Ec(Object.values(B.byId),"position");P.forEach(({position:F})=>{let Z=z[F];Z&&(B=La.remove(B,Z.id))}),Object.assign(E,La.merge([B,La.create(P.map(F=>[F.id,F]))]))}p.replaceMarkers=g;function k(x){let E=y(x.sheetAddress);Object.assign(E,La.remove(E,x.markerId))}p.removeMarker=k;function w(x){let E=y(x.sheetAddress).byId[x.markerId];E!==void 0&&(E.label=x.label)}p.updateMarker=w})(u.sequenceEditor||(u.sequenceEditor={}))})(i.stateBySheetId||(i.stateBySheetId={}))})(o.stateByProjectId||(o.stateByProjectId={}))})(r.projects||(r.projects={}))})(t.historic||(t.historic={})),(r=>{function o(i){ln().ephemeral.showOutline=i}r.setShowOutline=o,(i=>{(s=>{function u(c){let f=ln().ephemeral;return f.projects.stateByProjectId[c.projectId]||(f.projects.stateByProjectId[c.projectId]={stateBySheetId:{}}),f.projects.stateByProjectId[c.projectId]}s._ensure=u,(c=>{function f(p){let v=e.studio.ephemeral.projects.stateByProjectId._ensure(p);return v.stateBySheetId[p.sheetId]||(v.stateBySheetId[p.sheetId]={stateByObjectKey:{}}),v.stateBySheetId[p.sheetId]}c._ensure=f,(p=>{function v(b){var y;let g=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(b).stateByObjectKey;return g[y=b.objectKey]!=null||(g[y]={}),g[b.objectKey]}p._ensure=v,(b=>{function y(k){let w=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(k);return w.valuesBeingScrubbed!=null||(w.valuesBeingScrubbed={}),w.valuesBeingScrubbed}b._ensure=y;function g(k){ys(y(k),k.pathToProp,!0)}b.flag=g})(p.propsBeingScrubbed||(p.propsBeingScrubbed={}))})(c.stateByObjectKey||(c.stateByObjectKey={}))})(s.stateBySheetId||(s.stateBySheetId={}))})(i.stateByProjectId||(i.stateByProjectId={}))})(r.projects||(r.projects={}))})(t.ephemeral||(t.ephemeral={})),(r=>{function o(f){ln().ahistoric.pinOutline=f}r.setPinOutline=o;function i(f){ln().ahistoric.pinDetails=f}r.setPinDetails=i;function s(f){ln().ahistoric.pinNotifications=f}r.setPinNotifications=s;function u(f){ln().ahistoric.visibilityState=f}r.setVisibilityState=u;function c(f){let p=dx(f.map(y=>y.pathToProp)),v=f.map(({keyframe:y,pathToProp:g})=>({keyframe:y,pathToProp:g.slice(p.length)})),b=ln();b.ahistoric.clipboard?b.ahistoric.clipboard.keyframesWithRelativePaths=v:b.ahistoric.clipboard={keyframesWithRelativePaths:v}}r.setClipboardKeyframes=c,(f=>{(p=>{function v(b){let y=ln().ahistoric;return y.projects.stateByProjectId[b.projectId]||(y.projects.stateByProjectId[b.projectId]={stateBySheetId:{}}),y.projects.stateByProjectId[b.projectId]}p._ensure=v,(b=>{function y(k){let w=e.studio.ahistoric.projects.stateByProjectId._ensure(k);return w.collapsedItemsInOutline||(w.collapsedItemsInOutline={}),w.collapsedItemsInOutline}b._ensure=y;function g(k){let w=e.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(k);k.isCollapsed?w[k.itemKey]=!0:delete w[k.itemKey]}b.set=g})(p.collapsedItemsInOutline||(p.collapsedItemsInOutline={})),(b=>{function y(g){let k=e.studio.ahistoric.projects.stateByProjectId._ensure(g);return k.stateBySheetId[g.sheetId]||(k.stateBySheetId[g.sheetId]={}),k.stateBySheetId[g.sheetId]}b._ensure=y,(g=>{function k(w){let x=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(w);return x.sequence||(x.sequence={}),x.sequence}g._ensure=k,(w=>{function x(P){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(P).focusRange={range:P.range,enabled:P.enabled}}w.set=x;function E(P){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(P).focusRange=void 0}w.unset=E})(g.focusRange||(g.focusRange={})),(w=>{function x(E){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(E).clippedSpaceRange=J({},E.range)}w.set=x})(g.clippedSpaceRange||(g.clippedSpaceRange={})),(w=>{function x(P){let O=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(P),B=O.collapsableItems;return B||(B=O.collapsableItems=La.create()),B}function E(P){let O=x(P);Object.assign(O,La.add(O,P.studioSheetItemKey,{isCollapsed:P.isCollapsed}))}w.set=E})(g.sequenceEditorCollapsableItems||(g.sequenceEditorCollapsableItems={}))})(b.sequence||(b.sequence={}))})(p.stateBySheetId||(p.stateBySheetId={}))})(f.stateByProjectId||(f.stateByProjectId={}))})(r.projects||(r.projects={}))})(t.ahistoric||(t.ahistoric={}))})(e.studio||(e.studio={})),(t=>{(r=>{(o=>{function i(s){let u=ln().historic.coreByProject[s.projectId].revisionHistory,c=50;u.unshift(s.revision),u.length>c&&(u.length=c)}o.add=i})(r.revisionHistory||(r.revisionHistory={})),(o=>{function i(c){let f=ln().historic.coreByProject[c.projectId].sheetsById;return f[c.sheetId]||(f[c.sheetId]={staticOverrides:{byObject:{}}}),f[c.sheetId]}o._ensure=i;function s(c){let f=ln().historic.coreByProject[c.projectId].sheetsById[c.sheetId];if(!f)return;delete f.staticOverrides.byObject[c.objectKey];let p=f.sequence;p&&delete p.tracksByObject[c.objectKey]}o.forgetObject=s;function u(c){ln().historic.coreByProject[c.projectId].sheetsById[c.sheetId]&&delete ln().historic.coreByProject[c.projectId].sheetsById[c.sheetId]}o.forgetSheet=u,(c=>{function f(K){let ne=e.coreByProject.historic.sheetsById._ensure(K);return ne.sequence!=null||(ne.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),ne.sequence}c._ensure=f;function p(K){f(K).length=Xt(parseFloat(K.length.toFixed(2)),.01,1/0)}c.setLength=p;function v(K){f(K).subUnitsPerUnit=Xt(K.subUnitsPerUnit,1,po(2,12))}c.setSubUnitsPerUnit=v;function b(K){var ne;let me=e.coreByProject.historic.sheetsById.sequence._ensure(K).tracksByObject;return me[ne=K.objectKey]!=null||(me[ne]={trackData:{},trackIdByPropPath:{}}),me[K.objectKey]}function y(K,ne){let me=b(K),M=ji(K.pathToProp);if(typeof me.trackIdByPropPath[M]=="string")return;let oe=nee(),T={type:"BasicKeyframedTrack",__debugName:"".concat(K.objectKey,":").concat(M),keyframes:[]};me.trackData[oe]=T,me.trackIdByPropPath[M]=oe}c.setPrimitivePropAsSequenced=y;function g(K){let ne=b(K),me=ji(K.pathToProp),M=ne.trackIdByPropPath[me];typeof M=="string"&&(delete ne.trackIdByPropPath[me],delete ne.trackData[M],e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(K))}c.setPrimitivePropAsStatic=g;function k(K){let ne=b(K);for(let me of Object.keys(ne.trackIdByPropPath)){let M=JSON.parse(me);if(K.pathToProp.every((oe,T)=>M[T]===oe)){let oe=ne.trackIdByPropPath[me];if(typeof oe!="string")continue;delete ne.trackIdByPropPath[me],delete ne.trackData[oe]}}e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(K)}c.setCompoundPropAsStatic=k;function w(K){return b(K).trackData[K.trackId]}function x(K){let ne=w(K);if(ne)return ne.keyframes.find(me=>me.id===K.keyframeId)}function E(K){let ne=K.snappingFunction(K.position),me=w(K);if(!me)return;let{keyframes:M}=me,oe=M.findIndex(Re=>Re.position===ne);if(oe!==-1){let Re=M[oe];Re.value=K.value;return}let T=ov(M,Re=>Re.position<ne);if(T===-1){M.unshift({id:GB(),position:ne,connectedRight:!0,handles:K.handles||[.5,1,.5,0],type:K.type||"bezier",value:K.value});return}let ue=M[T];M.splice(T+1,0,{id:GB(),position:ne,connectedRight:ue.connectedRight,handles:K.handles||[.5,1,.5,0],type:K.type||"bezier",value:K.value})}c.setKeyframeAtPosition=E;function P(K){let ne=w(K);if(!ne)return;let{keyframes:me}=ne,M=me.findIndex(oe=>oe.position===K.position);M!==-1&&me.splice(M,1)}c.unsetKeyframeAtPosition=P;function O(K){let ne=w(K);if(!ne)return;let me=PS(ne.keyframes).filter(M=>K.keyframeIds.includes(M.id)).map(M=>{let oe=M.position,T=K.snappingFunction(Hoe(oe,K));return Se(J({},M),{position:T})});ee(Se(J({},K),{keyframes:me}))}c.transformKeyframes=O;function B(K){let ne=w(K);ne&&(ne.keyframes=ne.keyframes.map((me,M)=>{let oe=ne.keyframes[M-1],T=K.keyframeIds.includes(me.id),ue=K.keyframeIds.includes(oe==null?void 0:oe.id);return T&&!ue?Se(J({},me),{handles:[me.handles[0],me.handles[1],K.handles[0],K.handles[1]]}):T&&ue?Se(J({},me),{handles:[K.handles[2],K.handles[3],K.handles[0],K.handles[1]]}):ue?Se(J({},me),{handles:[K.handles[2],K.handles[3],me.handles[2],me.handles[3]]}):me}))}c.setTweenBetweenKeyframes=B;function z(K){var ne,me,M,oe,T,ue,Re,te;let Y=x(K);Y&&(Y.handles=[(me=(ne=K.end)==null?void 0:ne[0])!=null?me:Y.handles[0],(oe=(M=K.end)==null?void 0:M[1])!=null?oe:Y.handles[1],(ue=(T=K.start)==null?void 0:T[0])!=null?ue:Y.handles[2],(te=(Re=K.start)==null?void 0:Re[1])!=null?te:Y.handles[3]])}c.setHandlesForKeyframe=z;function F(K){let ne=w(K);ne&&(ne.keyframes=ne.keyframes.filter(me=>K.keyframeIds.indexOf(me.id)===-1))}c.deleteKeyframes=F;function Z(K){let ne=x(K);ne&&(ne.type=K.keyframeType)}c.setKeyframeType=Z;function ee(K){let ne=w(K);if(!ne)return;let me=PS(ne.keyframes),M=K.keyframes.filter(te=>!(typeof te.value=="number"&&!isFinite(te.value)||!te.handles.every(Y=>isFinite(Y)))).map(te=>Se(J({},te),{position:K.snappingFunction(te.position)})),oe=Ec(M,"id"),T=me.filter(te=>!oe[te.id]),ue=Ec(T,"position");M.forEach(({position:te})=>{let Y=ue[te];Y&&pk(T,Y)});let Re=mk([...T,...M],"position");ne.keyframes=Re}c.replaceKeyframes=ee})(o.sequence||(o.sequence={})),(c=>{(f=>{function p(g){var k;let w=e.coreByProject.historic.sheetsById._ensure(g).staticOverrides.byObject;return w[k=g.objectKey]!=null||(w[k]={}),w[g.objectKey]}function v(g){let k=p(g);ys(k,g.pathToProp,g.value)}f.setValueOfCompoundProp=v;function b(g){let k=p(g);ys(k,g.pathToProp,g.value)}f.setValueOfPrimitiveProp=b;function y(g){let k=e.coreByProject.historic.sheetsById._ensure(g).staticOverrides.byObject[g.objectKey];k&&N$(k,g.pathToProp)}f.unsetValueOfPrimitiveProp=y})(c.byObject||(c.byObject={}))})(o.staticOverrides||(o.staticOverrides={}))})(r.sheetsById||(r.sheetsById={}))})(t.historic||(t.historic={}))})(e.coreByProject||(e.coreByProject={}))})(CO||(CO={}));function IO(){let e,t,r=new Promise((i,s)=>{e=u=>{i(u),o.status="resolved"},t=u=>{s(u),o.status="rejected"}}),o={resolve:e,reject:t,promise:r,status:"pending"};return o}var Joe=Ne;function eae(e){let t=e.getState(),r=new Joe.Atom(t);return e.subscribe(()=>{let o=e.getState();r.set(o),t=o}),r}f1();function tae(e){var t,r=e.Symbol;return typeof r=="function"?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}var ty;typeof self!="undefined"?ty=self:typeof window!="undefined"?ty=window:typeof vr!="undefined"?ty=vr:ty=dt;var rae=tae(ty),G$=rae,Z$={INIT:"@@redux/INIT"};function X$(e,t,r){var o;if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error("Expected the enhancer to be a function.");return r(X$)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var i=e,s=t,u=[],c=u,f=!1;function p(){c===u&&(c=u.slice())}function v(){return s}function b(w){if(typeof w!="function")throw new Error("Expected listener to be a function.");var x=!0;return p(),c.push(w),function(){if(x){x=!1,p();var E=c.indexOf(w);c.splice(E,1)}}}function y(w){if(!lp(w))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof w.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,s=i(s,w)}finally{f=!1}for(var x=u=c,E=0;E<x.length;E++){var P=x[E];P()}return w}function g(w){if(typeof w!="function")throw new Error("Expected the nextReducer to be a function.");i=w,y({type:Z$.INIT})}function k(){var w,x=b;return w={subscribe:function(E){if(typeof E!="object")throw new TypeError("Expected the observer to be an object.");function P(){E.next&&E.next(v())}P();var O=x(P);return{unsubscribe:O}}},w[G$]=function(){return this},w}return y({type:Z$.INIT}),o={dispatch:y,subscribe:b,getState:v,replaceReducer:g},o[G$]=k,o}function nae(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,i){return function(){return o(i.apply(void 0,arguments))}})}function oae(e){let t=nae();return X$(e.rootReducer,void 0,t)}tS(),Ww();var jO=new WeakMap,aae=(e,t,r)=>{let o=f=>{e.dispatch(Uh.replacePersistentState(f))},i=Y$(r),s=()=>e.getState().$persistent;c();let u=()=>{let f=s(),p=jO.get(e);f!==p&&(jO.set(e,f),localStorage.setItem(i,JSON.stringify(f)))};e.subscribe(xp(u,1e3)),window&&window.addEventListener("beforeunload",u);function c(){let f=localStorage.getItem(i);if(f){let p,v=!0;try{p=JSON.parse(f),v=!1}catch(b){eS.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{v||o(p),t()}}else t()}},iae=(e,t)=>{let r=Y$(t),o=e.getState().$persistent;localStorage.removeItem(r),jO.set(e,o)};function Y$(e){return e+".persistent"}oR(),ua(),vc(),tk(),al(),D_();var jS=Ne;Yl(),_r(),Lq();function OO(e){if(typeof e=="boolean"||typeof e=="string"||typeof e=="number")return e;if(lp(e)){let t={},r=!1;for(let[o,i]of Object.entries(e))OO(i)!==void 0&&(t[o]=i,r=!0);if(r)return t}else return}function Q$(e,t,r){for(let[o,i]of Object.entries(e.props))if(i.type==="compound")Q$(i,[...t,o],r);else{if(i.type==="enum")throw new Error("Not yet implemented");r(i,[...t,o])}}function sae(e,t,r){return{set:(o,i)=>{e();let s=OO(i);if(typeof s=="undefined")return;let{root:u,path:c}=(0,jS.getPointerParts)(o);if(lr(u)){let f=u.template.getMapOfValidSequenceTracks_forStudio().getValue(),p=I_(u.template.staticConfig,c);if(!p)throw new Error("Object ".concat(u.address.objectKey," does not have a prop at ").concat(JSON.stringify(c)));let v=(b,y,g)=>{if(b==null)return;if(OO(y.deserializeAndSanitize(b))===void 0)throw new Error("Invalid value ".concat(U3(b)," for object.props").concat(g.map(x=>"[".concat(JSON.stringify(x),"]")).join("")," is invalid"));let k=Se(J({},u.address),{pathToProp:g}),w=ps(f,g);if(typeof w=="string"){let x=u.sheet.getSequence();x.position=x.closestGridPosition(x.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(Se(J({},k),{trackId:w,position:x.position,value:b,snappingFunction:x.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(Se(J({},k),{value:b}))};if(p.type==="compound"){let b=(0,jS.getPointerParts)(o).path,y=b.length;Q$(p,b,(g,k)=>{let w=k.slice(y),x=Jl(s,w);if(typeof x!="undefined")v(x,g,k);else throw new Error("Property object.props".concat(k.map(E=>"[".concat(JSON.stringify(E),"]")).join("")," is required but not provided"))})}else{if(p.type==="enum")throw new Error("Enums aren't implemented yet");v(s,p,c)}}else if(Mu(u)){let[f]=c;if(f==="subUnitsPerUnit"){if(typeof s!="number"||!Pp(s)||s<1)throw new Error("Value ".concat(s," is not an integer, which is required for setting sequence prop ").concat(f));t.coreByProject.historic.sheetsById.sequence.setSubUnitsPerUnit(Se(J({},u.address),{subUnitsPerUnit:s}))}else if(f==="length"){if(typeof s!="number"||s<=.001)throw new Error("Value ".concat(s," is not a positive number, which is required for setting sequence prop ").concat(f));t.coreByProject.historic.sheetsById.sequence.setLength(Se(J({},u.address),{length:s}))}else throw new Error("Setting sequence prop ".concat(f," is not supported"))}else throw new Error("Only setting props of SheetObject-s and sequences is supported in a transaction so far")},unset:o=>{e();let{root:i,path:s}=(0,jS.getPointerParts)(o);if(lr(i)){let u=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),c=Jl(i.template.getDefaultValues().getValue(),s),f=I_(i.template.staticConfig,s),p=(v,b)=>{let y=Se(J({},i.address),{pathToProp:b}),g=ps(u,b);typeof g=="string"?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(Se(J({},y),{trackId:g,position:i.sheet.getSequence().positionSnappedToGrid})):f!==void 0&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(y)};f.type==="compound"?No(c,(v,b)=>{p(v,b)},(0,jS.getPointerParts)(o).path):p(c,s)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return e(),r},get stateEditors(){return t}}}var lae=class{constructor(){St(this,"_reduxStore"),St(this,"_atom"),St(this,"atomP"),this._reduxStore=oae({rootReducer:Voe}),this._atom=eae(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=IO();return e.usePersistentStorage===!0?aae(this._reduxStore,()=>{this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),t.resolve()},e.persistenceKey):(this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return iae(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(Uh.historic.startHistoryFromScratch(Uh.reduceParts(t=>Se(J({},t),{historic:e}))))}tempTransaction(e){let t=Uoe(),r,o=t.push(Uh.reduceParts(i=>{let s={historic:SO(i.historic),ahistoric:SO(i.ahistoric),ephemeral:SO(i.ephemeral)},u=!0,c=()=>{if(!u)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},f=$$(s),p=sae(c,f,s);try{return e(p),u=!1,{historic:EO(s.historic),ahistoric:EO(s.ahistoric),ephemeral:EO(s.ephemeral)}}catch(v){return r=v,i}finally{$$(void 0)}}));if(this._reduxStore.dispatch(o),r)throw this._reduxStore.dispatch(t.discard()),r;return{commit:()=>{this._reduxStore.dispatch(t.commit())},discard:()=>{this._reduxStore.dispatch(t.discard())}}}undo(){this._reduxStore.dispatch(Uh.historic.undo())}redo(){this._reduxStore.dispatch(Uh.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=nR();this.tempTransaction(({stateEditors:o})=>{o.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})}).commit();let r=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return J({},r)}},uae=Ne,TO=class{constructor(){St(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let r=t();return this._values[e]=r,r}}has(e){return this._values.hasOwnProperty(e)}};ua(),$l(),$e(),_r(),N3();var cae=class{constructor(e){St(this,"ui",{hide(){ie().ui.hide()},get isHidden(){return ie().ui.isHidden},restore(){ie().ui.restore()},renderToolset(t,r){return ie().ui.renderToolset(t,r)}}),St(this,"_cache",new TO),St(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){mne()},__experimental_enablePlayPauseKeyboardShortcut(){gne()},__experimental_clearPersistentStorage(t){return ie().clearPersistentStorage(t)},__experimental_createContentOfSaveFileTyped(t){return ie().createContentOfSaveFile(t)}})}initialize(e){return ie().initialize(e)}extend(e,t){ie().extend(e,t)}transaction(e){return ie().transaction(({set:t,unset:r,stateEditors:o})=>e({set:t,unset:r,__experimental_forgetObject:i=>{if(!la(i))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");o.coreByProject.historic.sheetsById.forgetObject(i.address)},__experimental_forgetSheet:i=>{if(!il(i))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");o.coreByProject.historic.sheetsById.forgetSheet(i.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,uae.prism)(()=>Wl().filter(e=>e.type==="Theatre_SheetObject"||e.type==="Theatre_Sheet").map(e=>e.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter(r=>la(r)||il(r)).map(r=>ie().corePrivateAPI(r));ie().transaction(({stateEditors:r})=>{r.studio.historic.panels.outline.selection.set(t)})}onSelectionChange(e){let t=ie();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return ie().scrub()}getStudioProject(){let e=ie().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return ie().getStudioProject(e)}debouncedScrub(e=1e3){let t,r=xp(()=>{let o=t;o&&(t=void 0,o.commit())},e);return{capture:o=>{t||(t=this.scrub());let i=!0;try{t.capture(o),i=!1}finally{if(i){let s=t;t=void 0,s.discard()}else r()}}}}createPane(e){return ie().paneManager.createPane(e)}destroyPane(e){return ie().paneManager.destroyPane(e)}createContentOfSaveFile(e){return ie().createContentOfSaveFile(e)}};$B();var _d=Ne,dae=class{constructor(e){this._studio=e,St(this,"_cache",new TO),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale(()=>{e.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,_d.prism)(()=>{if(!(0,_d.val)(this._studio.coreP))return{};let e=(0,_d.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,_d.val)(this._studio.atomP.ephemeral.extensions.paneClasses),r={};for(let o of Object.values(e)){if(!o)continue;let i=t[o.paneClass];if(!i)continue;let{instanceId:s}=o,{extensionId:u,classDefinition:c}=i,f=_d.prism.memo("instance-".concat(o.instanceId),()=>({extensionId:u,instanceId:s,definition:c}),[c]);r[s]=f}return r}))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t=(0,_d.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),r=(0,_d.val)(this._studio.atomP.historic.panelInstanceDesceriptors),o;for(let i=1;i<1e3&&(o="".concat(e," #").concat(i),!!r[o]);i++);if(!t)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction(({drafts:i})=>{i.historic.panelInstanceDesceriptors[o]={instanceId:o,paneClass:e}}),this._getAllPanes().getValue()[o]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:t})=>{delete t.historic.panelInstanceDesceriptors[e]})}},OS=Ne;$e();var J$=30*60*1e3,fae=1e3*60*60;function pae(){return et(this,null,function*(){let e=ie().atomP.ahistoric.visibilityState;if((0,OS.val)(e)==="everythingIsVisible")return;let t=IO(),r=(0,OS.pointerToPrism)(e).onStale(()=>{(0,OS.val)(e)==="everythingIsVisible"&&(r(),t.resolve(void 0))});return t.promise})}function hae(){return et(this,null,function*(){if(!"0.7.2".match(/COMPAT/))for(yield TS(500),yield pae();;){let e=(0,OS.val)(ie().atomP.ahistoric.updateChecker);if(e&&e.result!=="error"){let t=e.lastChecked,r=Date.now(),o=Math.abs(r-t);o<J$&&(yield TS(J$-o))}try{let t=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.2"));if(t.ok){let r=yield t.json();if(!mae(r))throw new Error("Bad response");ie().transaction(({drafts:o})=>{o.ahistoric.updateChecker={lastChecked:Date.now(),result:J({},r)}}),yield TS(1e3)}else throw new Error("HTTP Error ".concat(t.statusText))}catch(t){yield TS(fae)}}})}var TS=e=>new Promise(t=>setTimeout(t,e));function mae(e){if(typeof e!="object")return!1;let t=e;return typeof t.hasUpdates!="boolean"?!1:t.hasUpdates===!0&&typeof t.newVersion=="string"&&typeof t.releasePage=="string"||t.hasUpdates===!1}var gae=Q(Ik());function Xs(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function eG(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let o=Xs(r);return(i,s)=>o.then(u=>s(u.transaction(t,i).objectStore(t)))}var AO;function Lh(){return AO||(AO=eG("keyval-store","keyval")),AO}function vae(e,t=Lh()){return t("readonly",r=>Xs(r.get(e)))}function yae(e,t,r=Lh()){return r("readwrite",o=>(o.put(t,e),Xs(o.transaction)))}function bae(e,t=Lh()){return t("readwrite",r=>(r.delete(e),Xs(r.transaction)))}function DO(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Xs(e.transaction)}function wae(e=Lh()){return e("readonly",t=>{if(t.getAllKeys)return Xs(t.getAllKeys());let r=[];return DO(t,o=>r.push(o.key)).then(()=>r)})}function kae(e=Lh()){return e("readonly",t=>{if(t.getAll)return Xs(t.getAll());let r=[];return DO(t,o=>r.push(o.value)).then(()=>r)})}function _ae(e=Lh()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([Xs(t.getAllKeys()),Xs(t.getAll())]).then(([o,i])=>o.map((s,u)=>[s,i[u]]));let r=[];return e("readonly",o=>DO(o,i=>r.push([i.key,i.value])).then(()=>r))})}var xae=e=>{let t=eG("theatrejs-".concat(e),"default-store");return{set:(r,o)=>yae(r,o,t),get:r=>vae(r,t),del:r=>bae(r,t),keys:()=>wae(t),entries:()=>_ae(t),values:()=>kae(t)}};I9(),x0();var tG="theatre-0.4",Sae=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,Eae="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",Pae=class{constructor(){St(this,"ui"),St(this,"publicApi"),St(this,"address"),St(this,"_projectsProxy",new bS.PointerProxy(new bS.Atom({}).pointer)),St(this,"projectsP",this._projectsProxy.pointer),St(this,"_store",new lae),St(this,"_corePrivateApi"),St(this,"_cache",new TO),St(this,"paneManager"),St(this,"_coreAtom",new bS.Atom({})),St(this,"_initializedDeferred",IO()),St(this,"_initializeFnCalled",!1),St(this,"_didWarnAboutNotInitializing",!1),St(this,"_coreBits"),St(this,"_rafDriver"),this.address={studioId:c0(10)},this.publicApi=new cae(this),this.ui=new boe(this),this._attachToIncomingProjects(),this.paneManager=new dae(this),typeof window!="undefined"&&setTimeout(()=>{this._initializeFnCalled||(console.error(Sae),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return et(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(Eae);let t={persistenceKey:tG,usePersistentStorage:!0};if(typeof(e==null?void 0:e.persistenceKey)=="string"&&(t.persistenceKey=e.persistenceKey),((e==null?void 0:e.usePersistentStorage)===!1||typeof window=="undefined")&&(t.usePersistentStorage=!1),e!=null&&e.__experimental_rafDriver){if(e.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let r=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!r)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=r}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(r){this._initializedDeferred.reject(r);return}typeof window!="undefined"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),hae().catch(r=>{console.error(r)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,bS.pointerToPrism)(this.projectsP),t=r=>{for(let o of Object.values(r))o.isAttachedToStudio||o.attachToStudio(this)};e.onStale(()=>{t(e.getValue())}),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer(t=>t.core,e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new voe(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||typeof e!="object")throw new Error("Extensions must be JS objects");if(typeof e.id!="string")throw new Error("extension.id must be a string");let r=(t==null?void 0:t.__experimental_reconfigure)===!0,o=e.id,i=this._store.getState().ephemeral.extensions.byId[o];if(i&&!r){if(e===i||(0,gae.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:s})=>{var u,c;s.ephemeral.extensions.byId[e.id]=e;let f=s.ephemeral.extensions.paneClasses;r&&i&&((u=i.panes)==null||u.forEach(p=>{delete f[p.class]})),(c=e.panes)==null||c.forEach(p=>{if(typeof p.class!="string")throw new Error("pane.class must be a string");if(p.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let v=f[p.class];if(v)if(r&&v.extensionId===e.id)console.warn('Pane class "'.concat(p.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(p.class,'" already exists and is supplied by extension ').concat(v));f[p.class]={extensionId:e.id,classDefinition:p}})})}getStudioProject(e){return this._cache.get("getStudioProject",()=>e.getProject("Studio"))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,()=>this.getStudioProject(t).sheet("Extension "+e))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return et(this,null,function*(){if(typeof window=="undefined")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:p=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:p=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let r=xae("".concat(e.address.projectId,"-assets")),o=K5(e),i=yield r.keys();yield Promise.all(i.map(p=>et(this,null,function*(){o.includes(p)||(yield r.del(p))}))),yield Promise.all(i.map(p=>et(this,null,function*(){var v,b;let y="".concat(t,"/").concat(p);try{(yield fetch(y,{method:"HEAD"})).ok&&(yield r.del(p))}catch(g){_0.error("Failed to access assets","Failed to access assets at ".concat((b=(v=e.config.assets)==null?void 0:v.baseUrl)!=null?b:"/",". This is likely due to a CORS issue."))}})));let s=new Map(yield r.entries()),u=new Map,c=p=>{if(u.has(p))return u.get(p);{let v=URL.createObjectURL(p);return u.set(p,v),v}},f=p=>{let v=s.get(p);if(!v)throw new Error("Asset with id ".concat(p," not found"));return c(v)};return{getAssetUrl:p=>s.has(p)?f(p):"".concat(t,"/").concat(p),createAsset:p=>et(this,null,function*(){var v,b,y;let g=K5(e),k=!1;if(g.includes(p.name)){let w;try{w=(v=s.get(p.name))!=null?v:yield fetch("".concat(t,"/").concat(p.name)).then(x=>x.ok?x.blob():void 0)}catch(x){return _0.error("Failed to access assets","Failed to access assets at ".concat((y=(b=e.config.assets)==null?void 0:b.baseUrl)!=null?y:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(w){if(k=yield(yield Promise.resolve().then(()=>Q(moe()))).default.isEqual(p,w),k)return p.name;{let x=E=>{let P=prompt(E,p.name);return P===null?!1:P===""?x("Asset name cannot be empty. Please choose a different file name for this asset."):g.includes(P)?(console.log(g),x("An asset with this name already exists. Please choose a different file name for this asset.")):(p=new File([p],P,{type:p.type}),!0)};if(!x("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return s.set(p.name,p),yield r.set(p.name,p),p.name})}})}clearPersistentStorage(e=tG){this._store.__experimental_clearPersistentStorage(e)}},zO="__TheatreJS_StudioBundle",Cae="__TheatreJS_CoreBundle",Iae="__TheatreJS_Notifications",jae=class{constructor(e){this._studio=e,St(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=e;let t;e.getBitsForStudio(this._studio,r=>{t=r}),this._studio.setCoreBits(t)}},Oae=Q(ae());Ee();var rG,Tae=L.div(rG||(rG=U([""]))),Aae=e=>Oae.default.createElement(Tae,null),Dae=Aae;x0();var BO=new Pae;Ht(BO);var zae=BO.publicApi,Bae=zae;Nae();function Nae(){if(typeof window=="undefined")return;let e=window[zO];if(typeof e!="undefined")throw typeof e=="object"&&e&&typeof e.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(zO," seems to be already set by a module other than @theatre/core."));let t=new jae(BO);window[zO]=t;let r=window[Cae];r&&r!==null&&r.type==="Theatre_CoreBundle"&&t.registerCoreBundle(r)}typeof window!="undefined"&&(window[Iae]={notify:_0});/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)

	queue-microtask/index.js:
	  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

	react/cjs/react.production.min.js:
	  (**
	   * @license React
	   * react.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	scheduler/cjs/scheduler.production.min.js:
	  (**
	   * @license React
	   * scheduler.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-dom/cjs/react-dom.production.min.js:
	  (**
	   * @license React
	   * react-dom.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v17.0.2
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v16.13.1
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	jszip/dist/jszip.min.js:
	  (*!
	  
	  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	  <http://stuartk.com/jszip>
	  
	  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
	  
	  JSZip uses the library pako released under the MIT license :
	  https://github.com/nodeca/pako/blob/main/LICENSE
	  *)

	jiff/lib/lcs.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/array.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointerParse.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointer.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/clone.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPatch.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/jiff.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
	*/})(WE,WE.exports);var Zse=WE.exports;const $n=Tse(Zse);var $E={exports:{}};$E.exports;(function(dt,nt){var Ut=Object.create,Vt=Object.defineProperty,Cr=Object.defineProperties,dr=Object.getOwnPropertyDescriptor,uo=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertyNames,Br=Object.getOwnPropertySymbols,ia=Object.getPrototypeOf,fo=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,hn=(l,h,_)=>h in l?Vt(l,h,{enumerable:!0,configurable:!0,writable:!0,value:_}):l[h]=_,Et=(l,h)=>{for(var _ in h||(h={}))fo.call(h,_)&&hn(l,_,h[_]);if(Br)for(var _ of Br(h))pn.call(h,_)&&hn(l,_,h[_]);return l},Ir=(l,h)=>Cr(l,uo(h)),po=(l,h)=>function(){return h||(0,l[co(l)[0]])((h={exports:{}}).exports,h),h.exports},zo=(l,h)=>{for(var _ in h)Vt(l,_,{get:h[_],enumerable:!0})},J=(l,h,_,j)=>{if(h&&typeof h=="object"||typeof h=="function")for(let N of co(h))!fo.call(l,N)&&N!==_&&Vt(l,N,{get:()=>h[N],enumerable:!(j=dr(h,N))||j.enumerable});return l},Se=(l,h,_)=>(_=l!=null?Ut(ia(l)):{},J(!l||!l.__esModule?Vt(_,"default",{value:l,enumerable:!0}):_,l)),Bo=l=>J(Vt({},"__esModule",{value:!0}),l),I=(l,h,_)=>(hn(l,typeof h!="symbol"?h+"":h,_),_),st=po({"../node_modules/timing-function/lib/UnitBezier.js"(l,h){h.exports=function(){function _(j,N,H,re){this.set(j,N,H,re)}return _.prototype.set=function(j,N,H,re){this._cx=3*j,this._bx=3*(H-j)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*N,this._by=3*(re-N)-this._cy,this._ay=1-this._cy-this._by},_.epsilon=1e-6,_.prototype._sampleCurveX=function(j){return((this._ax*j+this._bx)*j+this._cx)*j},_.prototype._sampleCurveY=function(j){return((this._ay*j+this._by)*j+this._cy)*j},_.prototype._sampleCurveDerivativeX=function(j){return(3*this._ax*j+2*this._bx)*j+this._cx},_.prototype._solveCurveX=function(j,N){var H,re,he,be,je,Ve;for(he=void 0,be=void 0,je=void 0,Ve=void 0,H=void 0,re=void 0,je=j,re=0;re<8;){if(Ve=this._sampleCurveX(je)-j,Math.abs(Ve)<N)return je;if(H=this._sampleCurveDerivativeX(je),Math.abs(H)<N)break;je=je-Ve/H,re++}if(he=0,be=1,je=j,je<he)return he;if(je>be)return be;for(;he<be;){if(Ve=this._sampleCurveX(je),Math.abs(Ve-j)<N)return je;j>Ve?he=je:be=je,je=(be-he)*.5+he}return je},_.prototype.solve=function(j,N){return this._sampleCurveY(this._solveCurveX(j,N))},_.prototype.solveSimple=function(j){return this._sampleCurveY(this._solveCurveX(j,1e-6))},_}()}}),sa=po({"../node_modules/levenshtein-edit-distance/index.js"(l,h){var _,j;_=[],j=[];function N(H,re,he){var be,je,Ve,He,We,at,Qe,L;if(H===re)return 0;if(be=H.length,je=re.length,be===0)return je;if(je===0)return be;for(he&&(H=H.toLowerCase(),re=re.toLowerCase()),Qe=0;Qe<be;)j[Qe]=H.charCodeAt(Qe),_[Qe]=++Qe;for(L=0;L<je;)for(Ve=re.charCodeAt(L),He=We=L++,Qe=-1;++Qe<be;)at=Ve===j[Qe]?We:We+1,We=_[Qe],_[Qe]=He=We>He?at>He?He+1:at:at>We?We+1:at;return He}h.exports=N}}),ei=po({"../node_modules/propose/propose.js"(l,h){var _=sa();function j(){var N,H,re,he,be,je=0,Ve=arguments[0],He=arguments[1],We=He.length,at=arguments[2];at&&(he=at.threshold,be=at.ignoreCase),he===void 0&&(he=0);for(var Qe=0;Qe<We;++Qe)be?H=_(Ve,He[Qe],!0):H=_(Ve,He[Qe]),H>Ve.length?N=1-H/He[Qe].length:N=1-H/Ve.length,N>je&&(je=N,re=He[Qe]);return je>=he?re:null}h.exports=j}}),Q=po({"../node_modules/fast-deep-equal/index.js"(l,h){h.exports=function _(j,N){if(j===N)return!0;if(j&&N&&typeof j=="object"&&typeof N=="object"){if(j.constructor!==N.constructor)return!1;var H,re,he;if(Array.isArray(j)){if(H=j.length,H!=N.length)return!1;for(re=H;re--!==0;)if(!_(j[re],N[re]))return!1;return!0}if(j.constructor===RegExp)return j.source===N.source&&j.flags===N.flags;if(j.valueOf!==Object.prototype.valueOf)return j.valueOf()===N.valueOf();if(j.toString!==Object.prototype.toString)return j.toString()===N.toString();if(he=Object.keys(j),H=he.length,H!==Object.keys(N).length)return!1;for(re=H;re--!==0;)if(!Object.prototype.hasOwnProperty.call(N,he[re]))return!1;for(re=H;re--!==0;){var be=he[re];if(!_(j[be],N[be]))return!1}return!0}return j!==j&&N!==N}}}),ti={};zo(ti,{createRafDriver:()=>Op,getProject:()=>Tv,notify:()=>vs,onChange:()=>Gp,types:()=>fv,val:()=>Nc}),dt.exports=Bo(ti);var St={};zo(St,{createRafDriver:()=>Op,getProject:()=>Tv,notify:()=>vs,onChange:()=>Gp,types:()=>fv,val:()=>Nc});var U=Ne,et=class{constructor(){I(this,"atom",new U.Atom({projects:{}}))}add(l,h){this.atom.setByPointer(_=>_.projects[l],h)}get(l){return this.atom.get().projects[l]}has(l){return!!this.get(l)}},ot=new et,xt=ot,Ht=new WeakMap;function ie(l){return Ht.get(l)}function In(l,h){Ht.set(l,h)}var $e=[],No=Array.isArray,jn=No,Fu=typeof vr=="object"&&vr&&vr.Object===Object&&vr,al=Fu,Ro=typeof self=="object"&&self&&self.Object===Object&&self,Gi=al||Ro||Function("return this")(),Ur=Gi,Rd=Ur.Symbol,lr=Rd,Mu=Object.prototype,Fd=Mu.hasOwnProperty,il=Mu.toString,la=lr?lr.toStringTag:void 0;function ua(l){var h=Fd.call(l,la),_=l[la];try{l[la]=void 0;var j=!0}catch(H){}var N=il.call(l);return j&&(h?l[la]=_:delete l[la]),N}var Md=ua,Uu=Object.prototype,Ud=Uu.toString;function Vd(l){return Ud.call(l)}var Hd=Vd,Vr="[object Null]",mn="[object Undefined]",Vu=lr?lr.toStringTag:void 0;function On(l){return l==null?l===void 0?mn:Vr:Vu&&Vu in Object(l)?Md(l):Hd(l)}var Tn=On;function vm(l){return l!=null&&typeof l=="object"}var An=vm,Ld="[object Symbol]";function Kd(l){return typeof l=="symbol"||An(l)&&Tn(l)==Ld}var ho=Kd,qd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ym=/^\w*$/;function bm(l,h){if(jn(l))return!1;var _=typeof l;return _=="number"||_=="symbol"||_=="boolean"||l==null||ho(l)?!0:ym.test(l)||!qd.test(l)||h!=null&&l in Object(h)}var sl=bm;function Wd(l){var h=typeof l;return l!=null&&(h=="object"||h=="function")}var gn=Wd,wm="[object AsyncFunction]",km="[object Function]",$d="[object GeneratorFunction]",Gd="[object Proxy]";function ll(l){if(!gn(l))return!1;var h=Tn(l);return h==km||h==$d||h==wm||h==Gd}var mo=ll,Gn=Ur["__core-js_shared__"],Hu=Gn,go=function(){var l=/[^.]+$/.exec(Hu&&Hu.keys&&Hu.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function ri(l){return!!go&&go in l}var _m=ri,Zd=Function.prototype,ca=Zd.toString;function Zi(l){if(l!=null){try{return ca.call(l)}catch(h){}try{return l+""}catch(h){}}return""}var da=Zi,ni=/[\\^$.*+?()[\]{}|]/g,Lu=/^\[object .+?Constructor\]$/,Xd=Function.prototype,Zr=Object.prototype,Dn=Xd.toString,Yd=Zr.hasOwnProperty,Qd=RegExp("^"+Dn.call(Yd).replace(ni,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ku(l){if(!gn(l)||_m(l))return!1;var h=mo(l)?Qd:Lu;return h.test(da(l))}var Fo=Ku;function qu(l,h){return l==null?void 0:l[h]}var xm=qu;function Sm(l,h){var _=xm(l,h);return Fo(_)?_:void 0}var Mo=Sm,Jd=Mo(Object,"create"),Xi=Jd;function ul(){this.__data__=Xi?Xi(null):{},this.size=0}var ef=ul;function tf(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h}var Em=tf,Pm="__lodash_hash_undefined__",Zn=Object.prototype,fa=Zn.hasOwnProperty;function Cm(l){var h=this.__data__;if(Xi){var _=h[l];return _===Pm?void 0:_}return fa.call(h,l)?h[l]:void 0}var Wu=Cm,rf=Object.prototype,nf=rf.hasOwnProperty;function pa(l){var h=this.__data__;return Xi?h[l]!==void 0:nf.call(h,l)}var of=pa,vo="__lodash_hash_undefined__";function Yi(l,h){var _=this.__data__;return this.size+=this.has(l)?0:1,_[l]=Xi&&h===void 0?vo:h,this}var Im=Yi;function Uo(l){var h=-1,_=l==null?0:l.length;for(this.clear();++h<_;){var j=l[h];this.set(j[0],j[1])}}Uo.prototype.clear=ef,Uo.prototype.delete=Em,Uo.prototype.get=Wu,Uo.prototype.has=of,Uo.prototype.set=Im;var $u=Uo;function cl(){this.__data__=[],this.size=0}var af=cl;function dl(l,h){return l===h||l!==l&&h!==h}var ha=dl;function fl(l,h){for(var _=l.length;_--;)if(ha(l[_][0],h))return _;return-1}var pl=fl,Qi=Array.prototype,hl=Qi.splice;function jm(l){var h=this.__data__,_=pl(h,l);if(_<0)return!1;var j=h.length-1;return _==j?h.pop():hl.call(h,_,1),--this.size,!0}var sf=jm;function lf(l){var h=this.__data__,_=pl(h,l);return _<0?void 0:h[_][1]}var ma=lf;function Gu(l){return pl(this.__data__,l)>-1}var Zu=Gu;function ml(l,h){var _=this.__data__,j=pl(_,l);return j<0?(++this.size,_.push([l,h])):_[j][1]=h,this}var uf=ml;function yo(l){var h=-1,_=l==null?0:l.length;for(this.clear();++h<_;){var j=l[h];this.set(j[0],j[1])}}yo.prototype.clear=af,yo.prototype.delete=sf,yo.prototype.get=ma,yo.prototype.has=Zu,yo.prototype.set=uf;var gl=yo,Om=Mo(Ur,"Map"),ga=Om;function cf(){this.size=0,this.__data__={hash:new $u,map:new(ga||gl),string:new $u}}var Tm=cf;function Am(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}var df=Am;function ff(l,h){var _=l.__data__;return df(h)?_[typeof h=="string"?"string":"hash"]:_.map}var vn=ff;function Xu(l){var h=vn(this,l).delete(l);return this.size-=h?1:0,h}var pf=Xu;function hf(l){return vn(this,l).get(l)}var mf=hf;function gf(l){return vn(this,l).has(l)}var vf=gf;function yf(l,h){var _=vn(this,l),j=_.size;return _.set(l,h),this.size+=_.size==j?0:1,this}var bf=yf;function va(l){var h=-1,_=l==null?0:l.length;for(this.clear();++h<_;){var j=l[h];this.set(j[0],j[1])}}va.prototype.clear=Tm,va.prototype.delete=pf,va.prototype.get=mf,va.prototype.has=vf,va.prototype.set=bf;var Ji=va,Dm="Expected a function";function Yu(l,h){if(typeof l!="function"||h!=null&&typeof h!="function")throw new TypeError(Dm);var _=function(){var j=arguments,N=h?h.apply(this,j):j[0],H=_.cache;if(H.has(N))return H.get(N);var re=l.apply(this,j);return _.cache=H.set(N,re)||H,re};return _.cache=new(Yu.Cache||Ji),_}Yu.Cache=Ji;var wf=Yu,zm=500;function Bm(l){var h=wf(l,function(j){return _.size===zm&&_.clear(),j}),_=h.cache;return h}var Vo=Bm,ya=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kf=/\\(\\)?/g,vl=Vo(function(l){var h=[];return l.charCodeAt(0)===46&&h.push(""),l.replace(ya,function(_,j,N,H){h.push(N?H.replace(kf,"$1"):j||_)}),h}),Nm=vl;function _f(l,h){for(var _=-1,j=l==null?0:l.length,N=Array(j);++_<j;)N[_]=h(l[_],_,l);return N}var xf=_f,Sf=lr?lr.prototype:void 0,Ef=Sf?Sf.toString:void 0;function Qu(l){if(typeof l=="string")return l;if(jn(l))return xf(l,Qu)+"";if(ho(l))return Ef?Ef.call(l):"";var h=l+"";return h=="0"&&1/l==-1/0?"-0":h}var Pf=Qu;function Rm(l){return l==null?"":Pf(l)}var es=Rm;function Cf(l,h){return jn(l)?l:sl(l,h)?[l]:Nm(es(l))}var ts=Cf;function If(l){if(typeof l=="string"||ho(l))return l;var h=l+"";return h=="0"&&1/l==-1/0?"-0":h}var Xn=If;function oi(l,h){h=ts(h,l);for(var _=0,j=h.length;l!=null&&_<j;)l=l[Xn(h[_++])];return _&&_==j?l:void 0}var rs=oi;function Ju(l,h,_){var j=l==null?void 0:rs(l,h);return j===void 0?_:j}var ba=Ju;function ec(l,h){return h.length===0?l:ba(l,h)}var ai=class{constructor(){I(this,"_values",{})}get(l,h){if(this.has(l))return this._values[l];{const _=h();return this._values[l]=_,_}}has(l){return this._values.hasOwnProperty(l)}},yr=Ne,Ho=function(){try{var l=Mo(Object,"defineProperty");return l({},"",{}),l}catch(h){}}(),yl=Ho;function jf(l,h,_){h=="__proto__"&&yl?yl(l,h,{configurable:!0,enumerable:!0,value:_,writable:!0}):l[h]=_}var Lo=jf,ns=Object.prototype,Of=ns.hasOwnProperty;function Tf(l,h,_){var j=l[h];(!(Of.call(l,h)&&ha(j,_))||_===void 0&&!(h in l))&&Lo(l,h,_)}var tc=Tf,Fm=9007199254740991,os=/^(?:0|[1-9]\d*)$/;function rc(l,h){var _=typeof l;return h=h==null?Fm:h,!!h&&(_=="number"||_!="symbol"&&os.test(l))&&l>-1&&l%1==0&&l<h}var nc=rc;function Af(l,h,_,j){if(!gn(l))return l;h=ts(h,l);for(var N=-1,H=h.length,re=H-1,he=l;he!=null&&++N<H;){var be=Xn(h[N]),je=_;if(be==="__proto__"||be==="constructor"||be==="prototype")return l;if(N!=re){var Ve=he[be];je=j?j(Ve,be,he):void 0,je===void 0&&(je=gn(Ve)?Ve:nc(h[N+1])?[]:{})}tc(he,be,je),he=he[be]}return l}var Df=Af;function zf(l,h,_){return l==null?l:Df(l,h,_)}var as=zf,jr=new WeakMap;function Mm(l){return is(l)}function is(l){if(jr.has(l))return jr.get(l);const h=l.type==="compound"?Bf(l):l.type==="enum"?oc(l):l.default;return jr.set(l,h),h}function oc(l){const h={$case:l.defaultCase};for(const[_,j]of Object.entries(l.cases))h[_]=is(j);return h}function Bf(l){const h={};for(const[_,j]of Object.entries(l.props))h[_]=is(j);return h}var Hr=Ne,Um=Se(st());function Vm(l,h,_){return(0,Hr.prism)(()=>{const j=(0,Hr.val)(h);return Hr.prism.memo("driver",()=>j?j.type==="BasicKeyframedTrack"?Nf(l,j,_):(l.logger.error("Track type not yet supported."),(0,Hr.prism)(()=>{})):(0,Hr.prism)(()=>{}),[j]).getValue()})}function Nf(l,h,_){return(0,Hr.prism)(()=>{let j=Hr.prism.ref("state",{started:!1}),N=j.current;const H=_.getValue();return(!N.started||H<N.validFrom||N.validTo<=H)&&(j.current=N=ss(l,_,h)),N.der.getValue()})}var ac=(0,Hr.prism)(()=>{});function ss(l,h,_){const j=h.getValue();if(_.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:ac};let N=0;for(;;){const H=_.keyframes[N];if(!H)return ur.error;const re=N===_.keyframes.length-1;if(j<H.position)return N===0?ur.beforeFirstKeyframe(H):ur.error;if(H.position===j)return re?ur.lastKeyframe(H):ur.between(H,_.keyframes[N+1],h);if(N===_.keyframes.length-1)return ur.lastKeyframe(H);{const he=N+1;if(_.keyframes[he].position<=j){N=he;continue}else return ur.between(H,_.keyframes[N+1],h)}}}var ur={beforeFirstKeyframe(l){return{started:!0,validFrom:-1/0,validTo:l.position,der:(0,Hr.prism)(()=>({left:l.value,progression:0}))}},lastKeyframe(l){return{started:!0,validFrom:l.position,validTo:1/0,der:(0,Hr.prism)(()=>({left:l.value,progression:0}))}},between(l,h,_){if(!l.connectedRight)return{started:!0,validFrom:l.position,validTo:h.position,der:(0,Hr.prism)(()=>({left:l.value,progression:0}))};const j=H=>(H-l.position)/(h.position-l.position);if(!l.type||l.type==="bezier"){const H=new Um.default(l.handles[2],l.handles[3],h.handles[0],h.handles[1]),re=(0,Hr.prism)(()=>{const he=j(_.getValue()),be=H.solveSimple(he);return{left:l.value,right:h.value,progression:be}});return{started:!0,validFrom:l.position,validTo:h.position,der:re}}const N=(0,Hr.prism)(()=>{const H=j(_.getValue()),re=Math.floor(H);return{left:l.value,right:h.value,progression:re}});return{started:!0,validFrom:l.position,validTo:h.position,der:N}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:ac}};function ls(l,h,_){const N=_.get(l);if(N&&N.override===h)return N.merged;const H=Et({},l);for(const re of Object.keys(h)){const he=h[re],be=l[re];H[re]=typeof he=="object"&&typeof be=="object"?ls(be,he,_):he===void 0?be:he}return _.set(l,{override:h,merged:H}),H}function Ko(l,h){let _=l;for(const j of h)_=_[j];return _}var wa=Ne,Rf=(l,h)=>{const _=wa.prism.memo(l,()=>new wa.Atom(h),[]);return _.set(h),_},It=Ne,ii=Ne,Hm=/\s/;function ic(l){for(var h=l.length;h--&&Hm.test(l.charAt(h)););return h}var sc=ic,lc=/^\s+/;function Lm(l){return l&&l.slice(0,sc(l)+1).replace(lc,"")}var bl=Lm,us=NaN,Ff=/^[-+]0x[0-9a-f]+$/i,Km=/^0b[01]+$/i,Mf=/^0o[0-7]+$/i,uc=parseInt;function Uf(l){if(typeof l=="number")return l;if(ho(l))return us;if(gn(l)){var h=typeof l.valueOf=="function"?l.valueOf():l;l=gn(h)?h+"":h}if(typeof l!="string")return l===0?l:+l;l=bl(l);var _=Km.test(l);return _||Mf.test(l)?uc(l.slice(2),_?2:8):Ff.test(l)?us:+l}var D=Uf,W=1/0,se=17976931348623157e292;function Ie(l){if(!l)return l===0?l:0;if(l=D(l),l===W||l===-1/0){var h=l<0?-1:1;return h*se}return l===l?l:0}var ht=Ie;function Pt(l){var h=ht(l),_=h%1;return h===h?_?h-_:h:0}var br=Pt;function Yn(l){return l}var wl=Yn,si=Mo(Ur,"WeakMap"),cs=si,qm=Object.create,Vy=function(){function l(){}return function(h){if(!gn(h))return{};if(qm)return qm(h);l.prototype=h;var _=new l;return l.prototype=void 0,_}}(),GE=Vy;function ZE(l,h){var _=-1,j=l.length;for(h||(h=Array(j));++_<j;)h[_]=l[_];return h}var Hy=ZE;function XE(l,h){for(var _=-1,j=l==null?0:l.length;++_<j&&h(l[_],_,l)!==!1;);return l}var YE=XE;function Ly(l,h,_,j){var N=!_;_||(_={});for(var H=-1,re=h.length;++H<re;){var he=h[H],be=j?j(_[he],l[he],he,_,l):void 0;be===void 0&&(be=l[he]),N?Lo(_,he,be):tc(_,he,be)}return _}var kl=Ly,QE=9007199254740991;function Wm(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=QE}var Vf=Wm;function Ky(l){return l!=null&&Vf(l.length)&&!mo(l)}var $m=Ky,Hf=Object.prototype;function Gm(l){var h=l&&l.constructor,_=typeof h=="function"&&h.prototype||Hf;return l===_}var Zm=Gm;function qy(l,h){for(var _=-1,j=Array(l);++_<l;)j[_]=h(_);return j}var JE=qy,Xm="[object Arguments]";function Ym(l){return An(l)&&Tn(l)==Xm}var Qm=Ym,Lf=Object.prototype,Wy=Lf.hasOwnProperty,$y=Lf.propertyIsEnumerable,Kf=Qm(function(){return arguments}())?Qm:function(l){return An(l)&&Wy.call(l,"callee")&&!$y.call(l,"callee")},Jm=Kf;function eP(){return!1}var Gy=eP,eg=nt&&!nt.nodeType&&nt,tg=eg&&!0&&dt&&!dt.nodeType&&dt,Zy=tg&&tg.exports===eg,rg=Zy?Ur.Buffer:void 0,Xy=rg?rg.isBuffer:void 0,Yy=Xy||Gy,cc=Yy,Qy="[object Arguments]",Jy="[object Array]",eb="[object Boolean]",tb="[object Date]",rb="[object Error]",nb="[object Function]",ob="[object Map]",ab="[object Number]",ib="[object Object]",sb="[object RegExp]",lb="[object Set]",ub="[object String]",cb="[object WeakMap]",db="[object ArrayBuffer]",fb="[object DataView]",pb="[object Float32Array]",$t="[object Float64Array]",hb="[object Int8Array]",tP="[object Int16Array]",rP="[object Int32Array]",qf="[object Uint8Array]",ng="[object Uint8ClampedArray]",og="[object Uint16Array]",_l="[object Uint32Array]",Gt={};Gt[pb]=Gt[$t]=Gt[hb]=Gt[tP]=Gt[rP]=Gt[qf]=Gt[ng]=Gt[og]=Gt[_l]=!0,Gt[Qy]=Gt[Jy]=Gt[db]=Gt[eb]=Gt[fb]=Gt[tb]=Gt[rb]=Gt[nb]=Gt[ob]=Gt[ab]=Gt[ib]=Gt[sb]=Gt[lb]=Gt[ub]=Gt[cb]=!1;function Wf(l){return An(l)&&Vf(l.length)&&!!Gt[Tn(l)]}var mb=Wf;function ag(l){return function(h){return l(h)}}var ig=ag,$f=nt&&!nt.nodeType&&nt,xl=$f&&!0&&dt&&!dt.nodeType&&dt,sg=xl&&xl.exports===$f,Gf=sg&&al.process,nP=function(){try{var l=xl&&xl.require&&xl.require("util").types;return l||Gf&&Gf.binding&&Gf.binding("util")}catch(h){}}(),ds=nP,lg=ds&&ds.isTypedArray,gb=lg?ig(lg):mb,vb=gb,oP=Object.prototype,ug=oP.hasOwnProperty;function yb(l,h){var _=jn(l),j=!_&&Jm(l),N=!_&&!j&&cc(l),H=!_&&!j&&!N&&vb(l),re=_||j||N||H,he=re?JE(l.length,String):[],be=he.length;for(var je in l)(h||ug.call(l,je))&&!(re&&(je=="length"||N&&(je=="offset"||je=="parent")||H&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||nc(je,be)))&&he.push(je);return he}var cg=yb;function bb(l,h){return function(_){return l(h(_))}}var wb=bb,aP=wb(Object.keys,Object),kb=aP,_b=Object.prototype,xb=_b.hasOwnProperty;function iP(l){if(!Zm(l))return kb(l);var h=[];for(var _ in Object(l))xb.call(l,_)&&_!="constructor"&&h.push(_);return h}var sP=iP;function Zf(l){return $m(l)?cg(l):sP(l)}var fs=Zf;function lP(l){var h=[];if(l!=null)for(var _ in Object(l))h.push(_);return h}var Sb=lP,Eb=Object.prototype,Xf=Eb.hasOwnProperty;function dg(l){if(!gn(l))return Sb(l);var h=Zm(l),_=[];for(var j in l)j=="constructor"&&(h||!Xf.call(l,j))||_.push(j);return _}var Pb=dg;function Sl(l){return $m(l)?cg(l,!0):Pb(l)}var El=Sl;function uP(l,h){for(var _=-1,j=h.length,N=l.length;++_<j;)l[N+_]=h[_];return l}var fg=uP,cP=wb(Object.getPrototypeOf,Object),pg=cP,Cb="[object Object]",dP=Function.prototype,fP=Object.prototype,hg=dP.toString,Ib=fP.hasOwnProperty,jb=hg.call(Object);function Ob(l){if(!An(l)||Tn(l)!=Cb)return!1;var h=pg(l);if(h===null)return!0;var _=Ib.call(h,"constructor")&&h.constructor;return typeof _=="function"&&_ instanceof _&&hg.call(_)==jb}var pP=Ob;function hP(l,h,_){var j=-1,N=l.length;h<0&&(h=-h>N?0:N+h),_=_>N?N:_,_<0&&(_+=N),N=h>_?0:_-h>>>0,h>>>=0;for(var H=Array(N);++j<N;)H[j]=l[j+h];return H}var mg=hP;function Tb(l,h,_){var j=l.length;return _=_===void 0?j:_,!h&&_>=j?l:mg(l,h,_)}var Ab=Tb,mP="\\ud800-\\udfff",gP="\\u0300-\\u036f",Db="\\ufe20-\\ufe2f",zb="\\u20d0-\\u20ff",vP=gP+Db+zb,Pl="\\ufe0e\\ufe0f",gg="\\u200d",yP=RegExp("["+gg+mP+vP+Pl+"]");function bP(l){return yP.test(l)}var Yf=bP;function wP(l){return l.split("")}var kP=wP,Cl="\\ud800-\\udfff",Qf="\\u0300-\\u036f",_P="\\ufe20-\\ufe2f",Bb="\\u20d0-\\u20ff",Nb=Qf+_P+Bb,Rb="\\ufe0e\\ufe0f",xP="["+Cl+"]",vg="["+Nb+"]",Jf="\\ud83c[\\udffb-\\udfff]",SP="(?:"+vg+"|"+Jf+")",Fb="[^"+Cl+"]",yg="(?:\\ud83c[\\udde6-\\uddff]){2}",Mb="[\\ud800-\\udbff][\\udc00-\\udfff]",EP="\\u200d",bg=SP+"?",Ub="["+Rb+"]?",Il="(?:"+EP+"(?:"+[Fb,yg,Mb].join("|")+")"+Ub+bg+")*",dc=Ub+bg+Il,ep="(?:"+[Fb+vg+"?",vg,yg,Mb,xP].join("|")+")",Vb=RegExp(Jf+"(?="+Jf+")|"+ep+dc,"g");function jl(l){return l.match(Vb)||[]}var wg=jl;function PP(l){return Yf(l)?wg(l):kP(l)}var Hb=PP;function CP(l,h,_){return l===l&&(_!==void 0&&(l=l<=_?l:_),h!==void 0&&(l=l>=h?l:h)),l}var IP=CP;function Lb(l,h,_){return _===void 0&&(_=h,h=void 0),_!==void 0&&(_=D(_),_=_===_?_:0),h!==void 0&&(h=D(h),h=h===h?h:0),IP(D(l),h,_)}var Kb=Lb;function jP(){this.__data__=new gl,this.size=0}var fc=jP;function tp(l){var h=this.__data__,_=h.delete(l);return this.size=h.size,_}var OP=tp;function qb(l){return this.__data__.get(l)}var TP=qb;function AP(l){return this.__data__.has(l)}var Wb=AP,DP=200;function zP(l,h){var _=this.__data__;if(_ instanceof gl){var j=_.__data__;if(!ga||j.length<DP-1)return j.push([l,h]),this.size=++_.size,this;_=this.__data__=new Ji(j)}return _.set(l,h),this.size=_.size,this}var $b=zP;function Ol(l){var h=this.__data__=new gl(l);this.size=h.size}Ol.prototype.clear=fc,Ol.prototype.delete=OP,Ol.prototype.get=TP,Ol.prototype.has=Wb,Ol.prototype.set=$b;var pc=Ol;function Gb(l,h){return l&&kl(h,fs(h),l)}var BP=Gb;function Tl(l,h){return l&&kl(h,El(h),l)}var hc=Tl,rp=nt&&!nt.nodeType&&nt,np=rp&&!0&&dt&&!dt.nodeType&&dt,Zb=np&&np.exports===rp,op=Zb?Ur.Buffer:void 0,kg=op?op.allocUnsafe:void 0;function NP(l,h){if(h)return l.slice();var _=l.length,j=kg?kg(_):new l.constructor(_);return l.copy(j),j}var Xb=NP;function Yb(l,h){for(var _=-1,j=l==null?0:l.length,N=0,H=[];++_<j;){var re=l[_];h(re,_,l)&&(H[N++]=re)}return H}var RP=Yb;function Qb(){return[]}var _g=Qb,Jb=Object.prototype,e1=Jb.propertyIsEnumerable,t1=Object.getOwnPropertySymbols,FP=t1?function(l){return l==null?[]:(l=Object(l),RP(t1(l),function(h){return e1.call(l,h)}))}:_g,Al=FP;function r1(l,h){return kl(l,Al(l),h)}var MP=r1,ap=Object.getOwnPropertySymbols,xg=ap?function(l){for(var h=[];l;)fg(h,Al(l)),l=pg(l);return h}:_g,n1=xg;function o1(l,h){return kl(l,n1(l),h)}var Dl=o1;function mc(l,h,_){var j=h(l);return jn(l)?j:fg(j,_(l))}var a1=mc;function ip(l){return a1(l,fs,Al)}var gc=ip;function UP(l){return a1(l,El,n1)}var ps=UP,vc=Mo(Ur,"DataView"),Sg=vc,Eg=Mo(Ur,"Promise"),sp=Eg,VP=Mo(Ur,"Set"),yc=VP,Pg="[object Map]",HP="[object Object]",Cg="[object Promise]",Ig="[object Set]",i1="[object WeakMap]",jg="[object DataView]",s1=da(Sg),LP=da(ga),KP=da(sp),l1=da(yc),u1=da(cs),li=Tn;(Sg&&li(new Sg(new ArrayBuffer(1)))!=jg||ga&&li(new ga)!=Pg||sp&&li(sp.resolve())!=Cg||yc&&li(new yc)!=Ig||cs&&li(new cs)!=i1)&&(li=function(l){var h=Tn(l),_=h==HP?l.constructor:void 0,j=_?da(_):"";if(j)switch(j){case s1:return jg;case LP:return Pg;case KP:return Cg;case l1:return Ig;case u1:return i1}return h});var hs=li,c1=Object.prototype,d1=c1.hasOwnProperty;function lp(l){var h=l.length,_=new l.constructor(h);return h&&typeof l[0]=="string"&&d1.call(l,"index")&&(_.index=l.index,_.input=l.input),_}var f1=lp,qP=Ur.Uint8Array,bc=qP;function p1(l){var h=new l.constructor(l.byteLength);return new bc(h).set(new bc(l)),h}var up=p1;function WP(l,h){var _=h?up(l.buffer):l.buffer;return new l.constructor(_,l.byteOffset,l.byteLength)}var $P=WP,h1=/\w*$/;function GP(l){var h=new l.constructor(l.source,h1.exec(l));return h.lastIndex=l.lastIndex,h}var ZP=GP,Xt=lr?lr.prototype:void 0,wc=Xt?Xt.valueOf:void 0;function XP(l){return wc?Object(wc.call(l)):{}}var m1=XP;function YP(l,h){var _=h?up(l.buffer):l.buffer;return new l.constructor(_,l.byteOffset,l.length)}var QP=YP,g1="[object Boolean]",JP="[object Date]",e2="[object Map]",v1="[object Number]",t2="[object RegExp]",r2="[object Set]",y1="[object String]",n2="[object Symbol]",o2="[object ArrayBuffer]",b1="[object DataView]",w1="[object Float32Array]",a2="[object Float64Array]",zl="[object Int8Array]",kc="[object Int16Array]",k1="[object Int32Array]",i2="[object Uint8Array]",_1="[object Uint8ClampedArray]",s2="[object Uint16Array]",l2="[object Uint32Array]";function x1(l,h,_){var j=l.constructor;switch(h){case o2:return up(l);case g1:case JP:return new j(+l);case b1:return $P(l,_);case w1:case a2:case zl:case kc:case k1:case i2:case _1:case s2:case l2:return QP(l,_);case e2:return new j;case v1:case y1:return new j(l);case t2:return ZP(l);case r2:return new j;case n2:return m1(l)}}var u2=x1;function S1(l){return typeof l.constructor=="function"&&!Zm(l)?GE(pg(l)):{}}var E1=S1,Og="[object Map]";function P1(l){return An(l)&&hs(l)==Og}var C1=P1,I1=ds&&ds.isMap,c2=I1?ig(I1):C1,j1=c2,d2="[object Set]";function f2(l){return An(l)&&hs(l)==d2}var Tg=f2,O1=ds&&ds.isSet,T1=O1?ig(O1):Tg,cp=T1,p2=1,A1=2,dp=4,D1="[object Arguments]",z1="[object Array]",ms="[object Boolean]",B1="[object Date]",Ag="[object Error]",Dg="[object Function]",zg="[object GeneratorFunction]",Bg="[object Map]",Ng="[object Number]",fp="[object Object]",N1="[object RegExp]",R1="[object Set]",F1="[object String]",M1="[object Symbol]",U1="[object WeakMap]",ui="[object ArrayBuffer]",Rg="[object DataView]",h2="[object Float32Array]",V1="[object Float64Array]",Fg="[object Int8Array]",m2="[object Int16Array]",g2="[object Int32Array]",H1="[object Uint8Array]",L1="[object Uint8ClampedArray]",v2="[object Uint16Array]",y2="[object Uint32Array]",Lt={};Lt[D1]=Lt[z1]=Lt[ui]=Lt[Rg]=Lt[ms]=Lt[B1]=Lt[h2]=Lt[V1]=Lt[Fg]=Lt[m2]=Lt[g2]=Lt[Bg]=Lt[Ng]=Lt[fp]=Lt[N1]=Lt[R1]=Lt[F1]=Lt[M1]=Lt[H1]=Lt[L1]=Lt[v2]=Lt[y2]=!0,Lt[Ag]=Lt[Dg]=Lt[U1]=!1;function pp(l,h,_,j,N,H){var re,he=h&p2,be=h&A1,je=h&dp;if(_&&(re=N?_(l,j,N,H):_(l)),re!==void 0)return re;if(!gn(l))return l;var Ve=jn(l);if(Ve){if(re=f1(l),!he)return Hy(l,re)}else{var He=hs(l),We=He==Dg||He==zg;if(cc(l))return Xb(l,he);if(He==fp||He==D1||We&&!N){if(re=be||We?{}:E1(l),!he)return be?Dl(l,hc(re,l)):MP(l,BP(re,l))}else{if(!Lt[He])return N?l:{};re=u2(l,He,he)}}H||(H=new pc);var at=H.get(l);if(at)return at;H.set(l,re),cp(l)?l.forEach(function(Ee){re.add(pp(Ee,h,_,Ee,l,H))}):j1(l)&&l.forEach(function(Ee,vt){re.set(vt,pp(Ee,h,_,vt,l,H))});var Qe=je?be?ps:gc:be?El:fs,L=Ve?void 0:Qe(l);return YE(L||l,function(Ee,vt){L&&(vt=Ee,Ee=l[vt]),tc(re,vt,pp(Ee,h,_,vt,l,H))}),re}var hp=pp,Mg=1,K1=4;function b2(l){return hp(l,Mg|K1)}var q1=b2,w2="__lodash_hash_undefined__";function k2(l){return this.__data__.set(l,w2),this}var Ug=k2;function W1(l){return this.__data__.has(l)}var _2=W1;function _c(l){var h=-1,_=l==null?0:l.length;for(this.__data__=new Ji;++h<_;)this.add(l[h])}_c.prototype.add=_c.prototype.push=Ug,_c.prototype.has=_2;var $1=_c;function Vg(l,h){for(var _=-1,j=l==null?0:l.length;++_<j;)if(h(l[_],_,l))return!0;return!1}var G1=Vg;function x2(l,h){return l.has(h)}var Z1=x2,S2=1,E2=2;function mp(l,h,_,j,N,H){var re=_&S2,he=l.length,be=h.length;if(he!=be&&!(re&&be>he))return!1;var je=H.get(l),Ve=H.get(h);if(je&&Ve)return je==h&&Ve==l;var He=-1,We=!0,at=_&E2?new $1:void 0;for(H.set(l,h),H.set(h,l);++He<he;){var Qe=l[He],L=h[He];if(j)var Ee=re?j(L,Qe,He,h,l,H):j(Qe,L,He,l,h,H);if(Ee!==void 0){if(Ee)continue;We=!1;break}if(at){if(!G1(h,function(vt,Tt){if(!Z1(at,Tt)&&(Qe===vt||N(Qe,vt,_,j,H)))return at.push(Tt)})){We=!1;break}}else if(!(Qe===L||N(Qe,L,_,j,H))){We=!1;break}}return H.delete(l),H.delete(h),We}var gp=mp;function P2(l){var h=-1,_=Array(l.size);return l.forEach(function(j,N){_[++h]=[N,j]}),_}var X1=P2;function Y1(l){var h=-1,_=Array(l.size);return l.forEach(function(j){_[++h]=j}),_}var Q1=Y1,J1=1,ew=2,tw="[object Boolean]",rw="[object Date]",nw="[object Error]",ow="[object Map]",aw="[object Number]",iw="[object RegExp]",sw="[object Set]",lw="[object String]",Hg="[object Symbol]",vp="[object ArrayBuffer]",uw="[object DataView]",cw=lr?lr.prototype:void 0,Lg=cw?cw.valueOf:void 0;function dw(l,h,_,j,N,H,re){switch(_){case uw:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case vp:return!(l.byteLength!=h.byteLength||!H(new bc(l),new bc(h)));case tw:case rw:case aw:return ha(+l,+h);case nw:return l.name==h.name&&l.message==h.message;case iw:case lw:return l==h+"";case ow:var he=X1;case sw:var be=j&J1;if(he||(he=Q1),l.size!=h.size&&!be)return!1;var je=re.get(l);if(je)return je==h;j|=ew,re.set(l,h);var Ve=gp(he(l),he(h),j,N,H,re);return re.delete(l),Ve;case Hg:if(Lg)return Lg.call(l)==Lg.call(h)}return!1}var fw=dw,pw=1,hw=Object.prototype,C2=hw.hasOwnProperty;function I2(l,h,_,j,N,H){var re=_&pw,he=gc(l),be=he.length,je=gc(h),Ve=je.length;if(be!=Ve&&!re)return!1;for(var He=be;He--;){var We=he[He];if(!(re?We in h:C2.call(h,We)))return!1}var at=H.get(l),Qe=H.get(h);if(at&&Qe)return at==h&&Qe==l;var L=!0;H.set(l,h),H.set(h,l);for(var Ee=re;++He<be;){We=he[He];var vt=l[We],Tt=h[We];if(j)var Lr=re?j(Tt,vt,We,h,l,H):j(vt,Tt,We,l,h,H);if(!(Lr===void 0?vt===Tt||N(vt,Tt,_,j,H):Lr)){L=!1;break}Ee||(Ee=We=="constructor")}if(L&&!Ee){var yn=l.constructor,wr=h.constructor;yn!=wr&&"constructor"in l&&"constructor"in h&&!(typeof yn=="function"&&yn instanceof yn&&typeof wr=="function"&&wr instanceof wr)&&(L=!1)}return H.delete(l),H.delete(h),L}var mw=I2,Kg=1,yp="[object Arguments]",Bl="[object Array]",xc="[object Object]",qg=Object.prototype,Wg=qg.hasOwnProperty;function j2(l,h,_,j,N,H){var re=jn(l),he=jn(h),be=re?Bl:hs(l),je=he?Bl:hs(h);be=be==yp?xc:be,je=je==yp?xc:je;var Ve=be==xc,He=je==xc,We=be==je;if(We&&cc(l)){if(!cc(h))return!1;re=!0,Ve=!1}if(We&&!Ve)return H||(H=new pc),re||vb(l)?gp(l,h,_,j,N,H):fw(l,h,be,_,j,N,H);if(!(_&Kg)){var at=Ve&&Wg.call(l,"__wrapped__"),Qe=He&&Wg.call(h,"__wrapped__");if(at||Qe){var L=at?l.value():l,Ee=Qe?h.value():h;return H||(H=new pc),N(L,Ee,_,j,H)}}return We?(H||(H=new pc),mw(l,h,_,j,N,H)):!1}var gw=j2;function bp(l,h,_,j,N){return l===h?!0:l==null||h==null||!An(l)&&!An(h)?l!==l&&h!==h:gw(l,h,_,j,bp,N)}var $g=bp,O2=1,vw=2;function yw(l,h,_,j){var N=_.length,H=N,re=!j;if(l==null)return!H;for(l=Object(l);N--;){var he=_[N];if(re&&he[2]?he[1]!==l[he[0]]:!(he[0]in l))return!1}for(;++N<H;){he=_[N];var be=he[0],je=l[be],Ve=he[1];if(re&&he[2]){if(je===void 0&&!(be in l))return!1}else{var He=new pc;if(j)var We=j(je,Ve,be,l,h,He);if(!(We===void 0?$g(Ve,je,O2|vw,j,He):We))return!1}}return!0}var bw=yw;function T2(l){return l===l&&!gn(l)}var ww=T2;function Gg(l){for(var h=fs(l),_=h.length;_--;){var j=h[_],N=l[j];h[_]=[j,N,ww(N)]}return h}var kw=Gg;function A2(l,h){return function(_){return _==null?!1:_[l]===h&&(h!==void 0||l in Object(_))}}var Zg=A2;function D2(l){var h=kw(l);return h.length==1&&h[0][2]?Zg(h[0][0],h[0][1]):function(_){return _===l||bw(_,l,h)}}var z2=D2;function Xg(l,h){return l!=null&&h in Object(l)}var _w=Xg;function B2(l,h,_){h=ts(h,l);for(var j=-1,N=h.length,H=!1;++j<N;){var re=Xn(h[j]);if(!(H=l!=null&&_(l,re)))break;l=l[re]}return H||++j!=N?H:(N=l==null?0:l.length,!!N&&Vf(N)&&nc(re,N)&&(jn(l)||Jm(l)))}var xw=B2;function N2(l,h){return l!=null&&xw(l,h,_w)}var R2=N2,Sw=1,F2=2;function M2(l,h){return sl(l)&&ww(h)?Zg(Xn(l),h):function(_){var j=ba(_,l);return j===void 0&&j===h?R2(_,l):$g(h,j,Sw|F2)}}var Ew=M2;function U2(l){return function(h){return h==null?void 0:h[l]}}var Pw=U2;function Cw(l){return function(h){return rs(h,l)}}var V2=Cw;function H2(l){return sl(l)?Pw(Xn(l)):V2(l)}var Iw=H2;function jw(l){return typeof l=="function"?l:l==null?wl:typeof l=="object"?jn(l)?Ew(l[0],l[1]):z2(l):Iw(l)}var Ow=jw;function L2(l){return function(h,_,j){for(var N=-1,H=Object(h),re=j(h),he=re.length;he--;){var be=re[l?he:++N];if(_(H[be],be,H)===!1)break}return h}}var K2=L2,Tw=K2(),q2=Tw;function W2(l,h){return l&&q2(l,h,fs)}var Aw=W2,$2=function(){return Ur.Date.now()},Yg=$2,Dw="Expected a function",G2=Math.max,Z2=Math.min;function Nl(l,h,_){var j,N,H,re,he,be,je=0,Ve=!1,He=!1,We=!0;if(typeof l!="function")throw new TypeError(Dw);h=D(h)||0,gn(_)&&(Ve=!!_.leading,He="maxWait"in _,H=He?G2(D(_.maxWait)||0,h):H,We="trailing"in _?!!_.trailing:We);function at(Ft){var Kr=j,Nn=N;return j=N=void 0,je=Ft,re=l.apply(Nn,Kr),re}function Qe(Ft){return je=Ft,he=setTimeout(vt,h),Ve?at(Ft):re}function L(Ft){var Kr=Ft-be,Nn=Ft-je,Jn=h-Kr;return He?Z2(Jn,H-Nn):Jn}function Ee(Ft){var Kr=Ft-be,Nn=Ft-je;return be===void 0||Kr>=h||Kr<0||He&&Nn>=H}function vt(){var Ft=Yg();if(Ee(Ft))return Tt(Ft);he=setTimeout(vt,L(Ft))}function Tt(Ft){return he=void 0,We&&j?at(Ft):(j=N=void 0,re)}function Lr(){he!==void 0&&clearTimeout(he),je=0,j=be=N=he=void 0}function yn(){return he===void 0?re:Tt(Yg())}function wr(){var Ft=Yg(),Kr=Ee(Ft);if(j=arguments,N=this,be=Ft,Kr){if(he===void 0)return Qe(be);if(He)return clearTimeout(he),he=setTimeout(vt,h),at(be)}return he===void 0&&(he=setTimeout(vt,h)),re}return wr.cancel=Lr,wr.flush=yn,wr}var Sc=Nl;function X2(l){var h=l==null?0:l.length;return h?l[h-1]:void 0}var zw=X2;function Y2(l,h){return h.length<2?l:rs(l,mg(h,0,-1))}var Q2=Y2;function Bw(l){return typeof l=="number"&&l==br(l)}var J2=Bw;function Nw(l,h){var _={};return h=Ow(h),Aw(l,function(j,N,H){Lo(_,N,h(j,N,H))}),_}var Rw=Nw;function eC(l,h){return h=ts(h,l),l=Q2(l,h),l==null||delete l[Xn(zw(h))]}var tC=eC,Qg=9007199254740991,Fw=Math.floor;function rC(l,h){var _="";if(!l||h<1||h>Qg)return _;do h%2&&(_+=l),h=Fw(h/2),h&&(l+=l);while(h);return _}var Jg=rC,nC=Pw("length"),Mw=nC,wp="\\ud800-\\udfff",Uw="\\u0300-\\u036f",oC="\\ufe20-\\ufe2f",Vw="\\u20d0-\\u20ff",aC=Uw+oC+Vw,iC="\\ufe0e\\ufe0f",Hw="["+wp+"]",ev="["+aC+"]",kp="\\ud83c[\\udffb-\\udfff]",_p="(?:"+ev+"|"+kp+")",Lw="[^"+wp+"]",Kw="(?:\\ud83c[\\udde6-\\uddff]){2}",tv="[\\ud800-\\udbff][\\udc00-\\udfff]",qw="\\u200d",rv=_p+"?",xp="["+iC+"]?",Ww="(?:"+qw+"(?:"+[Lw,Kw,tv].join("|")+")"+xp+rv+")*",sC=xp+rv+Ww,$w="(?:"+[Lw+ev+"?",ev,Kw,tv,Hw].join("|")+")",Gw=RegExp(kp+"(?="+kp+")|"+$w+sC,"g");function lC(l){for(var h=Gw.lastIndex=0;Gw.test(l);)++h;return h}var gs=lC;function Sp(l){return Yf(l)?gs(l):Mw(l)}var Zw=Sp,Xw=Math.ceil;function nv(l,h){h=h===void 0?" ":Pf(h);var _=h.length;if(_<2)return _?Jg(h,l):h;var j=Jg(h,Xw(l/Zw(h)));return Yf(h)?Ab(Hb(j),0,l).join(""):j.slice(0,l)}var uC=nv;function cC(l,h,_){l=es(l),h=br(h);var j=h?Zw(l):0;return h&&j<h?uC(h-j,_)+l:l}var Rl=cC;function Yw(l,h){return l==null?!0:tC(l,h)}var ov=Yw,dC=5*1e3,fC=class{constructor(l){I(this,"_cache",new ai),I(this,"_keepHotUntapDebounce"),In(this,l)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return ie(this).propsP}get sheet(){return ie(this).sheet.publicApi}get project(){return ie(this).sheet.project.publicApi}get address(){return Et({},ie(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const l=ie(this);return(0,ii.prism)(()=>(0,ii.val)(l.getValues().getValue()))})}onValuesChange(l,h){return Gp(this._valuesPrism(),l,h)}get value(){const l=this._valuesPrism();{if(!l.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const h=l.keepHot();this._keepHotUntapDebounce=Sc(()=>{h(),this._keepHotUntapDebounce=void 0},dC)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return l.getValue()}set initialValue(l){ie(this).setInitialValue(l)}};function Qw(l){const h=new WeakMap;return _=>(h.has(_)||h.set(_,l(_)),h.get(_))}function Ep(l){return l.type==="compound"||l.type==="enum"}function av(l,h){if(!l)return;const[_,...j]=h;if(_===void 0)return l;if(!Ep(l))return;const N=l.type==="enum"?l.cases[_]:l.props[_];return av(N,j)}function Jw(l){return!Ep(l)}var ek=class{constructor(l,h,_){this.sheet=l,this.template=h,this.nativeObject=_,I(this,"$$isPointerToPrismProvider",!0),I(this,"address"),I(this,"publicApi"),I(this,"_initialValue",new It.Atom({})),I(this,"_cache",new ai),I(this,"_logger"),I(this,"_internalUtilCtx"),this._logger=l._logger.named("SheetObject",h.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=Ir(Et({},h.address),{sheetInstanceId:l.address.sheetInstanceId}),this.publicApi=new fC(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,It.prism)(()=>{const l=(0,It.val)(this.template.getDefaultValues()),h=(0,It.val)(this._initialValue.pointer),_=It.prism.memo("withInitialCache",()=>new WeakMap,[]),j=ls(l,h,_),N=(0,It.val)(this.template.getStaticValues()),H=It.prism.memo("withStatics",()=>new WeakMap,[]);let he=ls(j,N,H),be;{const Ve=It.prism.memo("seq",()=>this.getSequencedValues(),[]),He=It.prism.memo("withSeqsCache",()=>new WeakMap,[]);be=(0,It.val)((0,It.val)(Ve)),he=ls(he,be,He)}return Rf("finalAtom",he).pointer}))}getValueByPointer(l){const h=(0,It.val)(this.getValues()),{path:_}=(0,It.getPointerParts)(l);return(0,It.val)(Ko(h,_))}pointerToPrism(l){const{path:h}=(0,It.getPointerParts)(l);return(0,It.prism)(()=>{const _=(0,It.val)(this.getValues());return(0,It.val)(Ko(_,h))})}getSequencedValues(){return(0,It.prism)(()=>{const l=It.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),h=(0,It.val)(l),_=new It.Atom({}),j=(0,It.val)(this.template.configPointer);return It.prism.effect("processTracks",()=>{const N=[];for(const{trackId:H,pathToProp:re}of h){const he=this._trackIdToPrism(H),be=av(j,re),je=be.deserializeAndSanitize,Ve=be.interpolate,He=()=>{const at=he.getValue();if(!at)return _.setByPointer(Tt=>Ko(Tt,re),void 0);const Qe=je(at.left),L=Qe===void 0?be.default:Qe;if(at.right===void 0)return _.setByPointer(Tt=>Ko(Tt,re),L);const Ee=je(at.right),vt=Ee===void 0?be.default:Ee;return _.setByPointer(Tt=>Ko(Tt,re),Ve(L,vt,at.progression))},We=he.onStale(He);He(),N.push(We)}return()=>{for(const H of N)H()}},[j,...h]),_.pointer})}_trackIdToPrism(l){const h=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[l],_=this.sheet.getSequence().positionPrism;return Vm(this._internalUtilCtx,h,_)}get propsP(){return this._cache.get("propsP",()=>(0,It.pointer)({root:this,path:[]}))}validateValue(l,h){}setInitialValue(l){this.validateValue(this.propsP,l),this._initialValue.set(l)}};function Kt(l){return function(_,j){return l(_,j())}}var zn={_hmm:Bn(524),_todo:Bn(522),_error:Bn(521),errorDev:Bn(529),errorPublic:Bn(545),_kapow:Bn(268),_warn:Bn(265),warnDev:Bn(273),warnPublic:Bn(289),_debug:Bn(137),debugDev:Bn(145),_trace:Bn(73),traceDev:Bn(81)};function Bn(l){return Object.freeze({audience:ka(l,8)?"internal":ka(l,16)?"dev":"public",category:ka(l,4)?"troubleshooting":ka(l,2)?"todo":"general",level:ka(l,512)?512:ka(l,256)?256:ka(l,128)?128:64})}function ka(l,h){return(l&h)===h}function Zt(l,h){return((h&32)===32?!0:(h&16)===16?l.dev:(h&8)===8?l.internal:!1)&&l.min<=h}var _a={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(l,h,_){return this.create({names:[...l.names,{name:h,key:_}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(l){if(l.length<5)return l;const h=l.replace(this.collapseOnRE,"");return this.cssMemo.has(h)||this.cssMemo.set(h,this.css(l)),h},css(l){var h,_,j,N;const H=this.cssMemo.get(l);if(H)return H;let re="color:".concat((_=(h=this.color)==null?void 0:h.call(this,l))!=null?_:"hsl(".concat((l.charCodeAt(0)+l.charCodeAt(l.length-1))%360,", 100%, 60%)"));return(j=this.bold)!=null&&j.test(l)&&(re+=";font-weight:600"),(N=this.italic)!=null&&N.test(l)&&(re+=";font-style:italic"),this.cssMemo.set(l,re),re}}};function Pp(l=console,h={}){const _=Ir(Et({},_a),{includes:Et({},_a.includes)}),j={styled:Ec.bind(_,l),noStyle:hC.bind(_,l)},N=rk.bind(_);function H(){return _.loggingConsoleStyle&&_.loggerConsoleStyle?j.styled:j.noStyle}return _.create=H(),{configureLogger(re){var he;re==="console"?(_.loggerConsoleStyle=_a.loggerConsoleStyle,_.create=H()):re.type==="console"?(_.loggerConsoleStyle=(he=re.style)!=null?he:_a.loggerConsoleStyle,_.create=H()):re.type==="keyed"?(_.creatExt=be=>re.keyed(be.names),_.create=N):re.type==="named"&&(_.creatExt=tk.bind(null,re.named),_.create=N)},configureLogging(re){var he,be,je,Ve,He;_.includes.dev=(he=re.dev)!=null?he:_a.includes.dev,_.includes.internal=(be=re.internal)!=null?be:_a.includes.internal,_.includes.min=(je=re.min)!=null?je:_a.includes.min,_.include=(Ve=re.include)!=null?Ve:_a.include,_.loggingConsoleStyle=(He=re.consoleStyle)!=null?He:_a.loggingConsoleStyle,_.create=H()},getLogger(){return _.create({names:[]})}}}function tk(l,h){const _=[];for(let{name:j,key:N}of h.names)_.push(N==null?j:"".concat(j," (").concat(N,")"));return l(_)}function rk(l){const h=Et(Et({},this.includes),this.include(l)),_=this.filtered,j=this.named.bind(this,l),N=this.creatExt(l),H=Zt(h,524),re=Zt(h,522),he=Zt(h,521),be=Zt(h,529),je=Zt(h,545),Ve=Zt(h,265),He=Zt(h,268),We=Zt(h,273),at=Zt(h,289),Qe=Zt(h,137),L=Zt(h,145),Ee=Zt(h,73),vt=Zt(h,81),Tt=H?N.error.bind(N,zn._hmm):_.bind(l,524),Lr=re?N.error.bind(N,zn._todo):_.bind(l,522),yn=he?N.error.bind(N,zn._error):_.bind(l,521),wr=be?N.error.bind(N,zn.errorDev):_.bind(l,529),Ft=je?N.error.bind(N,zn.errorPublic):_.bind(l,545),Kr=He?N.warn.bind(N,zn._kapow):_.bind(l,268),Nn=Ve?N.warn.bind(N,zn._warn):_.bind(l,265),Jn=We?N.warn.bind(N,zn.warnDev):_.bind(l,273),Ps=at?N.warn.bind(N,zn.warnPublic):_.bind(l,273),Cs=Qe?N.debug.bind(N,zn._debug):_.bind(l,137),Is=L?N.debug.bind(N,zn.debugDev):_.bind(l,145),js=Ee?N.trace.bind(N,zn._trace):_.bind(l,73),Os=vt?N.trace.bind(N,zn.traceDev):_.bind(l,81),nr={_hmm:Tt,_todo:Lr,_error:yn,errorDev:wr,errorPublic:Ft,_kapow:Kr,_warn:Nn,warnDev:Jn,warnPublic:Ps,_debug:Cs,debugDev:Is,_trace:js,traceDev:Os,lazy:{_hmm:H?Kt(Tt):Tt,_todo:re?Kt(Lr):Lr,_error:he?Kt(yn):yn,errorDev:be?Kt(wr):wr,errorPublic:je?Kt(Ft):Ft,_kapow:He?Kt(Kr):Kr,_warn:Ve?Kt(Nn):Nn,warnDev:We?Kt(Jn):Jn,warnPublic:at?Kt(Ps):Ps,_debug:Qe?Kt(Cs):Cs,debugDev:L?Kt(Is):Is,_trace:Ee?Kt(js):js,traceDev:vt?Kt(Os):Os},named:j,utilFor:{internal(){return{debug:nr._debug,error:nr._error,warn:nr._warn,trace:nr._trace,named(Rn,Mt){return nr.named(Rn,Mt).utilFor.internal()}}},dev(){return{debug:nr.debugDev,error:nr.errorDev,warn:nr.warnDev,trace:nr.traceDev,named(Rn,Mt){return nr.named(Rn,Mt).utilFor.dev()}}},public(){return{error:nr.errorPublic,warn:nr.warnPublic,debug(Rn,Mt){nr._warn('(public "debug" filtered out) '.concat(Rn),Mt)},trace(Rn,Mt){nr._warn('(public "trace" filtered out) '.concat(Rn),Mt)},named(Rn,Mt){return nr.named(Rn,Mt).utilFor.public()}}}}};return nr}function Ec(l,h){const _=Et(Et({},this.includes),this.include(h)),j=[];let N="";for(let be=0;be<h.names.length;be++){const{name:je,key:Ve}=h.names[be];if(N+=" %c".concat(je),j.push(this.style.css(je)),Ve!=null){const He="%c#".concat(Ve);N+=He,j.push(this.style.css(He))}}const H=this.filtered,re=this.named.bind(this,h),he=[N,...j];return ci(H,h,_,l,he,pC(he),re)}function pC(l){const h=l.slice(0);for(let _=1;_<h.length;_++)h[_]+=";background-color:#e0005a;padding:2px;color:white";return h}function hC(l,h){const _=Et(Et({},this.includes),this.include(h));let j="";for(let he=0;he<h.names.length;he++){const{name:be,key:je}=h.names[he];j+=" ".concat(be),je!=null&&(j+="#".concat(je))}const N=this.filtered,H=this.named.bind(this,h),re=[j];return ci(N,h,_,l,re,re,H)}function ci(l,h,_,j,N,H,re){const he=Zt(_,524),be=Zt(_,522),je=Zt(_,521),Ve=Zt(_,529),He=Zt(_,545),We=Zt(_,265),at=Zt(_,268),Qe=Zt(_,273),L=Zt(_,289),Ee=Zt(_,137),vt=Zt(_,145),Tt=Zt(_,73),Lr=Zt(_,81),yn=he?j.error.bind(j,...N):l.bind(h,524),wr=be?j.error.bind(j,...N):l.bind(h,522),Ft=je?j.error.bind(j,...N):l.bind(h,521),Kr=Ve?j.error.bind(j,...N):l.bind(h,529),Nn=He?j.error.bind(j,...N):l.bind(h,545),Jn=at?j.warn.bind(j,...H):l.bind(h,268),Ps=We?j.warn.bind(j,...N):l.bind(h,265),Cs=Qe?j.warn.bind(j,...N):l.bind(h,273),Is=L?j.warn.bind(j,...N):l.bind(h,273),js=Ee?j.info.bind(j,...N):l.bind(h,137),Os=vt?j.info.bind(j,...N):l.bind(h,145),nr=Tt?j.debug.bind(j,...N):l.bind(h,73),Rn=Lr?j.debug.bind(j,...N):l.bind(h,81),Mt={_hmm:yn,_todo:wr,_error:Ft,errorDev:Kr,errorPublic:Nn,_kapow:Jn,_warn:Ps,warnDev:Cs,warnPublic:Is,_debug:js,debugDev:Os,_trace:nr,traceDev:Rn,lazy:{_hmm:he?Kt(yn):yn,_todo:be?Kt(wr):wr,_error:je?Kt(Ft):Ft,errorDev:Ve?Kt(Kr):Kr,errorPublic:He?Kt(Nn):Nn,_kapow:at?Kt(Jn):Jn,_warn:We?Kt(Ps):Ps,warnDev:Qe?Kt(Cs):Cs,warnPublic:L?Kt(Is):Is,_debug:Ee?Kt(js):js,debugDev:vt?Kt(Os):Os,_trace:Tt?Kt(nr):nr,traceDev:Lr?Kt(Rn):Rn},named:re,utilFor:{internal(){return{debug:Mt._debug,error:Mt._error,warn:Mt._warn,trace:Mt._trace,named(Ca,Ia){return Mt.named(Ca,Ia).utilFor.internal()}}},dev(){return{debug:Mt.debugDev,error:Mt.errorDev,warn:Mt.warnDev,trace:Mt.traceDev,named(Ca,Ia){return Mt.named(Ca,Ia).utilFor.dev()}}},public(){return{error:Mt.errorPublic,warn:Mt.warnPublic,debug(Ca,Ia){Mt._warn('(public "debug" filtered out) '.concat(Ca),Ia)},trace(Ca,Ia){Mt._warn('(public "trace" filtered out) '.concat(Ca),Ia)},named(Ca,Ia){return Mt.named(Ca,Ia).utilFor.public()}}}}};return Mt}var iv=Pp(console,{});iv.configureLogging({dev:!0,min:64});var Cp=iv.getLogger().named("Theatre.js (default logger)").utilFor.dev(),sv=new WeakMap;function mC(l){const h=sv.get(l);if(h)return h;const _=new Map;return sv.set(l,_),nk([],l,_),_}function nk(l,h,_){for(const[j,N]of Object.entries(h.props))if(!Ep(N)){const H=[...l,j];_.set(JSON.stringify(H),_.size),lv(H,N,_)}for(const[j,N]of Object.entries(h.props))if(Ep(N)){const H=[...l,j];_.set(JSON.stringify(H),_.size),lv(H,N,_)}}function lv(l,h,_){if(h.type==="compound")nk(l,h,_);else{if(h.type==="enum")throw new Error("Enums aren't supported yet");_.set(JSON.stringify(l),_.size)}}function ok(l){return typeof l=="object"&&l!==null&&Object.keys(l).length===0}var gC=class{constructor(l,h,_,j,N){this.sheetTemplate=l,I(this,"address"),I(this,"type","Theatre_SheetObjectTemplate"),I(this,"_config"),I(this,"_temp_actions_atom"),I(this,"_cache",new ai),I(this,"project"),I(this,"pointerToSheetState"),I(this,"pointerToStaticOverrides"),this.address=Ir(Et({},l.address),{objectKey:h}),this._config=new yr.Atom(j),this._temp_actions_atom=new yr.Atom(N),this.project=l.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(l,h,_){return this._config.set(_),new ek(l,this,h)}reconfigure(l){this._config.set(l)}_temp_setActions(l){this._temp_actions_atom.set(l)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,yr.prism)(()=>{const l=(0,yr.val)(this.configPointer);return Mm(l)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,yr.prism)(()=>{var l;const h=(l=(0,yr.val)(this.pointerToStaticOverrides))!=null?l:{};return(0,yr.val)(this.configPointer).deserializeAndSanitize(h)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,yr.prism)(()=>{const l=this.project.pointers.historic.sheetsById[this.address.sheetId],h=(0,yr.val)(l.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!h)return $e;const _=[];if(!h)return $e;const j=(0,yr.val)(this.configPointer),N=Object.entries(h);for(const[re,he]of N){const be=ak(re);if(!be)continue;const je=av(j,be);je&&Jw(je)&&_.push({pathToProp:be,trackId:he})}const H=mC(j);return _.sort((re,he)=>{const be=re.pathToProp,je=he.pathToProp,Ve=H.get(JSON.stringify(be)),He=H.get(JSON.stringify(je));return Ve>He?1:-1}),_.length===0?$e:_}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,yr.prism)(()=>{const l=(0,yr.val)(this.getArrayOfValidSequenceTracks());let h={};for(const{pathToProp:_,trackId:j}of l)as(h,_,j);return h}))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",()=>(0,yr.prism)(()=>{const l=(0,yr.val)(this.getStaticValues()),h=(0,yr.val)(this.getArrayOfValidSequenceTracks()),_=q1(l);for(const{pathToProp:j}of h){ov(_,j);let N=j.slice(0,-1);for(;N.length>0;){const H=ec(_,N);if(!ok(H))break;ov(_,N),N=N.slice(0,-1)}}if(!ok(_))return _}))}getDefaultsAtPointer(l){const{path:h}=(0,yr.getPointerParts)(l),_=this.getDefaultValues().getValue();return ec(_,h)}};function ak(l){try{return JSON.parse(l)}catch(h){Cp.warn("property ".concat(JSON.stringify(l)," cannot be parsed. Skipping."));return}}var ik=Ne,vC=Qw(l=>JSON.stringify(l));Se(ei());var sk=class extends Error{},Pc=class extends sk{},lk=Ne,uk=Ne,yC=Ne,Or=Ne;function xa(){let l,h;const _=new Promise((N,H)=>{l=re=>{N(re),j.status="resolved"},h=re=>{H(re),j.status="rejected"}}),j={resolve:l,reject:h,promise:_,status:"pending"};return j}var bC=()=>{},Ip=bC,ck=Ne,uv=class{constructor(){I(this,"_stopPlayCallback",Ip),I(this,"_state",new ck.Atom({position:0,playing:!1})),I(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=Ip}gotoPosition(l){this._updatePositionInState(l)}_updatePositionInState(l){this._state.setByPointer(h=>h.position,l)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(l){this._state.setByPointer(h=>h.playing,l)}play(l,h,_,j,N){this.playing&&this.pause(),this.playing=!0;const H=h[1]-h[0];{const We=this.getCurrentPosition();We<h[0]||We>h[1]?j==="normal"||j==="alternate"?this._updatePositionInState(h[0]):(j==="reverse"||j==="alternateReverse")&&this._updatePositionInState(h[1]):j==="normal"||j==="alternate"?We===h[1]&&this._updatePositionInState(h[0]):We===h[0]&&this._updatePositionInState(h[1])}const re=xa(),he=N.time,be=H*l;let je=this.getCurrentPosition()-h[0];(j==="reverse"||j==="alternateReverse")&&(je=h[1]-this.getCurrentPosition());const Ve=We=>{const Qe=Math.max(We-he,0)/1e3,L=Math.min(Qe*_+je,be);if(L!==be){const Ee=Math.floor(L/H);let vt=L/H%1*H;if(j!=="normal")if(j==="reverse")vt=H-vt;else{const Tt=Ee%2===0;j==="alternate"?Tt||(vt=H-vt):Tt&&(vt=H-vt)}this._updatePositionInState(vt+h[0]),He()}else{if(j==="normal")this._updatePositionInState(h[1]);else if(j==="reverse")this._updatePositionInState(h[0]);else{const Ee=(l-1)%2===0;j==="alternate"?Ee?this._updatePositionInState(h[1]):this._updatePositionInState(h[0]):Ee?this._updatePositionInState(h[0]):this._updatePositionInState(h[1])}this.playing=!1,re.resolve(!0)}};this._stopPlayCallback=()=>{N.offThisOrNextTick(Ve),N.offNextTick(Ve),this.playing&&re.resolve(!1)};const He=()=>N.onNextTick(Ve);return N.onThisOrNextTick(Ve),re.promise}playDynamicRange(l,h){this.playing&&this.pause(),this.playing=!0;const _=xa(),j=l.keepHot();_.promise.then(j,j);let N=h.time;const H=he=>{const be=Math.max(he-N,0);N=he;const je=be/1e3,Ve=this.getCurrentPosition(),He=l.getValue();if(Ve<He[0]||Ve>He[1])this.gotoPosition(He[0]);else{let We=Ve+je;We>He[1]&&(We=He[0]+(We-He[1])),this.gotoPosition(We)}re()};this._stopPlayCallback=()=>{h.offThisOrNextTick(H),h.offNextTick(H),_.resolve(!1)};const re=()=>h.onNextTick(H);return h.onThisOrNextTick(H),_.promise}},dk=Ne,wC="__TheatreJS_StudioBundle",cv="__TheatreJS_CoreBundle",fk="__TheatreJS_Notifications",jp=l=>(...h)=>{var _;switch(l){case"success":{Cp.debug(h.slice(0,2).join(`
`));break}case"info":{Cp.debug(h.slice(0,2).join(`
`));break}case"warning":{Cp.warn(h.slice(0,2).join(`
`));break}}return typeof window!="undefined"?(_=window[fk])==null?void 0:_.notify[l](...h):void 0},vs={warning:jp("warning"),success:jp("success"),info:jp("info"),error:jp("error")};typeof window!="undefined"&&(window.addEventListener("error",l=>{vs.error("An error occurred","<pre>".concat(l.message,`</pre>

See **console** for details.`))}),window.addEventListener("unhandledrejection",l=>{vs.error("An error occurred","<pre>".concat(l.reason,`</pre>

See **console** for details.`))}));var pk=class{constructor(l,h,_){this._decodedBuffer=l,this._audioContext=h,this._nodeDestination=_,I(this,"_mainGain"),I(this,"_state",new dk.Atom({position:0,playing:!1})),I(this,"statePointer"),I(this,"_stopPlayCallback",Ip),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(l,h){const _=xa();this._playing&&this.pause(),this._playing=!0;let j;const N=()=>{j==null||j(),j=this._loopInRange(l.getValue(),h).stop},H=l.onStale(N);return N(),this._stopPlayCallback=()=>{j==null||j(),H(),_.resolve(!1)},_.promise}_loopInRange(l,h){let j=this.getCurrentPosition();const N=l[1]-l[0];j<l[0]||j>l[1]?this._updatePositionInState(l[0]):j===l[1]&&this._updatePositionInState(l[0]),j=this.getCurrentPosition();const H=this._audioContext.createBufferSource();H.buffer=this._decodedBuffer,H.connect(this._mainGain),H.playbackRate.value=1,H.loop=!0,H.loopStart=l[0],H.loopEnd=l[1];const re=h.time;let he=j-l[0];H.start(0,j);const be=He=>{let L=(Math.max(He-re,0)/1e3*1+he)/N%1*N;this._updatePositionInState(L+l[0]),je()},je=()=>h.onNextTick(be);return h.onThisOrNextTick(be),{stop:()=>{H.stop(),H.disconnect(),h.offThisOrNextTick(be),h.offNextTick(be)}}}get _playing(){return this._state.get().playing}set _playing(l){this._state.setByPointer(h=>h.playing,l)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=Ip}gotoPosition(l){this._updatePositionInState(l)}_updatePositionInState(l){this._state.reduce(h=>Ir(Et({},h),{position:l}))}getCurrentPosition(){return this._state.get().position}play(l,h,_,j,N){this._playing&&this.pause(),this._playing=!0;let H=this.getCurrentPosition();const re=h[1]-h[0];if(j!=="normal")throw new Pc('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(j,"' given."));H<h[0]||H>h[1]?this._updatePositionInState(h[0]):H===h[1]&&this._updatePositionInState(h[0]),H=this.getCurrentPosition();const he=xa(),be=this._audioContext.createBufferSource();be.buffer=this._decodedBuffer,be.connect(this._mainGain),be.playbackRate.value=_,l>1e3&&(vs.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(l,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),l=1e3),l>1&&(be.loop=!0,be.loopStart=h[0],be.loopEnd=h[1]);const je=N.time;let Ve=H-h[0];const He=re*l;be.start(0,H,He-Ve);const We=L=>{const vt=Math.max(L-je,0)/1e3,Tt=Math.min(vt*_+Ve,He);if(Tt!==He){let Lr=Tt/re%1*re;this._updatePositionInState(Lr+h[0]),Qe()}else this._updatePositionInState(h[1]),this._playing=!1,at(),he.resolve(!0)},at=()=>{be.stop(),be.disconnect()};this._stopPlayCallback=()=>{at(),N.offThisOrNextTick(We),N.offNextTick(We),this._playing&&he.resolve(!1)};const Qe=()=>N.onNextTick(We);return N.onThisOrNextTick(We),he.promise}},kC=Ne,dv=0;function Op(l){var h;const _=re=>{j.tick(re)},j=new kC.Ticker({onActive(){var re;(re=l==null?void 0:l.start)==null||re.call(l)},onDormant(){var re;(re=l==null?void 0:l.stop)==null||re.call(l)}}),N={tick:_,id:dv++,name:(h=l==null?void 0:l.name)!=null?h:"CustomRafDriver-".concat(dv),type:"Theatre_RafDriver_PublicAPI"},H={type:"Theatre_RafDriver_PrivateAPI",publicApi:N,ticker:j,start:l==null?void 0:l.start,stop:l==null?void 0:l.stop};return In(N,H),N}function _C(){let l=null;const j=Op({name:"DefaultCoreRafDriver",start:()=>{if(typeof window!="undefined"){const N=H=>{j.tick(H),l=window.requestAnimationFrame(N)};l=window.requestAnimationFrame(N)}else j.tick(0),setTimeout(()=>j.tick(1),0)},stop:()=>{typeof window!="undefined"&&l!==null&&window.cancelAnimationFrame(l)}});return j}var Tp;function ys(){return Tp||hk(_C()),Tp}function Ap(){return ys().ticker}function hk(l){if(Tp)throw new Error("`setCoreRafDriver()` is already called.");Tp=ie(l)}var mk=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(l){In(this,l)}play(l){const h=ie(this);if(h._project.isReady()){const _=l!=null&&l.rafDriver?ie(l.rafDriver).ticker:Ap();return h.play(l!=null?l:{},_)}else{const _=xa();return _.resolve(!0),_.promise}}pause(){ie(this).pause()}get position(){return ie(this).position}set position(l){ie(this).position=l}__experimental_getKeyframes(l){return ie(this).getKeyframesOfSimpleProp(l)}async attachAudio(l){const{audioContext:h,destinationNode:_,decodedBuffer:j,gainNode:N}=await xC(l),H=new pk(j,h,N);return ie(this).replacePlaybackController(H),{audioContext:h,destinationNode:_,decodedBuffer:j,gainNode:N}}get pointer(){return ie(this).pointer}};async function xC(l){function h(){if(l.audioContext)return Promise.resolve(l.audioContext);const je=new AudioContext;return je.state==="running"||typeof window=="undefined"?Promise.resolve(je):new Promise(Ve=>{const He=()=>{je.resume().catch(Qe=>{console.error(Qe)})},We=["mousedown","keydown","touchstart"],at={capture:!0,passive:!1};We.forEach(Qe=>{window.addEventListener(Qe,He,at)}),je.addEventListener("statechange",()=>{je.state==="running"&&(We.forEach(Qe=>{window.removeEventListener(Qe,He,at)}),Ve(je))})})}async function _(){if(l.source instanceof AudioBuffer)return l.source;const je=xa();if(typeof l.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let Ve;try{Ve=await fetch(l.source)}catch(Qe){throw console.error(Qe),new Error("Could not fetch '".concat(l.source,"'. Network error logged above."))}let He;try{He=await Ve.arrayBuffer()}catch(Qe){throw console.error(Qe),new Error("Could not read '".concat(l.source,"' as an arrayBuffer."))}(await j).decodeAudioData(He,je.resolve,je.reject);let at;try{at=await je.promise}catch(Qe){throw console.error(Qe),new Error("Could not decode ".concat(l.source," as an audio file."))}return at}const j=h(),N=_(),[H,re]=await Promise.all([j,N]),he=l.destinationNode||H.destination,be=H.createGain();return be.connect(he),{audioContext:H,decodedBuffer:re,gainNode:be,destinationNode:he}}var gk=vk("Theatre_SheetObject");function vk(l){return h=>typeof h=="object"&&!!h&&h.type===l}var yk=class{constructor(l,h,_,j,N){this._project=l,this._sheet=h,this._lengthD=_,this._subUnitsPerUnitD=j,I(this,"address"),I(this,"publicApi"),I(this,"_playbackControllerBox"),I(this,"_prismOfStatePointer"),I(this,"_positionD"),I(this,"_positionFormatterD"),I(this,"_playableRangeD"),I(this,"pointer",(0,yC.pointer)({root:this,path:[]})),I(this,"$$isPointerToPrismProvider",!0),I(this,"_logger"),I(this,"closestGridPosition",H=>{const he=1/this.subUnitsPerUnit;return parseFloat((Math.round(H/he)*he).toFixed(3))}),this._logger=l._logger.named("Sheet",h.address.sheetId).named("Instance",h.address.sheetInstanceId),this.address=Ir(Et({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new mk(this),this._playbackControllerBox=new uk.Atom(N!=null?N:new uv),this._prismOfStatePointer=(0,Or.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,Or.prism)(()=>{const H=this._prismOfStatePointer.getValue();return(0,Or.val)(H.position)}),this._positionFormatterD=(0,Or.prism)(()=>{const H=(0,Or.val)(this._subUnitsPerUnitD);return new SC(H)})}get type(){return"Theatre_Sequence"}pointerToPrism(l){const{path:h}=(0,lk.getPointerParts)(l);if(h.length===0)return(0,Or.prism)(()=>({length:(0,Or.val)(this.pointer.length),playing:(0,Or.val)(this.pointer.playing),position:(0,Or.val)(this.pointer.position),subUnitsPerUnit:(0,Or.val)(this.pointer.subUnitsPerUnit)}));if(h.length>1)return(0,Or.prism)(()=>{});const[_]=h;return _==="length"?this._lengthD:_==="subUnitsPerUnit"?this._subUnitsPerUnitD:_==="position"?this._positionD:_==="playing"?(0,Or.prism)(()=>(0,Or.val)(this._prismOfStatePointer.getValue().playing)):(0,Or.prism)(()=>{})}getKeyframesOfSimpleProp(l){const{path:h,root:_}=(0,lk.getPointerParts)(l);if(!gk(_))throw new Pc("Argument prop must be a pointer to a SheetObject property");const j=(0,Or.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[_.address.objectKey]);if(!j)return[];const{trackData:N,trackIdByPropPath:H}=j,re=vC(h),he=H[re];if(!he)return[];const be=N[he];return be?be.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(l){let h=l;this.pause(),h>this.length&&(h=this.length);const _=this.length;this._playbackControllerBox.get().gotoPosition(h>_?_:h)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,Or.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,Or.prism)(()=>[0,(0,Or.val)(this._lengthD)])}playDynamicRange(l,h){return this._playbackControllerBox.get().playDynamicRange(l,h)}async play(l,h){const _=this.length,j=l&&l.range?l.range:[0,_],N=l&&typeof l.iterationCount=="number"?l.iterationCount:1,H=l&&typeof l.rate!="undefined"?l.rate:1,re=l&&l.direction?l.direction:"normal";return await this._play(N,[j[0],j[1]],H,re,h)}_play(l,h,_,j,N){return this._playbackControllerBox.get().play(l,h,_,j,N)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(l){this.pause();const h=this._playbackControllerBox.get();this._playbackControllerBox.set(l);const _=h.getCurrentPosition();h.destroy(),l.gotoPosition(_)}},SC=class{constructor(l){this._fps=l}formatSubUnitForGrid(l){const h=l%1,_=1/this._fps;return Math.round(h/_)+"f"}formatFullUnitForGrid(l){let h=l,_="";if(h>=ws){const N=Math.floor(h/ws);_+=N+"h",h=h%ws}if(h>=di){const N=Math.floor(h/di);_+=N+"m",h=h%di}if(h>=bs){const N=Math.floor(h/bs);_+=N+"s",h=h%bs}const j=1/this._fps;if(h>=j){const N=Math.floor(h/j);_+=N+"f",h=h%j}return _.length===0?"0s":_}formatForPlayhead(l){let h=l,_="";if(h>=ws){const N=Math.floor(h/ws);_+=Rl(N.toString(),2,"0")+"h",h=h%ws}if(h>=di){const N=Math.floor(h/di);_+=Rl(N.toString(),2,"0")+"m",h=h%di}else _.length>0&&(_+="00m");if(h>=bs){const N=Math.floor(h/bs);_+=Rl(N.toString(),2,"0")+"s",h=h%bs}else _+="00s";const j=1/this._fps;if(h>=j){const N=Math.round(h/j);_+=Rl(N.toString(),2,"0")+"f",h=h%j}else h/j>.98?(_+=Rl("1",2,"0")+"f",h=h%j):_+="00f";return _.length===0?"00s00f":_}formatBasic(l){return l.toFixed(2)+"s"}},bs=1,di=bs*60,ws=di*60,fv={};zo(fv,{boolean:()=>mv,compound:()=>Cc,file:()=>Dp,image:()=>pi,number:()=>hi,rgba:()=>Fl,string:()=>Ck,stringLiteral:()=>Ik});function bk(l,h){return l.length<=h?l:l.substr(0,h-3)+"..."}var fi=l=>typeof l=="string"?'string("'.concat(bk(l,10),'")'):typeof l=="number"?"number(".concat(bk(String(l),10),")"):l===null?"null":l===void 0?"undefined":typeof l=="boolean"?String(l):Array.isArray(l)?"array":typeof l=="object"?"object":"unknown",wk=fi;function _r(l,{removeAlphaIfOpaque:h=!1}={}){const _=(l.a*255|256).toString(16).slice(1),j=(l.r*255|256).toString(16).slice(1)+(l.g*255|256).toString(16).slice(1)+(l.b*255|256).toString(16).slice(1)+(h&&_==="ff"?"":_);return"#".concat(j)}function pv(l){return Ir(Et({},l),{toString(){return _r(this,{removeAlphaIfOpaque:!0})}})}function EC(l){return Object.fromEntries(Object.entries(l).map(([h,_])=>[h,Kb(_,0,1)]))}function ae(l){function h(_){return _>=.0031308?1.055*_**(1/2.4)-.055:12.92*_}return EC({r:h(l.r),g:h(l.g),b:h(l.b),a:l.a})}function kk(l){function h(_){return _>=.04045?((_+.055)/(1+.055))**2.4:_/12.92}return{r:h(l.r),g:h(l.g),b:h(l.b),a:l.a}}function _k(l){let h=.4122214708*l.r+.5363325363*l.g+.0514459929*l.b,_=.2119034982*l.r+.6806995451*l.g+.1073969566*l.b,j=.0883024619*l.r+.2817188376*l.g+.6299787005*l.b,N=Math.cbrt(h),H=Math.cbrt(_),re=Math.cbrt(j);return{L:.2104542553*N+.793617785*H-.0040720468*re,a:1.9779984951*N-2.428592205*H+.4505937099*re,b:.0259040371*N+.7827717662*H-.808675766*re,alpha:l.a}}function PC(l){let h=l.L+.3963377774*l.a+.2158037573*l.b,_=l.L-.1055613458*l.a-.0638541728*l.b,j=l.L-.0894841775*l.a-1.291485548*l.b,N=h*h*h,H=_*_*_,re=j*j*j;return{r:4.0767416621*N-3.3077115913*H+.2309699292*re,g:-1.2684380046*N+2.6097574011*H-.3413193965*re,b:-.0041960863*N-.7034186147*H+1.707614701*re,a:l.alpha}}var Nr=Symbol("TheatrePropType_Basic");function xk(l){return typeof l=="object"&&!!l&&l[Nr]==="TheatrePropType"}function bt(l){if(typeof l=="number")return hi(l);if(typeof l=="boolean")return mv(l);if(typeof l=="string")return Ck(l);if(typeof l=="object"&&l){if(xk(l))return l;if(pP(l))return Cc(l);throw new Pc("This value is not a valid prop type: ".concat(wk(l)))}else throw new Pc("This value is not a valid prop type: ".concat(wk(l)))}function CC(l){const h={};for(const _ of Object.keys(l)){const j=l[_];xk(j)?h[_]=j:h[_]=bt(j)}return h}var Cc=(l,h={})=>{const _=CC(l),j=new WeakMap;return{type:"compound",props:_,valueType:null,[Nr]:"TheatrePropType",label:h.label,default:Rw(_,H=>H.default),deserializeAndSanitize:H=>{if(typeof H!="object"||!H)return;if(j.has(H))return j.get(H);const re={};let he=!1;for(const[be,je]of Object.entries(_))if(Object.prototype.hasOwnProperty.call(H,be)){const Ve=je.deserializeAndSanitize(H[be]);Ve!=null&&(he=!0,re[be]=Ve)}if(j.set(H,re),he)return re}}},Dp=(l,h={})=>{const _=(j,N,H)=>{var re;return{type:"file",id:((re=h.interpolate)!=null?re:Xe)(j.id,N.id,H)}};return{type:"file",default:{type:"file",id:l},valueType:null,[Nr]:"TheatrePropType",label:h.label,interpolate:_,deserializeAndSanitize:Sk}},Sk=l=>{if(!l)return;let h=!0;if(typeof l.id!="string"&&![null,void 0].includes(l.id)&&(h=!1),l.type!=="file"&&(h=!1),!!h)return l},pi=(l,h={})=>{const _=(j,N,H)=>{var re;return{type:"image",id:((re=h.interpolate)!=null?re:Xe)(j.id,N.id,H)}};return{type:"image",default:{type:"image",id:l},valueType:null,[Nr]:"TheatrePropType",label:h.label,interpolate:_,deserializeAndSanitize:Ek}},Ek=l=>{if(!l)return;let h=!0;if(typeof l.id!="string"&&![null,void 0].includes(l.id)&&(h=!1),l.type!=="image"&&(h=!1),!!h)return l},hi=(l,h={})=>{var _;return Ir(Et({type:"number",valueType:0,default:l,[Nr]:"TheatrePropType"},h||{}),{label:h.label,nudgeFn:(_=h.nudgeFn)!=null?_:jC,nudgeMultiplier:typeof h.nudgeMultiplier=="number"?h.nudgeMultiplier:void 0,interpolate:bo,deserializeAndSanitize:_t(h.range)})},_t=l=>l?h=>{if(typeof h=="number"&&isFinite(h))return Kb(h,l[0],l[1])}:hv,hv=l=>typeof l=="number"&&isFinite(l)?l:void 0,bo=(l,h,_)=>l+_*(h-l),Fl=(l={r:0,g:0,b:0,a:1},h={})=>{const _={};for(const j of["r","g","b","a"])_[j]=Math.min(Math.max(l[j],0),1);return{type:"rgba",valueType:null,default:pv(_),[Nr]:"TheatrePropType",label:h.label,interpolate:Pk,deserializeAndSanitize:zp}},zp=l=>{if(!l)return;let h=!0;for(const j of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(l,j)||typeof l[j]!="number")&&(h=!1);if(!h)return;const _={};for(const j of["r","g","b","a"])_[j]=Math.min(Math.max(l[j],0),1);return pv(_)},Pk=(l,h,_)=>{const j=_k(kk(l)),N=_k(kk(h)),H={L:(1-_)*j.L+_*N.L,a:(1-_)*j.a+_*N.a,b:(1-_)*j.b+_*N.b,alpha:(1-_)*j.alpha+_*N.alpha},re=ae(PC(H));return pv(re)},mv=(l,h={})=>{var _;return{type:"boolean",default:l,valueType:null,[Nr]:"TheatrePropType",label:h.label,interpolate:(_=h.interpolate)!=null?_:Xe,deserializeAndSanitize:gv}},gv=l=>typeof l=="boolean"?l:void 0;function Xe(l){return l}var Ck=(l,h={})=>{var _;return{type:"string",default:l,valueType:null,[Nr]:"TheatrePropType",label:h.label,interpolate:(_=h.interpolate)!=null?_:Xe,deserializeAndSanitize:IC}};function IC(l){return typeof l=="string"?l:void 0}function Ik(l,h,_={}){var j,N;return{type:"stringLiteral",default:l,valuesAndLabels:Et({},h),[Nr]:"TheatrePropType",valueType:null,as:(j=_.as)!=null?j:"menu",label:_.label,interpolate:(N=_.interpolate)!=null?N:Xe,deserializeAndSanitize(H){if(typeof H=="string"&&Object.prototype.hasOwnProperty.call(h,H))return H}}}var jC=({config:l,deltaX:h,deltaFraction:_,magnitude:j})=>{var N;const{range:H}=l;return!l.nudgeMultiplier&&H&&!H.includes(1/0)&&!H.includes(-1/0)?_*(H[1]-H[0])*j:h*j*((N=l.nudgeMultiplier)!=null?N:1)},jk=l=>l.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function Bp(l,h){return jk(l)}Se(Q());var Ok=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(l){In(this,l)}object(l,h,_){const j=ie(this),N=Bp(l),H=j.getObject(N),re=null,he=_==null?void 0:_.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(H)return he&&H.template._temp_setActions(he),H.publicApi;{const be=Cc(h);return j.createObject(N,re,be,he).publicApi}}__experimental_getExistingObject(l){const h=ie(this),_=Bp(l),j=h.getObject(_);return j==null?void 0:j.publicApi}get sequence(){return ie(this).getSequence().publicApi}get project(){return ie(this).project.publicApi}get address(){return Et({},ie(this).address)}detachObject(l){const h=ie(this),_=Bp(l);if(!h.getObject(_)){vs.warning(`Couldn't delete object "`.concat(_,'"'),'There is no object with key "'.concat(_,`".

To fix this, make sure you are calling \`sheet.deleteObject("`).concat(_,'")` with the correct key.')),console.warn('Object key "'.concat(_,'" does not exist.'));return}h.deleteObject(_)}},Ml=Ne,OC=class{constructor(l,h){this.template=l,this.instanceId=h,I(this,"_objects",new Ml.Atom({})),I(this,"_sequence"),I(this,"address"),I(this,"publicApi"),I(this,"project"),I(this,"objectsP",this._objects.pointer),I(this,"type","Theatre_Sheet"),I(this,"_logger"),this._logger=l.project._logger.named("Sheet",h),this._logger._trace("creating sheet"),this.project=l.project,this.address=Ir(Et({},l.address),{sheetInstanceId:this.instanceId}),this.publicApi=new Ok(this)}createObject(l,h,_,j={}){const H=this.template.getObjectTemplate(l,h,_,j).createInstance(this,h,_);return this._objects.setByPointer(re=>re[l],H),H}getObject(l){return this._objects.get()[l]}deleteObject(l){this._objects.reduce(h=>{const _=Et({},h);return delete _[l],_})}getSequence(){if(!this._sequence){const l=(0,Ml.prism)(()=>{const _=(0,Ml.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return TC(_)}),h=(0,Ml.prism)(()=>{const _=(0,Ml.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return Tk(_)});this._sequence=new yk(this.template.project,this,l,h)}return this._sequence}},TC=l=>typeof l=="number"&&isFinite(l)&&l>0?l:10,Tk=l=>typeof l=="number"&&J2(l)&&l>=1&&l<=1e3?l:30,AC=class{constructor(l,h){this.project=l,I(this,"type","Theatre_SheetTemplate"),I(this,"address"),I(this,"_instances",new ik.Atom({})),I(this,"instancesP",this._instances.pointer),I(this,"_objectTemplates",new ik.Atom({})),I(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=Ir(Et({},l.address),{sheetId:h})}getInstance(l){let h=this._instances.get()[l];return h||(h=new OC(this,l),this._instances.setByPointer(_=>_[l],h)),h}getObjectTemplate(l,h,_,j){let N=this._objectTemplates.get()[l];return N||(N=new gC(this,l,h,_,j),this._objectTemplates.setByPointer(H=>H[l],N)),N}},Np=Ne,vv=Ne,yv=l=>new Promise(h=>setTimeout(h,l)),DC=yv;function Qn(l){for(var h=arguments.length,_=Array(h>1?h-1:0),j=1;j<h;j++)_[j-1]=arguments[j];throw Error("[Immer] minified error nr: "+l+(_.length?" "+_.map(function(N){return"'"+N+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ks(l){return!!l&&!!l[Yr]}function _s(l){return!!l&&(function(h){if(!h||typeof h!="object")return!1;var _=Object.getPrototypeOf(h);if(_===null)return!0;var j=Object.hasOwnProperty.call(_,"constructor")&&_.constructor;return j===Object||typeof j=="function"&&Function.toString.call(j)===zk}(l)||Array.isArray(l)||!!l[Cv]||!!l.constructor[Cv]||Fp(l)||jc(l))}function wo(l){return ks(l)||Qn(23,l),l[Yr].t}function Sa(l,h,_){_===void 0&&(_=!1),xs(l)===0?(_?Object.keys:Hp)(l).forEach(function(j){_&&typeof j=="symbol"||h(j,l[j],l)}):l.forEach(function(j,N){return h(N,j,l)})}function xs(l){var h=l[Yr];return h?h.i>3?h.i-4:h.i:Array.isArray(l)?1:Fp(l)?2:jc(l)?3:0}function Ic(l,h){return xs(l)===2?l.has(h):Object.prototype.hasOwnProperty.call(l,h)}function Ea(l,h){return xs(l)===2?l.get(h):l[h]}function Rp(l,h,_){var j=xs(l);j===2?l.set(h,_):j===3?(l.delete(h),l.add(_)):l[h]=_}function Ak(l,h){return l===h?l!==0||1/l==1/h:l!=l&&h!=h}function Fp(l){return Kl&&l instanceof Map}function jc(l){return Dc&&l instanceof Set}function mi(l){return l.o||l.t}function Mp(l){if(Array.isArray(l))return Array.prototype.slice.call(l);var h=Lp(l);delete h[Yr];for(var _=Hp(h),j=0;j<_.length;j++){var N=_[j],H=h[N];H.writable===!1&&(H.writable=!0,H.configurable=!0),(H.get||H.set)&&(h[N]={configurable:!0,writable:!0,enumerable:H.enumerable,value:l[N]})}return Object.create(Object.getPrototypeOf(l),h)}function Up(l,h){return h===void 0&&(h=!1),Xr(l)||ks(l)||!_s(l)||(xs(l)>1&&(l.set=l.add=l.clear=l.delete=Ss),Object.freeze(l),h&&Sa(l,function(_,j){return Up(j,!0)},!0)),l}function Ss(){Qn(2)}function Xr(l){return l==null||typeof l!="object"||Object.isFrozen(l)}function ko(l){var h=Iv[l];return h||Qn(18,l),h}function Oc(){return Pa}function bv(l,h){h&&(ko("Patches"),l.u=[],l.s=[],l.v=h)}function Tc(l){Vp(l),l.p.forEach(kv),l.p=null}function Vp(l){l===Pa&&(Pa=l.l)}function wv(l){return Pa={p:[],l:Pa,h:l,m:!0,_:0}}function kv(l){var h=l[Yr];h.i===0||h.i===1?h.j():h.O=!0}function rr(l,h){h._=h.p.length;var _=h.p[0],j=l!==void 0&&l!==_;return h.h.g||ko("ES5").S(h,l,j),j?(_[Yr].P&&(Tc(h),Qn(4)),_s(l)&&(l=Ac(h,l),h.l||Ul(h,l)),h.u&&ko("Patches").M(_[Yr],l,h.u,h.s)):l=Ac(h,_,[]),Tc(h),h.u&&h.v(h.u,h.s),l!==Pv?l:void 0}function Ac(l,h,_){if(Xr(h))return h;var j=h[Yr];if(!j)return Sa(h,function(H,re){return _v(l,j,h,H,re,_)},!0),h;if(j.A!==l)return h;if(!j.P)return Ul(l,j.t,!0),j.t;if(!j.I){j.I=!0,j.A._--;var N=j.i===4||j.i===5?j.o=Mp(j.k):j.o;Sa(j.i===3?new Set(N):N,function(H,re){return _v(l,j,N,H,re,_)}),Ul(l,N,!1),_&&l.u&&ko("Patches").R(j,_,l.u,l.s)}return j.o}function _v(l,h,_,j,N,H){if(ks(N)){var re=Ac(l,N,H&&h&&h.i!==3&&!Ic(h.D,j)?H.concat(j):void 0);if(Rp(_,j,re),!ks(re))return;l.m=!1}if(_s(N)&&!Xr(N)){if(!l.h.F&&l._<1)return;Ac(l,N),h&&h.A.l||Ul(l,N)}}function Ul(l,h,_){_===void 0&&(_=!1),l.h.F&&l.m&&Up(h,_)}function Vl(l,h){var _=l[Yr];return(_?mi(_):l)[h]}function Hl(l,h){if(h in l)for(var _=Object.getPrototypeOf(l);_;){var j=Object.getOwnPropertyDescriptor(_,h);if(j)return j;_=Object.getPrototypeOf(_)}}function _o(l){l.P||(l.P=!0,l.l&&_o(l.l))}function xo(l){l.o||(l.o=Mp(l.t))}function Ll(l,h,_){var j=Fp(h)?ko("MapSet").N(h,_):jc(h)?ko("MapSet").T(h,_):l.g?function(N,H){var re=Array.isArray(N),he={i:re?1:0,A:H?H.A:Oc(),P:!1,I:!1,D:{},l:H,t:N,k:null,o:null,j:null,C:!1},be=he,je=zc;re&&(be=[he],je=Bc);var Ve=Proxy.revocable(be,je),He=Ve.revoke,We=Ve.proxy;return he.k=We,he.j=He,We}(h,_):ko("ES5").J(h,_);return(_?_.A:Oc()).p.push(j),j}function Dk(l){return ks(l)||Qn(22,l),function h(_){if(!_s(_))return _;var j,N=_[Yr],H=xs(_);if(N){if(!N.P&&(N.i<4||!ko("ES5").K(N)))return N.t;N.I=!0,j=xv(_,H),N.I=!1}else j=xv(_,H);return Sa(j,function(re,he){N&&Ea(N.t,re)===he||Rp(j,re,h(he))}),H===3?new Set(j):j}(l)}function xv(l,h){switch(h){case 2:return new Map(l);case 3:return Array.from(l)}return Mp(l)}var Sv,Pa,Es=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Kl=typeof Map!="undefined",Dc=typeof Set!="undefined",Ev=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Pv=Es?Symbol.for("immer-nothing"):((Sv={})["immer-nothing"]=!0,Sv),Cv=Es?Symbol.for("immer-draftable"):"__$immer_draftable",Yr=Es?Symbol.for("immer-state"):"__$immer_state",zk=""+Object.prototype.constructor,Hp=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Object.getOwnPropertyNames,Lp=Object.getOwnPropertyDescriptors||function(l){var h={};return Hp(l).forEach(function(_){h[_]=Object.getOwnPropertyDescriptor(l,_)}),h},Iv={},zc={get:function(l,h){if(h===Yr)return l;var _=mi(l);if(!Ic(_,h))return function(N,H,re){var he,be=Hl(H,re);return be?"value"in be?be.value:(he=be.get)===null||he===void 0?void 0:he.call(N.k):void 0}(l,_,h);var j=_[h];return l.I||!_s(j)?j:j===Vl(l.t,h)?(xo(l),l.o[h]=Ll(l.A.h,j,l)):j},has:function(l,h){return h in mi(l)},ownKeys:function(l){return Reflect.ownKeys(mi(l))},set:function(l,h,_){var j=Hl(mi(l),h);if(j!=null&&j.set)return j.set.call(l.k,_),!0;if(!l.P){var N=Vl(mi(l),h),H=N==null?void 0:N[Yr];if(H&&H.t===_)return l.o[h]=_,l.D[h]=!1,!0;if(Ak(_,N)&&(_!==void 0||Ic(l.t,h)))return!0;xo(l),_o(l)}return l.o[h]===_&&typeof _!="number"&&(_!==void 0||h in l.o)||(l.o[h]=_,l.D[h]=!0,!0)},deleteProperty:function(l,h){return Vl(l.t,h)!==void 0||h in l.t?(l.D[h]=!1,xo(l),_o(l)):delete l.D[h],l.o&&delete l.o[h],!0},getOwnPropertyDescriptor:function(l,h){var _=mi(l),j=Reflect.getOwnPropertyDescriptor(_,h);return j&&{writable:!0,configurable:l.i!==1||h!=="length",enumerable:j.enumerable,value:_[h]}},defineProperty:function(){Qn(11)},getPrototypeOf:function(l){return Object.getPrototypeOf(l.t)},setPrototypeOf:function(){Qn(12)}},Bc={};Sa(zc,function(l,h){Bc[l]=function(){return arguments[0]=arguments[0][0],h.apply(this,arguments)}}),Bc.deleteProperty=function(l,h){return zc.deleteProperty.call(this,l[0],h)},Bc.set=function(l,h,_){return zc.set.call(this,l[0],h,_,l[0])};var Bk=function(){function l(_){var j=this;this.g=Ev,this.F=!0,this.produce=function(N,H,re){if(typeof N=="function"&&typeof H!="function"){var he=H;H=N;var be=j;return function(at){var Qe=this;at===void 0&&(at=he);for(var L=arguments.length,Ee=Array(L>1?L-1:0),vt=1;vt<L;vt++)Ee[vt-1]=arguments[vt];return be.produce(at,function(Tt){var Lr;return(Lr=H).call.apply(Lr,[Qe,Tt].concat(Ee))})}}var je;if(typeof H!="function"&&Qn(6),re!==void 0&&typeof re!="function"&&Qn(7),_s(N)){var Ve=wv(j),He=Ll(j,N,void 0),We=!0;try{je=H(He),We=!1}finally{We?Tc(Ve):Vp(Ve)}return typeof Promise!="undefined"&&je instanceof Promise?je.then(function(at){return bv(Ve,re),rr(at,Ve)},function(at){throw Tc(Ve),at}):(bv(Ve,re),rr(je,Ve))}if(!N||typeof N!="object")return(je=H(N))===Pv?void 0:(je===void 0&&(je=N),j.F&&Up(je,!0),je);Qn(21,N)},this.produceWithPatches=function(N,H){return typeof N=="function"?function(be){for(var je=arguments.length,Ve=Array(je>1?je-1:0),He=1;He<je;He++)Ve[He-1]=arguments[He];return j.produceWithPatches(be,function(We){return N.apply(void 0,[We].concat(Ve))})}:[j.produce(N,H,function(be,je){re=be,he=je}),re,he];var re,he},typeof(_==null?void 0:_.useProxies)=="boolean"&&this.setUseProxies(_.useProxies),typeof(_==null?void 0:_.autoFreeze)=="boolean"&&this.setAutoFreeze(_.autoFreeze)}var h=l.prototype;return h.createDraft=function(_){_s(_)||Qn(8),ks(_)&&(_=Dk(_));var j=wv(this),N=Ll(this,_,void 0);return N[Yr].C=!0,Vp(j),N},h.finishDraft=function(_,j){var N=_&&_[Yr],H=N.A;return bv(H,j),rr(void 0,H)},h.setAutoFreeze=function(_){this.F=_},h.setUseProxies=function(_){_&&!Ev&&Qn(20),this.g=_},h.applyPatches=function(_,j){var N;for(N=j.length-1;N>=0;N--){var H=j[N];if(H.path.length===0&&H.op==="replace"){_=H.value;break}}var re=ko("Patches").$;return ks(_)?re(_,j):this.produce(_,function(he){return re(he,j.slice(N+1))})},l}(),Qr=new Bk;Qr.produce,Qr.produceWithPatches.bind(Qr),Qr.setAutoFreeze.bind(Qr),Qr.setUseProxies.bind(Qr),Qr.applyPatches.bind(Qr),Qr.createDraft.bind(Qr),Qr.finishDraft.bind(Qr);var Nk={currentProjectStateDefinitionVersion:"0.4.0"},gi=Nk;async function Rk(l,h,_){await DC(0),l.transaction(({drafts:j})=>{var N;const H=h.address.projectId;j.ephemeral.coreByProject[H]={lastExportedObject:null,loadingState:{type:"loading"}},j.ahistoric.coreByProject[H]={ahistoricStuff:""};function re(){j.ephemeral.coreByProject[H].loadingState={type:"loaded"},j.historic.coreByProject[H]={sheetsById:{},definitionVersion:gi.currentProjectStateDefinitionVersion,revisionHistory:[]}}function he(He){j.ephemeral.coreByProject[H].loadingState={type:"loaded"},j.historic.coreByProject[H]=He}function be(){j.ephemeral.coreByProject[H].loadingState={type:"loaded"}}function je(He){j.ephemeral.coreByProject[H].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:He}}const Ve=(N=wo(j.historic))==null?void 0:N.coreByProject[h.address.projectId];Ve?_&&Ve.revisionHistory.indexOf(_.revisionHistory[0])==-1?je(_):be():_?he(_):re()})}function Kp(){}function vi(l){var h,_;const j=(h=l==null?void 0:l.logging)!=null&&h.internal?(_=l.logging.min)!=null?_:256:1/0,N=j<=128,H=j<=512,re=Pp(void 0,{_debug:N?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):Kp,_error:H?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):Kp});if(l){const{logger:he,logging:be}=l;he&&re.configureLogger(he),be?re.configureLogging(be):re.configureLogging({dev:!1})}return re.getLogger().named("Theatre")}var jv=class{constructor(l,h={},_){this.config=h,this.publicApi=_,I(this,"pointers"),I(this,"_pointerProxies"),I(this,"address"),I(this,"_studioReadyDeferred"),I(this,"_assetStorageReadyDeferred"),I(this,"_readyPromise"),I(this,"_sheetTemplates",new vv.Atom({})),I(this,"sheetTemplatesP",this._sheetTemplates.pointer),I(this,"_studio"),I(this,"assetStorage"),I(this,"type","Theatre_Project"),I(this,"_logger");var j;this._logger=vi({logging:{dev:!0}}).named("Project",l),this._logger.traceDev("creating project"),this.address={projectId:l};const N=new vv.Atom({ahistoric:{ahistoricStuff:""},historic:(j=h.state)!=null?j:{sheetsById:{},definitionVersion:gi.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=xa(),this.assetStorage={getAssetUrl:H=>{var re;return"".concat((re=h.assets)==null?void 0:re.baseUrl,"/").concat(H)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new Np.PointerProxy(N.pointer.historic),ahistoric:new Np.PointerProxy(N.pointer.ahistoric),ephemeral:new Np.PointerProxy(N.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},xt.add(l,this),this._studioReadyDeferred=xa(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),h.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window=="undefined"?console.error('Argument config.state in Theatre.getProject("'.concat(l,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout(()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(l,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(l,`" will be empty.

`)+`To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(l){if(this._studio){if(this._studio!==l)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));return}this._studio=l,l.initialized.then(async()=>{var h;await Rk(l,this,this.config.state),this._pointerProxies.historic.setPointer(l.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(l.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(l.atomP.ephemeral.coreByProject[this.address.projectId]),await l.createAssetStorage(this,(h=this.config.assets)==null?void 0:h.baseUrl).then(_=>{this.assetStorage=_,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)}).catch(h=>{throw console.error(h),h})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(l,h="default"){let _=this._sheetTemplates.get()[l];return _||(_=new AC(this,l),this._sheetTemplates.reduce(j=>Ir(Et({},j),{[l]:_}))),_.getInstance(h)}},Fk=class{get type(){return"Theatre_Project_PublicAPI"}constructor(l,h={}){In(this,new jv(l,h,this))}get ready(){return ie(this).ready}get isReady(){return ie(this).isReady()}get address(){return Et({},ie(this).address)}getAssetUrl(l){if(!this.isReady){console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.");return}return l.id?ie(this).assetStorage.getAssetUrl(l.id):void 0}sheet(l,h="default"){const _=Bp(l);return ie(this).getOrCreateSheet(_,h).publicApi}};Se(Q());var Ov=Ne,qp=Ne;function Tv(l,h={}){const _=xt.get(l);if(_)return _.publicApi;const N=vi().named("Project",l);return h.state?($p(l,h.state),N._debug("deep validated config.state on disk")):N._debug("no config.state"),new Fk(l,h)}var Wp=(l,h)=>{if(Array.isArray(h)||h==null||h.definitionVersion!==gi.currentProjectStateDefinitionVersion)throw new Pc("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(l),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))},$p=(l,h)=>{Wp(l,h)};function Gp(l,h,_){const j=_?ie(_).ticker:Ap();if((0,Ov.isPointer)(l))return(0,qp.pointerToPrism)(l).onChange(j,h,!0);if((0,qp.isPrism)(l))return l.onChange(j,h,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function Nc(l){if((0,Ov.isPointer)(l))return(0,qp.pointerToPrism)(l).getValue();throw new Error("Called val(p) where p is not a pointer.")}var Mk=class{constructor(){I(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.2"}getBitsForStudio(l,h){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=l;const _={projectsP:xt.atom.pointer.projects,privateAPI:ie,coreExports:St,getCoreRafDriver:ys};h(_)}};Uk();function Uk(){if(typeof window=="undefined")return;const l=window[cv];if(typeof l!="undefined")throw typeof l=="object"&&l&&typeof l.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(cv," seems to be already set by a module other than @theatre/core."));const h=new Mk;window[cv]=h;const _=window[wC];_&&_!==null&&_.type==="Theatre_StudioBundle"&&_.registerCoreBundle(h)}/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)
	*/})($E,$E.exports);var fn=$E.exports;const WX="theatre-0.4",v4="theatre-0.4.persistent",KE="GoViewPro",Xse=Ase({__name:"index",props:{id:{required:!1,type:String}},setup(dt,{expose:nt}){nt(),localStorage.removeItem(v4),$n.projectId=KE,window.$TheatreStudio=$n;const Ut=Hse(),Vt=GX(),Cr=$X(),{saveTheatreConfig:dr}=Kse(),uo=dt,co=HE(""),Br=HE(!1),ia=HE(!1),fo=HE({});Dse.forEach(U=>{fo.value[U.value]=U.label}),Cr.on(qE.CHART_EDIT_COMPONENT_LOADED,()=>{KX(()=>{ia.value=!0,Ir()})}),Cr.on(qE.CHART_EDIT_SET_CURRENT_PAGE,()=>{setTimeout(()=>{try{window.$TheatreStudio&&(window.$TheatreStudio.sheet.sequence.position=0,window.$TheatreStudio.pause()),dr(),KX(()=>{ia.value=!0,Ir()})}catch(U){console.log(U)}},1e3)});const pn=(U,et="",ot=1,xt=void 0)=>{const Ht={nudgeMultiplier:ot,label:et};return xt&&(Ht.range=xt),fn.types.number(Number(U),Ht)};$n.initialize(),$n.ui.hide();const hn={};let Et;const Ir=()=>{$n.__experimental.__experimental_clearPersistentStorage(WX),localStorage.removeItem(v4);const U=zse(Vt.theatreAnimationConfig);Et||(!U||!U.sheetsById?Et=fn.getProject(KE,{}):Et=fn.getProject(KE,{state:U}));const et=Et.sheet("组件");window.$TheatreStudio.sheet=et,window.$TheatreStudio.setPosition=(ot=0)=>{et.sequence.position=ot},window.$TheatreStudio.play=(ot=!0)=>{ot&&(Br.value=!0),Br.value&&et.sequence.play({iterationCount:1/0,direction:"normal"})},window.$TheatreStudio.pause=(ot=!0)=>{ot&&(Br.value=!1),et.sequence.pause()},window.$TheatreStudio.playById=ot=>{const xt=hn[ot];return xt&&(xt!=null&&xt.unsubscribe)?(po(ot),!0):!1},window.$TheatreStudio.pauseById=ot=>{const xt=hn[ot];return xt&&(xt!=null&&xt.unsubscribe)?(xt==null||xt.unsubscribe(),et.detachObject(ot),!0):!1},window.$TheatreStudio.showChange=ot=>{ot===void 0&&(ot=$n.ui.isHidden),ot?($n.ui.restore(),Ut.setItemUnHandle(qX.USE_THEATRE_STUDIO,!0)):($n.ui.hide(),Ut.setItemUnHandle(qX.USE_THEATRE_STUDIO,!1))},window.$TheatreStudio.positionChange=(ot=0)=>{et.sequence.position=ot},window.$TheatreStudio.initDriverObj=()=>{Gse()},fn.onChange(et.sequence.pointer.playing,ot=>{}),Cr.on(qE.CHART_EDIT_COMPONENT_SELECT,ot=>{if($n.ui.isHidden||(Br.value?window.$TheatreStudio.play(!1):window.$TheatreStudio.pause(!1)),ot.length===0)return;if(ot.length>1){$n.setSelection([]),co.value="";return}const xt=ot[0];co.value=xt;let Ht=hn[xt];Ht?$n.setSelection([Ht]):po(xt),et.sequence.pause()}),Et.ready.then(ot=>{(Vt.getComponentAllList||[]).map(Ht=>{po(Ht.id)}),window.$TheatreStudio.play(),Bo(),$n.ui.hide()})},po=U=>{const et=window.$TheatreStudio.sheet;let ot=hn[U];const xt=Vt.getComponentListObject;if(U){let Ht=xt[U];ot=et.object(U,zo(Ht),{reconfigure:!0}),ia.value&&(Se(U,ot),setTimeout(()=>{ia.value=!1},0)),ot.unsubscribe=ot.onValuesChange(J(Ht)),hn[U]=ot}$n.setSelection([ot])},zo=U=>{let et={};try{et={filter:fn.types.compound({filterShow:fn.types.boolean(U.styles.filterShow,{label:"启用"}),hueRotate:fn.types.number(U.styles.hueRotate,{nudgeMultiplier:1,range:[0,360],label:"色相"}),saturate:fn.types.number(U.styles.saturate,{nudgeMultiplier:.001,range:[0,2],label:"饱和度"}),contrast:fn.types.number(U.styles.contrast,{nudgeMultiplier:.001,range:[0,2],label:"对比度"}),brightness:fn.types.number(U.styles.brightness,{nudgeMultiplier:.001,range:[0,2],label:"亮度"}),opacity:fn.types.number(U.styles.opacity,{nudgeMultiplier:.001,range:[0,1],label:"透明度"}),blur:fn.types.number(U.styles.blur,{nudgeMultiplier:1,range:[0,1e3],label:"模糊度"}),blendMode:fn.types.stringLiteral(U.styles.blendMode,fo.value,{label:"混合"})},{label:"滤镜"}),rotate3D:fn.types.compound({rotateX:pn(U.styles.rotateX,"旋转X",1,[-360,360]),rotateY:pn(U.styles.rotateY,"旋转Y",1,[-360,360]),rotateZ:pn(U.styles.rotateZ,"旋转Z",1,[-360,360])},{label:"旋转"}),translate:fn.types.compound({translateX:pn(U.styles.translateX,"移动X"),translateY:pn(U.styles.translateY,"移动Y")},{label:"移动"}),scale:fn.types.compound({scaleX:pn(U.styles.scaleX,"缩放X",.01,[-1,10]),scaleY:pn(U.styles.scaleY,"缩放Y",.01,[-1,10])},{label:"缩放"}),skew:fn.types.compound({skewX:pn(U.styles.skewX,"倾斜X",.1,[0,180]),skewY:pn(U.styles.skewY,"倾斜Y",.1,[0,180])},{label:"倾斜"})}}catch(ot){}return et},J=U=>et=>{if(Vt.getEditCanvas[Lse.IS_DRAG]||!U||!U.styles)return;const{rotate3D:xt,translate:Ht,scale:ie,skew:In,filter:$e}=et;U.styles.rotateX=xt.rotateX,U.styles.rotateY=xt.rotateY,U.styles.rotateZ=xt.rotateZ,U.styles.translateX=Ht.translateX,U.styles.translateY=Ht.translateY,ie.scaleX===0&&(ie.scaleX=-8673617379884035e-32),ie.scaleY===0&&(ie.scaleY=-8673617379884035e-32),U.styles.scaleX=ie.scaleX,U.styles.scaleY=ie.scaleY,U.styles.skewX=In.skewX,U.styles.skewY=In.skewY,U.styles.filterShow=$e.filterShow,U.styles.hueRotate=$e.hueRotate,U.styles.saturate=$e.saturate,U.styles.contrast=$e.contrast,U.styles.brightness=$e.brightness,U.styles.opacity=$e.opacity,U.styles.blur=$e.blur,U.styles.blendMode=$e.blendMode},Se=(U,et)=>{window.$TheatreStudio.pause(!0),$n.transaction(({set:ot,unset:xt})=>{let ie=Vt.getComponentListObject[U];!et||!ie||(ot(et.props.rotate3D.rotateX,ie.styles.rotateX),ot(et.props.rotate3D.rotateY,ie.styles.rotateY),ot(et.props.rotate3D.rotateZ,ie.styles.rotateZ),ot(et.props.translate.translateX,ie.styles.translateX),ot(et.props.translate.translateY,ie.styles.translateY),ot(et.props.scale.scaleX,ie.styles.scaleX),ot(et.props.scale.scaleY,ie.styles.scaleY),ot(et.props.skew.skewX,ie.styles.skewX),ot(et.props.skew.skewY,ie.styles.skewY),ot(et.props.filter.filterShow,ie.styles.filterShow),ot(et.props.filter.hueRotate,ie.styles.hueRotate),ot(et.props.filter.saturate,ie.styles.saturate),ot(et.props.filter.contrast,ie.styles.contrast),ot(et.props.filter.brightness,ie.styles.brightness),ot(et.props.filter.opacity,ie.styles.opacity),ot(et.props.filter.blur,ie.styles.blur),ot(et.props.filter.blendMode,ie.styles.blendMode))})},Bo=()=>{I("theatrejs-studio-root",`
    a[href="https://www.theatrejs.com/docs/latest/manual/objects"] {
      position: relative;
      user-select: none;
      pointer-events: none;
      margin-top: -24px;
    }
    a[href="https://www.theatrejs.com/docs/latest/manual/objects"]::before {
      content: "请从编辑器中选择一个对象！";
      width: 100%;
      height: 60px;
      position: absolute;
      top: -40px;
      background-color: rgba(37, 39, 44, 1);
    }
    #pointer-root > div:nth-child(1) > div:nth-child(3) {
      visibility: hidden;
    }
    #pointer-root > div:nth-child(1) > div:nth-child(4) > div {
      max-height: 78vh;
    }
    #pointer-root > div:nth-child(1) > div:nth-child(2) > div:nth-child(1) {
      visibility: hidden;
    }
    #pointer-root > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > button {
      border: 1px solid #373739;
    }
    #pointer-root > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > button:nth-child(1) {
      display: none;
    }
    #pointer-root > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > button:nth-child(2) {
      display: none;
    }
    #pointer-root > div:nth-child(1) > div:nth-child(4), #pointer-root > div:nth-child(1) > div:nth-child(2) {
      transform: translate(0, 48px);
    }
  `)},I=(U,et,ot=null)=>{const xt=document.getElementById(U),Ht=xt==null?void 0:xt.shadowRoot;if(!Ht)return;const ie=Ht.querySelectorAll("style");if(Array.from(ie).some(No=>No.innerHTML===et))return;const $e=document.createElement("style");$e.innerHTML=et,Ht.insertBefore($e,Ht.querySelector(ot))};function st(U,et,ot){const xt=document.getElementById(U),Ht=xt==null?void 0:xt.shadowRoot;if(!Ht)return;const ie=Ht.querySelector(et);ie&&(ie.id=ot)}Bse(()=>Vt.getEditCanvas.isSelect,U=>{$n.ui.isHidden&&(U?window.$TheatreStudio.pause(!1):sa())});const sa=Nse.debounce(()=>{window.$TheatreStudio.play(!1)},300),ei=U=>{if(U.key==="p"){Br.value?window.$TheatreStudio.pause(!0):window.$TheatreStudio.play(!0);return}Br.value&&window.$TheatreStudio.pause(!1)},Q=()=>{Br.value&&sa()},ti=()=>{Br.value&&(window.$TheatreStudio.pause(!1),sa())};Rse(()=>{window.addEventListener("keydown",ei,!0),window.addEventListener("keyup",Q,!0),window.addEventListener("scroll",ti,!0)}),Fse(()=>{window.removeEventListener("keydown",ei),window.removeEventListener("keyup",Q),window.removeEventListener("scroll",ti)});const St={DEFAULT_PERSISTENCE_KEY:WX,DEFAULT_PERSISTENCE_KEY_P:v4,projectId:KE,chartLayoutStore:Ut,chartEditStore:Vt,eventBus:Cr,saveTheatreConfig:dr,props:uo,selectId:co,isPlay:Br,needSetInit:ia,BlendModeEnumListObj:fo,nudgableNumber:pn,itemObjs:hn,get project(){return Et},set project(U){Et=U},initTheatre:Ir,updateItemProps:po,getDefaultOpt:zo,defaultChangeFn:J,changeDefaultValue:Se,changeRootStyles:Bo,changeShadowDOMStyles:I,setElementId:st,delayedPlay:sa,handleKeyDown:ei,handleKeyUp:Q,handleScroll:ti};return Object.defineProperty(St,"__isScriptSetup",{enumerable:!1,value:!0}),St}}),Yse={class:"theatre-box",id:"toolbarContainer"};function Qse(dt,nt,Ut,Vt,Cr,dr){return Vse(),Use("div",Yse)}const ple=Mse(Xse,[["render",Qse],["__scopeId","data-v-c25d175a"],["__file","index.vue"]]);export{ple as default};
