var de=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ce=(C,o)=>{var A={};for(var e in C)Me.call(C,e)&&o.indexOf(e)<0&&(A[e]=C[e]);if(C!=null&&de)for(var e of de(C))o.indexOf(e)<0&&Be.call(C,e)&&(A[e]=C[e]);return A};import{d as fe,L as O,_ as ge,U as c,c as I,o as m,q as p,s as t,w as n,X as s,F as R,n as N,Y as L,t as x,r as g,H as Oe,A as _e,R as q,aw as ve,ai as ke,cn as Le,b4 as oe,at as Se,cd as Ve,b8 as Te,cc as ze,K as Ue,b6 as pe,W as P,V as B,$ as j}from"./index-DzJUk-4s.js";import{G as He,_ as Re}from"./noImage-C1O4zUTD.js";import{F as te}from"./fileTypeEnum-22QBGXO_.js";import{M as Ne}from"./index-DumZb7Zp.js";import{i as Ee}from"./icon-Bt2TghsQ.js";import{t as Pe}from"./templateCode-B4T5QxGG.js";import{u as je}from"./systemStore-CDAOEx2u.js";import{A as qe}from"./index-BBNnqqCS.js";import{g as Ge,c as Ke,a as Je,b as We,d as me,e as Xe}from"./logo-Bd1KfhDG.js";import{u as Ye}from"./indexDBStore-BkJ2w0ZQ.js";import{D as Qe}from"./DataBaseAIChat-Dq68Jh7Q.js";import"./index.d-J2-cmQid.js";import"./index-YIaHLc6Z.js";/* empty css                                                              *//* empty css                                                                          */import"./GoUserAvatar-BBITl89l.js";const Ze=fe({__name:"developModal",setup(C,{expose:o}){o();const{ArrowForwardIcon:A}=Ee.ionicons5,e=[{name:"初始化完成",required:!0,type:"inited",code:`
// 初始化完成的生命周期中
onMounted(() => {
  // 触发【初始化完成】钩子，将自动推送一次数据
  window.postMessage({
    type: 'inited',
    data: undefined,
  })
}
    `},{name:"数据更新",type:"update",code:`
// 接收数据更新推送消息
window.addEventListener('message', async (event) => {
  if (event.data.type === 'update') {
    // todo 更新数据
    console.log(event.data.data)
  }
}, false);`},{name:"主动触发一次获取数据",required:!1,type:"hookUpdate",code:`
// 在需要的位置触发
window.postMessage({
  type: 'hookUpdate',
  data: undefined,
})
    `}],y=[{name:"触发当前组件交互",required:!1,type:"hookEmitEvent",childrenType:[`单击-${O.ON_CLICK}`,`双击-${O.ON_DBL_CLICK}`,`移入-${O.ON_MOUSE_ENTER}`,`移出-${O.ON_MOUSE_LEAVE}`,`更新-${O.ON_DATA_UPDATE}`],code:`
// 假设点击了按钮，需要触发 click 交互事件
window.postMessage({
  type: 'hookEmitEvent',
  data: {
    // 动作类型：单击、双击、移入、移出、更新
    eventType: 'click',
    value: {} // 需要传递的数据，可以是任意类型
  }
})
    `},{name:"触发其它组件交互",required:!1,type:"hookEmitEvent",childrenType:[`单击-${O.ON_CLICK}`,`双击-${O.ON_DBL_CLICK}`,`移入-${O.ON_MOUSE_ENTER}`,`移出-${O.ON_MOUSE_LEAVE}`,`更新-${O.ON_DATA_UPDATE}`],code:`
window.parent.$globalExposeFunction.triggerComponentEventById(
  "组件id",
  "click"
)
    `}],F={ArrowForwardIcon:A,postList:e,listenerList:y,pageList:[{name:"需拖拽到大屏中查看效果",required:!1,type:"$globalComponentOptions",childrenType:["输入框-input","颜色选择-color","数字-number","开关-switch","下拉选择-select"],code:`
    // 菜单配置
const valueOptions = ref({
  'label': {
    value: '标题：',
    type: 'input',
    title: '标题'
  },
})

// 可配置分类、是否默认展开
const tagsOptions = ref([
  {
    title: '文字配置',
    expand: true,
    // 对应的配置项（可多个）
    children: ['label']
  }
])

// 接收数据更新推送消息
window.addEventListener('message', async (event) => {
  const { type, data } = event.data
  if (type === 'update') {
    // 更新数据操作...
  }
  // 组件配置
  if(type === 'options') {
    window.parent.$globalComponentOptions.initOptions(data.id, {
      options: valueOptions.value,
      tags: tagsOptions.value,
      onChange: (key, value) => {
        valueOptions.value[key].value = value
      }
    })
  }
}, false);
    `}]};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),$e={class:"develop-box"},eo={class:"flow"},oo={class:"flow-content"},to={class:"develop-content"};function no(C,o,A,e,y,S){const F=c("n-text"),f=c("n-tag"),w=c("n-icon"),M=c("n-space"),v=c("n-code"),D=c("n-card"),i=c("n-divider"),r=c("n-scrollbar");return m(),I("div",$e,[p("div",eo,[t(F,{depth:3,style:{"font-size":"14px"}},{default:n(()=>o[0]||(o[0]=[s("动态数据开发流程说明：")])),_:1}),p("div",oo,[t(f,{type:"success"},{default:n(()=>o[1]||(o[1]=[s(" 编写代码 ")])),_:1}),t(w,{class:"go-ml-2"},{default:n(()=>[t(e.ArrowForwardIcon)]),_:1}),t(f,{class:"go-ml-2",type:"warning"},{default:n(()=>o[2]||(o[2]=[s(" 注册事件监听 ")])),_:1}),t(w,{class:"go-ml-2"},{default:n(()=>[t(e.ArrowForwardIcon)]),_:1}),t(f,{class:"go-ml-2",type:"error"},{default:n(()=>o[3]||(o[3]=[s(" 在 onMounted 发送 inited 事件 ")])),_:1}),t(w,{class:"go-ml-2"},{default:n(()=>[t(e.ArrowForwardIcon)]),_:1}),t(f,{class:"go-ml-2",type:"info"},{default:n(()=>o[4]||(o[4]=[s(" 拿到数据渲染内容 ")])),_:1})])]),t(r,{"x-scrollable":"",trigger:"none"},{default:n(()=>[t(r,{trigger:"none",style:{"max-height":"calc(85vh - 120px)"}},{default:n(()=>[p("div",to,[t(M,{vertical:""},{default:n(()=>[t(F,{depth:3,style:{"font-size":"16px"}},{default:n(()=>o[5]||(o[5]=[s("数据事件")])),_:1}),(m(),I(R,null,N(e.postList,u=>t(D,{key:u.type,class:"card-item",size:"small",title:u.name,hoverable:""},{"header-extra":n(()=>[t(M,null,{default:n(()=>[t(f,{round:"",bordered:!1,type:"success"},{default:n(()=>[s(L(u.type),1)]),_:2},1024),t(f,{round:"",bordered:!1,type:u.required?"error":"info"},{default:n(()=>[s(L(u.required?"必选":"可选"),1)]),_:2},1032,["type"])]),_:2},1024)]),default:n(()=>[t(v,{class:"code-box","word-wrap":!0,code:u.code,language:"ts"},null,8,["code"])]),_:2},1032,["title"])),64))]),_:1}),t(i,{vertical:"",style:{margin:"0",padding:"0",height:"inherit"}}),t(M,{vertical:""},{default:n(()=>[t(F,{depth:3,style:{"font-size":"16px"}},{default:n(()=>o[6]||(o[6]=[s("交互事件")])),_:1}),(m(),I(R,null,N(e.listenerList,u=>t(D,{key:u.type,class:"card-item",size:"small",title:u.name,hoverable:""},{"header-extra":n(()=>[t(f,{bordered:!1,type:"success"},{default:n(()=>[s(L(u.type),1)]),_:2},1024)]),default:n(()=>[t(M,{size:4,justify:"end",class:"go-mb-2"},{default:n(()=>[(m(!0),I(R,null,N(u.childrenType,h=>(m(),x(f,{round:"",size:"small",bordered:!1,type:"warning",key:h},{default:n(()=>[s(L(h),1)]),_:2},1024))),128))]),_:2},1024),t(v,{class:"code-box",round:"","word-wrap":!0,code:u.code,language:"ts"},null,8,["code"])]),_:2},1032,["title"])),64)),t(F,{depth:3,style:{"font-size":"16px"}},{default:n(()=>o[7]||(o[7]=[s("自定义可视化配置项列表")])),_:1}),(m(),I(R,null,N(e.pageList,u=>t(D,{key:u.type,class:"card-item",size:"small",title:u.name,hoverable:""},{"header-extra":n(()=>[t(f,{bordered:!1,type:"success"},{default:n(()=>[s(L(u.type),1)]),_:2},1024)]),default:n(()=>[t(M,{size:4,justify:"end",class:"go-mb-2"},{default:n(()=>[(m(!0),I(R,null,N(u.childrenType,h=>(m(),x(f,{round:"",size:"small",bordered:!1,type:"warning",key:h},{default:n(()=>[s(L(h),1)]),_:2},1024))),128))]),_:2},1024),t(v,{class:"code-box",round:"","word-wrap":!0,code:u.code,language:"ts"},null,8,["code"])]),_:2},1032,["title"])),64))]),_:1})])]),_:1})]),_:1})])}const ao=ge(Ze,[["render",no],["__scopeId","data-v-cf146376"],["__file","developModal.vue"]]),lo=()=>{let C=null;const o=g(!1),A=g("create"),e=g(),y=Oe([]),S=Ye(),F=()=>{o.value=!0},f=()=>{var i;(i=e.value)==null||i.unLoading(),clearInterval(C),o.value=!1},w=async(i,r,u)=>(A.value==="create"&&(i=""),i||(r=""),await Ge({vueCode:i,mapJSON:r,demand:u})),M=async()=>{setTimeout(()=>{var i;(i=e.value)==null||i.unLoading()},5e3),C=setInterval(async()=>{await v(()=>{var i;(i=e.value)==null||i.unLoading(),clearInterval(C)})},3e3)},v=async i=>{var u;const r=await We({});r.code===q.SUCCESS&&((u=r.data)==null?void 0:u.length)>0&&(await S.pushVueCode(r.data),r.data.forEach(h=>{const b=me(h);y.push(b)}),i&&i(r.data))},D=async(i,r)=>{const u=A.value==="create"?`「创建新组件」${i}`:`「修改当前组件」${i}`,h=Ke(u,i);if(y.push(h),(await w(r.vueCode,r.mapJSON,r.demand)).code===q.SUCCESS)setTimeout(async()=>{y.push(Je("正在解析中，预计还需10～30秒，请稍等...")),await M()},500);else{window.$message.error("解析失败, 请稍后重试!"),ve(()=>{var V,_;(V=e.value)==null||V.unLoading(),(_=e.value)==null||_.setValue("")});return}};return _e(()=>o.value,async i=>{if(i){const r=await S.getVueCode();r!=null&&r.length&&(y.length=0,r.forEach(u=>{y.push(me(u))})),Promise.all([v()]).then(()=>{y.length>0&&y.push(Xe("历史消息"))})}else y.length=0}),{editCode:A,AIChatRef:e,messageList:y,showAI:o,openAiHandle:F,sendHandle:D,closeAIHandle:f,generateVueComponent:w}},uo=fe({__name:"index",setup(C,{expose:o}){o();const{ChevronBackIcon:A,RefreshIcon:e,BookOutlineIcon:y,HelpOutlineIcon:S,CloseIcon:F}=Ee.ionicons5,f=g(window.__PRIVATE_MODULE__.MemberPoint),w=g(window.__PRIVATE_MODULE__.CloseOpenAI),M={title:{required:!0,message:"请输入组件名称",trigger:"input"}},v=g(),D=g("tab1"),i=g(!0),r=g(!1),u=g(!1),h=g(!1),b=g(),V=g(null);let _=g();const U=g(""),W=g(!1),G=g(),H=je(),{editCode:X,AIChatRef:Y,messageList:Q,showAI:Z,openAiHandle:K,closeAIHandle:$,sendHandle:l}=lo(),J={previewOptions:{headHTML:"",bodyHTML:"",customCode:{importCode:"",useCode:""}}};let T=g(J);const Ce=g(!1),ye=a=>{const d={vueCode:_.value.files["App.vue"]||"",mapJSON:_.value.files["import-map.json"]||"",demand:a};l(a,d)},Fe=(a,d)=>{var E;(E=v.value)==null||E.updateCode(a,d.type)},he=()=>{ke.go(-1)};let ee=g(new Date().getTime());function ne(){ee.value=new Date().getTime()}const we=async a=>{const{file:d}=a;ve(async()=>{if(d.file)try{const E=new File([d.file],`remote_image_${_.value.id}.png`,{type:d.file.type}),z=`componentThumbnail/${`remote_image_${_.value.id}.png`}`,Ie=await(await H.getSTSClient()).putObject({key:z,body:E}),re=await Le({id:_.value.id,url:Ie.url});re.code===q.SUCCESS&&(_.value.thumbnail=re.data,window.$message.info("图片上传成功！")),ne()}catch(E){window.$message.error("图片上传失败，请联系管理员！")}else window.$message.error("图片上传失败，请稍后重试！")})},ae=g(null),be=async({file:a})=>{var k;(k=ae.value)==null||k.clear(),b.value=[];const d=a.file.type;return a.file.size>1024*1024*oe?(window.$message.warning(`图片超出 ${oe}M 限制，请重新上传！`),!1):d!==te.PNG&&d!==te.JPEG&&d!==te.GIF?(window.$message.warning("文件格式不符合，请重新上传！"),!1):!0},le=async()=>{var k,z;const d=Se().params.id[0],E=await Ve({id:d});if(E.code===q.SUCCESS){i.value=!1,_.value=E.data,U.value=(k=E.data)==null?void 0:k.options;try{T.value=JSON.parse((z=E.data)==null?void 0:z.config),T.value||(T.value=J)}catch(xe){T.value=J}}},ue=async a=>{var E;const d=()=>{window.$message.error("创建失败, 请填写完整的组件信息！"),r.value=!1};(E=V.value)==null||E.validate(async k=>{if(k||!_.value)return d(),!1;a&&a()})},Ae=(a,d)=>{_.value.hash=a,_.value.files=d},De=()=>{var a;u.value=!0;try{(a=v.value)==null||a.updateData()}catch(d){console.log(d)}setTimeout(()=>{u.value=!1},500)},se=async()=>{if(r.value)return!1;ue(async()=>{r.value=!0;const z=Te(_.value),{id:a}=z,d=ce(z,["id"]),E=JSON.stringify(T.value);(await ze({id:a,data:{title:d.title,describe:d.describe,hash:d.hash,thumbnail:d.thumbnail,points:d.points||0,options:U.value,config:E}})).code===q.SUCCESS?(window.$message.success("保存成功！"),setTimeout(()=>{r.value=!1},500)):(window.$message.error("保存失败，请稍后重试！"),r.value=!1)})};le(),_e(()=>U.value,a=>{try{_.value.options=Ue.isString(a)?a.trim():a}catch(d){_.value.options=a}}),window.addEventListener("keydown",a=>{var d;a.ctrlKey&&a.key==="s"&&(a.preventDefault(),(d=G.value)==null||d.blur(),se())},!0);const ie={ChevronBackIcon:A,RefreshIcon:e,BookOutlineIcon:y,HelpOutlineIcon:S,CloseIcon:F,isPrivateMemberPoint:f,CloseOpenAI:w,rules:M,playgroundRef:v,tabs:D,pageLoading:i,saveLoading:r,refreshLoading:u,showCreateModal:h,uploadFileListRef:b,formRef:V,get formValue(){return _},set formValue(a){_=a},options:U,showDataModal:W,inputInstRef:G,systemStore:H,editCode:X,AIChatRef:Y,messageList:Q,showAI:Z,openAiHandle:K,closeAIHandle:$,sendHandle:l,formConfigDefault:J,get formConfig(){return T},set formConfig(a){T=a},easyMode:Ce,sendHandlePre:ye,useCodeHandle:Fe,back:he,get currentTime(){return ee},set currentTime(a){ee=a},refreshImage:ne,customRequest:we,uploadRef:ae,beforeUploadHandle:be,fetchData:le,checkForm:ue,changeHashValue:Ae,refreshData:De,saveHandle:se,noSideSpace:a=>a.indexOf(" ")==-1,GoSfcPlayground:He,get backgroundImageSize(){return oe},MonacoEditor:Ne,get templateCode(){return Pe},developModal:ao,AIBtn:qe,DataBaseAIChat:Qe};return Object.defineProperty(ie,"__isScriptSetup",{enumerable:!1,value:!0}),ie}}),so={class:"go-remote-component-editor"},io={class:"content-box"},ro={class:"go-flex-center back"},co={key:0,class:"go-mr-2 top-ai-btn-box"},po={type:"primary",bordered:!1,class:"go-flex-row-center"},mo={key:1,id:"go-remote-component-editor-content",class:"tabs-box"},fo={style:{height:"100%"}},go={class:"create-form-box"},_o={class:"upload-box"},vo=["src"],Eo={class:"upload-img"},Co={class:"create-form-box create-form-box-right"},yo={class:"monaco-editor-placeholder"},Fo={class:"monaco-editor-placeholder"},ho={class:"monaco-editor-placeholder"},wo={class:"monaco-editor-placeholder"},bo={class:"drag-modal drag-box",style:{height:"85vh"}},Ao={class:"head-box"},Do={class:"content-box"},xo={class:"template-code"},Io={class:"drag-monaco-editor-box"},Mo={class:"drag-modal drag-box",style:{width:"60vw","min-width":"600px"}},Bo={class:"head-box go-mt-1"};function Oo(C,o,A,e,y,S){const F=c("n-divider"),f=c("n-icon"),w=c("n-text"),M=c("n-switch"),v=c("n-button"),D=c("n-space"),i=c("n-tab"),r=c("n-tabs"),u=c("GoLoading"),h=c("n-input"),b=c("n-form-item"),V=c("n-input-number"),_=c("n-tooltip"),U=c("n-upload-dragger"),W=c("n-upload"),G=c("n-form"),H=c("n-tag"),X=c("n-code"),Y=c("n-modal"),Q=c("n-h4"),Z=c("n-select"),K=pe("dragModal"),$=pe("resizable");return m(),I("div",so,[t(F,{style:{margin:"0px"}}),p("div",io,[t(r,{value:e.tabs,"onUpdate:value":o[3]||(o[3]=l=>e.tabs=l),size:"small",type:"card",animated:""},{prefix:n(()=>[p("div",ro,[t(f,{size:"16",depth:2},{default:n(()=>[t(e.ChevronBackIcon)]),_:1}),t(w,{depth:2,onClick:e.back},{default:n(()=>o[18]||(o[18]=[s("返回")])),_:1})])]),suffix:n(()=>[t(D,{class:"go-ml-5",size:10,align:"center"},{default:n(()=>[e.CloseOpenAI?B("",!0):(m(),I("div",co,[e.systemStore.getMembershipInfo.model?(m(),x(e.AIBtn,{key:0,title:"AI 生成组件",tooltip:"通过语言描述，AI 一键生成 Vue 组件或修改当前代码",onClick:e.openAiHandle},null,8,["onClick"])):(m(),x(e.AIBtn,{key:1,disabled:!0,title:"AI 生成组件",tooltip:"请配置 OpenAI"}))])),e.tabs==="tab1"?(m(),x(D,{key:1,align:"center"},{default:n(()=>[p("div",po,[o[21]||(o[21]=p("span",null,"切换模式：",-1)),t(M,{value:e.easyMode,"onUpdate:value":o[0]||(o[0]=l=>e.easyMode=l)},{checked:n(()=>o[19]||(o[19]=[s(" 预览 ")])),unchecked:n(()=>o[20]||(o[20]=[s(" 编辑 ")])),_:1},8,["value"])]),t(v,{type:"info",secondary:"",size:"small",onClick:o[1]||(o[1]=l=>e.showCreateModal=!0)},{icon:n(()=>[t(f,null,{default:n(()=>[t(e.BookOutlineIcon)]),_:1})]),default:n(()=>[o[22]||(o[22]=s(" 开发说明 "))]),_:1})]),_:1})):B("",!0),t(v,{type:"warning",size:"small",onClick:o[2]||(o[2]=l=>e.showDataModal=!e.showDataModal),key:"change"},{default:n(()=>o[23]||(o[23]=[s(" 修改默认数据 ")])),_:1}),t(v,{type:"primary",size:"small",loading:e.saveLoading,onClick:e.saveHandle,key:"save"},{default:n(()=>o[24]||(o[24]=[s(" 保存「Ctrl + S」 ")])),_:1},8,["loading"])]),_:1})]),default:n(()=>[t(i,{name:"tab1",tab:"编辑代码"}),t(i,{name:"tab2",tab:"编辑信息"})]),_:1},8,["value"]),e.pageLoading?(m(),x(u,{key:0})):B("",!0),e.pageLoading?B("",!0):(m(),I("div",mo,[P(p("div",fo,[t(e.GoSfcPlayground,{ref:"playgroundRef",easyMode:e.easyMode,initData:e.formValue,defaultData:e.options,previewOptions:e.formConfig.previewOptions?e.formConfig.previewOptions:void 0,onChange:e.changeHashValue},null,8,["easyMode","initData","defaultData","previewOptions"])],512),[[j,e.tabs==="tab1"]]),P(p("div",null,[e.formValue?(m(),x(G,{key:0,class:"create-form",ref:"formRef",size:"medium","label-placement":"left",model:e.formValue,"label-width":80,rules:e.rules},{default:n(()=>[p("div",go,[t(b,{label:"组件名称",path:"title"},{default:n(()=>[t(h,{value:e.formValue.title,"onUpdate:value":o[4]||(o[4]=l=>e.formValue.title=l),type:"text",maxlength:"40","show-count":"",placeholder:"请输入组件名称","allow-input":e.noSideSpace,ref:"inputInstRef"},null,8,["value"])]),_:1}),t(b,{label:"功能描述",path:"describe"},{default:n(()=>[t(h,{value:e.formValue.describe,"onUpdate:value":o[5]||(o[5]=l=>e.formValue.describe=l),type:"textarea",maxlength:"1000","show-count":"",autosize:{minRows:3,maxRows:10},placeholder:"请输入功能描述",ref:"inputInstRef"},null,8,["value"])]),_:1}),e.isPrivateMemberPoint?B("",!0):(m(),x(b,{key:0,label:"组件积分",path:"points"},{default:n(()=>[t(V,{value:e.formValue.points,"onUpdate:value":o[6]||(o[6]=l=>e.formValue.points=l),min:0,max:999999,precision:0,placeholder:"请输入组件所需积分",ref:"inputInstRef"},null,8,["value"]),t(_,{trigger:"hover",placement:"right-end"},{trigger:n(()=>[t(f,{size:"21",depth:3},{default:n(()=>[t(e.HelpOutlineIcon,{style:{"margin-left":"6px"}})]),_:1})]),default:n(()=>[t(D,{size:6,vertical:""},{default:n(()=>o[25]||(o[25]=[p("span",null,"一、共享空间的组件不会发布到市场",-1),p("span",null,"二、共享空间成员复制组件不会扣除积分",-1)])),_:1})]),_:1})]),_:1})),t(b,{label:"展示图片"},{default:n(()=>[p("div",_o,[t(W,{ref:"uploadRef","file-list":e.uploadFileListRef,"onUpdate:fileList":o[7]||(o[7]=l=>e.uploadFileListRef=l),"show-file-list":!1,customRequest:e.customRequest,onBeforeUpload:e.beforeUploadHandle,accept:"image/png, image/gif, image/jpeg"},{default:n(()=>[t(U,null,{default:n(()=>[e.formValue.thumbnail?(m(),I("img",{key:0,class:"upload-show",src:`${e.formValue.thumbnail}?time=${e.currentTime}`,alt:"背景"},null,8,vo)):B("",!0),P(p("div",Eo,[o[26]||(o[26]=p("img",{src:Re},null,-1)),t(w,{class:"upload-desc",depth:"3"},{default:n(()=>[s(" 组件预览图需小于 "+L(e.backgroundImageSize)+"M ，格式为 png/jpg/gif 的文件 ",1)]),_:1})],512),[[j,!e.formValue.thumbnail]])]),_:1})]),_:1},8,["file-list"])])]),_:1})]),t(F,{vertical:"","title-placement":"left"},{default:n(()=>o[27]||(o[27]=[s("高级")])),_:1}),p("div",Co,[t(b,{label:"headHTML",path:"headHTML"},{default:n(()=>[t(e.MonacoEditor,{modelValue:e.formConfig.previewOptions.headHTML,"onUpdate:modelValue":o[8]||(o[8]=l=>e.formConfig.previewOptions.headHTML=l),height:"190px",language:"html",editorOptions:{fontSize:12}},null,8,["modelValue"]),p("div",yo,[e.formConfig.previewOptions.headHTML?B("",!0):(m(),x(e.MonacoEditor,{key:0,modelValue:"<script src='https://www.unpkg.com/jquery@3.7.1/dist/jquery.min.js'><\/script>",height:"190px",language:"html",editorOptions:{fontSize:12}}))])]),_:1}),t(b,{label:"bodyHTML",path:"bodyHTML"},{default:n(()=>[t(e.MonacoEditor,{modelValue:e.formConfig.previewOptions.bodyHTML,"onUpdate:modelValue":o[9]||(o[9]=l=>e.formConfig.previewOptions.bodyHTML=l),height:"190px",language:"html",editorOptions:{fontSize:12}},null,8,["modelValue"]),p("div",Fo,[e.formConfig.previewOptions.bodyHTML?B("",!0):(m(),x(e.MonacoEditor,{key:0,modelValue:"<!-- 在body末尾插入脚本 -->",height:"190px",language:"html",editorOptions:{fontSize:12}}))])]),_:1}),t(b,{label:"import",path:"importCode"},{default:n(()=>[t(e.MonacoEditor,{modelValue:e.formConfig.previewOptions.customCode.importCode,"onUpdate:modelValue":o[10]||(o[10]=l=>e.formConfig.previewOptions.customCode.importCode=l),height:"150px",language:"javascript",editorOptions:{fontSize:12}},null,8,["modelValue"]),p("div",ho,[e.formConfig.previewOptions.customCode.importCode?B("",!0):(m(),x(e.MonacoEditor,{key:0,modelValue:"import CUI from 'casual-ui-vue' // 引入 Import Map 的依赖",height:"150px",language:"javascript",editorOptions:{fontSize:12}}))])]),_:1}),t(b,{label:"use",path:"useCode"},{default:n(()=>[t(e.MonacoEditor,{modelValue:e.formConfig.previewOptions.customCode.useCode,"onUpdate:modelValue":o[11]||(o[11]=l=>e.formConfig.previewOptions.customCode.useCode=l),height:"150px",language:"javascript",editorOptions:{fontSize:12}},null,8,["modelValue"]),p("div",wo,[e.formConfig.previewOptions.customCode.useCode?B("",!0):(m(),x(e.MonacoEditor,{key:0,modelValue:"app.use(CUI)",height:"150px",language:"javascript",editorOptions:{fontSize:12}}))])]),_:1})])]),_:1},8,["model"])):B("",!0)],512),[[j,e.tabs==="tab2"]])]))]),P((m(),I("div",bo,[p("div",Ao,[t(H,{bordered:!1,type:"primary"},{default:n(()=>o[28]||(o[28]=[s("案例代码：")])),_:1}),p("div",null,[t(v,{type:"warning",secondary:"",size:"small",loading:e.refreshLoading,onClick:e.refreshData},{icon:n(()=>[t(f,null,{default:n(()=>[t(e.RefreshIcon)]),_:1})]),default:n(()=>[s(" "+L(e.refreshLoading?"同步中...":"同步默认数据"),1)]),_:1},8,["loading"]),t(v,{type:"tertiary","icon-placement":"right",secondary:"",size:"small",onClick:o[12]||(o[12]=l=>e.showDataModal=!1)},{icon:n(()=>[t(f,null,{default:n(()=>[t(e.CloseIcon)]),_:1})]),default:n(()=>[o[29]||(o[29]=s(" 关闭 "))]),_:1})])]),p("div",Do,[p("div",xo,[t(X,{class:"go-mt-3",code:e.templateCode,language:"ts","show-line-numbers":""},null,8,["code"])]),p("div",null,[t(H,{bordered:!1,type:"primary"},{default:n(()=>o[30]||(o[30]=[s("请粘贴默认数据:")])),_:1})]),p("div",Io,[t(e.MonacoEditor,{modelValue:e.options,"onUpdate:modelValue":o[13]||(o[13]=l=>e.options=l),language:"json",theme:"vs-dark",width:"100%",height:"100%"},null,8,["modelValue"])])])])),[[j,e.showDataModal],[K,{dragDiv:".head-box"}],[$]]),t(Y,{class:"go-background-filter",title:"开发说明",preset:"card",size:"small",style:{width:"1200px",height:"90vh"},show:e.showCreateModal,"onUpdate:show":o[14]||(o[14]=l=>e.showCreateModal=l),"transform-origin":"center",bordered:!0,onAfterLeave:o[15]||(o[15]=l=>e.showCreateModal=!1)},{default:n(()=>[t(F,{style:{"margin-top":"4px"}}),t(e.developModal)]),_:1},8,["show"]),P((m(),I("div",Mo,[p("div",Bo,[t(Q,{bordered:!1,type:"primary"},{default:n(()=>o[31]||(o[31]=[s("AI 生成组件")])),_:1}),t(v,{type:"tertiary","icon-placement":"right",secondary:"",size:"small",onClick:e.closeAIHandle},{icon:n(()=>[t(f,null,{default:n(()=>[t(e.CloseIcon)]),_:1})]),default:n(()=>[o[32]||(o[32]=s(" 关闭 "))]),_:1},8,["onClick"])]),t(e.DataBaseAIChat,{class:"edit-ai-content",ref:"AIChatRef",width:0,height:600,contentHeight:0,messageList:e.messageList,hiddenBtn:!1,isVertical:!1,inputTitle:"请详细输入想要实现的组件效果，例：「组件名：统计中国各省市不同年份的GDP增量变化，功能描述：帮我生成 echarts 柱状图，根据年份显示GDP增量变化」",onSend:o[17]||(o[17]=l=>e.sendHandlePre(l)),onUseResponse:e.useCodeHandle},{inputBottomRight:n(()=>[t(D,{class:"go-mr-2",align:"center"},{default:n(()=>[t(w,{depth:"3"},{default:n(()=>o[36]||(o[36]=[s("解析方案:")])),_:1}),t(Z,{value:e.editCode,"onUpdate:value":o[16]||(o[16]=l=>e.editCode=l),size:"small",options:[{label:"创建新组件",value:"create"},{label:"修改当前组件",value:"edit"}],style:{width:"130px"}},null,8,["value"])]),_:1})]),default:n(()=>[t(w,{class:"go-mt-1",depth:2},{default:n(()=>[o[34]||(o[34]=s(" 支持创建新组件或对现有组件代码「仅获取 ")),t(w,{type:"info"},{default:n(()=>o[33]||(o[33]=[s("App.vue")])),_:1}),o[35]||(o[35]=s(" 下的代码」进行修改 "))]),_:1})]),_:1},8,["messageList"])])),[[j,e.showAI],[K,{dragDiv:".head-box"}]])])}const Yo=ge(uo,[["render",Oo],["__scopeId","data-v-247f3b10"],["__file","index.vue"]]);export{Yo as default};
