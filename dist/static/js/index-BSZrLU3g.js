var Dt=Object.defineProperty,ht=Object.defineProperties;var Ut=Object.getOwnPropertyDescriptors;var Ne=Object.getOwnPropertySymbols;var wt=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable;var Le=(j,a,b)=>a in j?Dt(j,a,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[a]=b,$=(j,a)=>{for(var b in a||(a={}))wt.call(a,b)&&Le(j,b,a[b]);if(Ne)for(var b of Ne(a))Bt.call(a,b)&&Le(j,b,a[b]);return j},ve=(j,a)=>ht(j,Ut(a));import{d as re,f0 as ge,e as se,da as Ct,bu as St,cS as ze,_ as de,U as f,c as _,o as p,q as c,V as M,s as e,w as t,X as s,aS as _e,F as A,n as H,t as D,Y as S,W as be,$ as xe,cW as le,r as X,A as ke,L as C,cR as K,f1 as ee,ac as qe,H as Re,f2 as Fe,bA as Ve,K as oe,aw as Ot,ay as Q,bc as me,cy as Me,al as Nt,p as Pe,v as He,a5 as Lt,z as zt}from"./index-DzJUk-4s.js";import{Y as Xe,Z as Ge,aF as Ae,aG as Rt,aH as Vt,i as je,C as Ye}from"./index-B2h3DCGB.js";import{g as Te}from"./plugin-BZaVEG5Y.js";import{i as ie}from"./icon-Bt2TghsQ.js";import{c as pe}from"./index-DkV0_qOD.js";import{M as De}from"./index-DumZb7Zp.js";import{a as Mt,b as Pt,c as Ht,d as jt}from"./index-9-PjLlBq.js";import"./file-BoGdIhh5.js";import"./systemStore-CDAOEx2u.js";import"./index-YIaHLc6Z.js";import"./fileTypeEnum-22QBGXO_.js";import"./querySelectorAll-CWDd-9ax.js";import"./noImage-C1O4zUTD.js";import"./index.d-J2-cmQid.js";import"./correct-mOxEQCJ-.js";import"./chart_default-Cv54ZmSo.js";import"./noFile-CJNz9t2r.js";import"./useSync.hook-CykodbHN.js";import"./listen-BenKfQqv.js";import"./driver.js-DincbcBx.js";import"./drawRemote-BVHvBcY1.js";import"./index-BWD_u572.js";import"./indexDBStore-BkJ2w0ZQ.js";/* empty css                                                              */import"./error-DU3-BFcz.js";import"./index-BCTmwJrR.js";/* empty css               */import"./GoUserAvatar-BBITl89l.js";import"./points-Bi1H5gtF.js";import"./index-CYCNU51b.js";import"./svip-tip-BogTL7q_.js";import"./doc-Br7GyA9J.js";const Yt=re({__name:"index",setup(j,{expose:a}){a();const{CloseIcon:b,AddIcon:n,HelpOutlineIcon:W}=ie.ionicons5,{targetData:z,chartEditStore:r}=pe(),E=[ge.PARAMS,ge.HEADER,ge.SQL],v=se(()=>{const g=z.value.interactActions;return g?g.map(d=>({label:d.interactName,value:d.interactType})):[]}),h=se(()=>z.value.option),B={CloseIcon:b,AddIcon:n,HelpOutlineIcon:W,targetData:z,chartEditStore:r,requestParamsTypeList:E,interactActions:v,option:h,fnGetRequest:(g,d)=>{var x,U;if(!g)return{};if(d===ge.SQL){const m=(x=r.requestGlobalConfig.requestDataPond.find(w=>w.dataPondId===g))==null?void 0:x.dataPondRequestConfig.requestSQLContent;if(m)return m.sql?m.sqlParseSlotObj:{};const u=r.getComponentListObject[g],k=u==null?void 0:u.request.requestSQLContent;return!k||!k.sql?{}:k.sqlParseSlotObj}else{const m=(U=r.requestGlobalConfig.requestDataPond.find(k=>k.dataPondId===g))==null?void 0:U.dataPondRequestConfig.requestParams;if(m)return m[d];const u=r.getComponentListObject[g];return u==null?void 0:u.request.requestParams[d]}},fnDimensionsAndSource:g=>{if(!g||!z.value.interactActions)return[];const d=z.value.interactActions.find(x=>x.interactType===g);return(d==null?void 0:d.componentEmitEvents[h.value[Ct]])||[]},fnEventsOptions:()=>{var u;const g=k=>k.reduce((w,P)=>{var J,N;return(!P.groupList&&P.request.requestDataType===ze.AJAX&&P.request.requestUrl||P.request.requestDataType===ze.AJAX&&((N=(J=P.request)==null?void 0:J.requestSQLContent)!=null&&N.sql))&&w.push(P),P.groupList&&P.groupList.length>0?[...w,...g(P.groupList)]:w},[]),x=g(r.componentList).filter(k=>{const w=k.id!==z.value.id,P=k.chartConfig.chartFrame!==St.STATIC,J=!k.isGroup;return w&&P&&J}).map(k=>({id:k.id,title:k.chartConfig.title,disabled:!1,type:"componentList"})),m=r.requestGlobalConfig.requestDataPond.map(k=>({id:k.dataPondId,title:`公共接口-${k.dataPondName}`,disabled:!1,type:"requestDataPond"})).concat(x);return(u=z.value.events.interactEvents)==null||u.forEach(k=>{m.forEach(w=>{w.id===k.interactComponentId&&(w.disabled=!0)})}),m},evAddEventsFn:()=>{z.value.events.interactEvents.push({interactOn:void 0,interactComponentId:void 0,interactFn:{}})},evDeleteEventsFn:g=>{Te({message:"是否删除此关联交互模块?",onPositiveCallback:()=>{z.value.events.interactEvents.splice(g,1)}})},SettingItemBox:Ge,SettingItem:Xe,get noData(){return Ae}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),qt={class:"top-box"},Xt={key:0,class:"no-data go-flex-center"},Gt=["src"];function Kt(j,a,b,n,W,z){const r=f("n-text"),E=f("n-icon"),v=f("n-button"),h=f("n-space"),T=f("n-divider"),Y=f("n-tag"),O=f("n-select"),q=f("n-input-group"),R=f("n-tooltip"),B=f("n-table"),g=f("n-card");return p(),_("div",null,[c("div",qt,[e(h,{justify:"space-between"},{default:t(()=>[e(r,{depth:3,style:{"font-size":"13px"}},{default:t(()=>a[0]||(a[0]=[s("组件关联配置")])),_:1}),e(v,{type:"primary",tertiary:"",size:"small",onClick:_e(n.evAddEventsFn,["stop"])},{icon:t(()=>[e(E,null,{default:t(()=>[e(n.AddIcon)]),_:1})]),default:t(()=>[a[1]||(a[1]=s(" 新增 "))]),_:1})]),_:1})]),n.targetData.events.interactEvents.length?M("",!0):(p(),_("div",Xt,[c("img",{src:n.noData,alt:"暂无数据"},null,8,Gt),e(r,{depth:3,style:{"font-size":"13px"}},{default:t(()=>a[2]||(a[2]=[s("暂无数据")])),_:1})])),(p(!0),_(A,null,H(n.targetData.events.interactEvents,(d,x)=>(p(),D(g,{key:x,class:"n-card-shallow",size:"small"},{default:t(()=>[e(h,{justify:"space-between"},{default:t(()=>[e(r,null,{default:t(()=>[s("关联组件 - "+S(x+1),1)]),_:2},1024),e(v,{type:"error",text:"",size:"small",onClick:U=>n.evDeleteEventsFn(x)},{icon:t(()=>[e(E,null,{default:t(()=>[e(n.CloseIcon)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(T,{style:{margin:"10px 0"}}),e(Y,{bordered:!1,type:"primary"},{default:t(()=>a[3]||(a[3]=[s(" 选择目标组件 ")])),_:1}),e(n.SettingItemBox,{name:"触发事件",alone:!0},{default:t(()=>[n.interactActions?(p(),D(q,{key:0},{default:t(()=>[e(O,{class:"select-type-options",value:d.interactOn,"onUpdate:value":U=>d.interactOn=U,size:"tiny",options:n.interactActions},null,8,["value","onUpdate:value","options"])]),_:2},1024)):M("",!0)]),_:2},1024),e(n.SettingItemBox,{alone:!0},{name:t(()=>[e(r,null,{default:t(()=>a[4]||(a[4]=[s("绑定")])),_:1}),e(R,{trigger:"hover"},{trigger:t(()=>[e(E,{size:"21",depth:3},{default:t(()=>[e(n.HelpOutlineIcon)]),_:1})]),default:t(()=>[e(r,null,{default:t(()=>a[5]||(a[5]=[s("不支持「静态组件」支持「组件」「公共APi」")])),_:1})]),_:1})]),default:t(()=>[e(O,{class:"select-type-options","value-field":"id","label-field":"title",size:"tiny",filterable:"",placeholder:"仅展示符合条件的组件",value:d.interactComponentId,"onUpdate:value":U=>d.interactComponentId=U,options:n.fnEventsOptions()},null,8,["value","onUpdate:value","options"])]),_:2},1024),n.fnDimensionsAndSource(d.interactOn).length?(p(),D(n.SettingItemBox,{key:0,name:"查询结果",alone:!0},{default:t(()=>[e(B,{size:"small",striped:""},{default:t(()=>[c("thead",null,[c("tr",null,[(p(),_(A,null,H(["参数","说明"],U=>c("th",{key:U},S(U),1)),64))])]),c("tbody",null,[(p(!0),_(A,null,H(n.fnDimensionsAndSource(d.interactOn),(U,m)=>(p(),_("tr",{key:m},[c("td",null,S(U.value),1),c("td",null,S(U.label),1)]))),128))])]),_:2},1024)]),_:2},1024)):M("",!0),e(Y,{bordered:!1,type:"primary"},{default:t(()=>a[6]||(a[6]=[s(" 关联目标请求参数 ")])),_:1}),(p(),_(A,null,H(n.requestParamsTypeList,U=>e(n.SettingItemBox,{name:U,key:U},{default:t(()=>[(p(!0),_(A,null,H(n.fnGetRequest(d.interactComponentId,U),(m,u,k)=>(p(),D(n.SettingItem,{key:k,name:`${u}`},{default:t(()=>[e(O,{size:"tiny",value:d.interactFn[u],"onUpdate:value":w=>d.interactFn[u]=w,options:n.fnDimensionsAndSource(d.interactOn),clearable:""},null,8,["value","onUpdate:value","options"])]),_:2},1032,["name"]))),128)),be(e(r,{class:"go-pt-1",depth:"3"},{default:t(()=>a[7]||(a[7]=[s(" 暂无数据 ")])),_:2},1536),[[xe,JSON.stringify(n.fnGetRequest(d.interactComponentId,U))==="{}"]])]),_:2},1032,["name"])),64))]),_:2},1024))),128))])}const Wt=de(Yt,[["render",Kt],["__scopeId","data-v-e3d1b303"],["__file","index.vue"]]),Jt=`
console.log(e)
`,Qt=`
console.log(echarts)
`,Zt=`
console.log(components)
`,It=`
console.log(node_modules)
`,$t=`
// 在渲染之后才能获取 dom 实例
e.el.addEventListener('click', () => {
  alert('我触发拉~');
}, false)
`,en=`
await import('https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/lodash.js/4.17.21/lodash.js')

// lodash 默认赋值给 "_"
console.log('isEqual', _.isEqual(['1'], ['1']))
`,tn=`
// 获取echart实例
const chart = this.refs.vChartRef.chart

// 图表设置tooltip
chart.setOption({
  tooltip: {
    trigger: 'axis', //item
    enterable: true, 
    formatter (params) {
      return\`
        <div>
          <img src="https://goviewpro.goviewlink.com/charts-img-db/charts-img-db_id_wynbpkqg27400.png" width="20">
          <b><a href="https://gitee.com/dromara/go-view">《这是一个自定义的tooltip》</a></b>
        <div>
        <div style='border-radius:35px;color:#666'>
        \${Object.entries(params[0].value).map(kv => \`<div>\${kv[0]}:\${kv[1]}</div>\`).join('')}
        </div>
      \`;
    },
  }
})
`,nn=`
// 组件样式作用域标识
const scoped = this.subTree.scopeId
function loadStyleString(css){
	let style = document.createElement('style')
	style.type = 'text/css'
	style.appendChild(document.createTextNode(css))
	let head = document.getElementsByTagName('head')[0]
	head.appendChild(style)
}
loadStyleString(\`
.dv-scroll-board[\${scoped}] {
  position: relative;
  overflow: hidden;
}
.dv-scroll-board[\${scoped}]::before {
  content: '';
  display: block;
  position: absolute;
  top: -20%;
  left: -100%;
  width: 550px;
  height: 60px;
  transform: rotate(-45deg);
  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(255, 255, 255, 0.3), rgba(0, 0, 0, 0));
  animation: cross 2s infinite;
}
@keyframes cross{
  to{
    top: 80%;
    left: 100%;
    transform: rotate(-45deg);
  }
}
\`)
`,an=`
const chart = this.refs.vChartRef.chart
// 定义地图原点大小 同理可自定义标签等等内容
this.props.chartConfig.option.series[0].symbolSize = (val) => {
  return Math.sqrt(val[2]) / 3;
}
this.setupState.vEchartsSetOption();
let i = 0; // 当前轮播索引
const len = 3; // 轮播部分提示
(function showTips() {
  const action = (type, dataIndex) => {
    chart.dispatchAction({
      type,
      dataIndex,
      seriesIndex: 0,
    });
  }
  setInterval(() => {
    action("downplay", i);
    action("hideTip", i);
    if (i === len) i = 0;
    i++;
    action("highlight", i);
    action("showTip", i);
  }, 2000);
})()
`,ln=[{description:"获取当前组件实例",code:Jt},{description:"获取全局 echarts 实例",code:Qt},{description:"获取组件图表集合",code:Zt},{description:"获取 nodeModules 实例",code:It},{description:"获取远程 CDN 库",code:en},{description:"设置文字组件点击事件",code:$t},{description:"修改图表 tooltip",code:tn},{description:"添加【轮播列表】样式",code:nn},{description:"修改【地图】圆点，新增提示自动轮播",code:an}],on=re({__name:"index",setup(j,{expose:a}){a();const{targetData:b}=pe(),{DocumentTextIcon:n,ChevronDownIcon:W,PencilIcon:z}=ie.ionicons5,r={[le.VNODE_BEFORE_MOUNT]:"渲染之前",[le.VNODE_MOUNTED]:"渲染之后"},E={[le.VNODE_BEFORE_MOUNT]:"此时组件 DOM 还未存在",[le.VNODE_MOUNTED]:"此时组件 DOM 已经存在"},v=X(!1),h=X(le.VNODE_MOUNTED);let T=X($({},b.value.events.advancedEvents));const Y=X(!1),O=()=>{let g="",d="",x="";return Y.value=Object.entries(T.value).every(([U,m])=>{try{const u=Object.getPrototypeOf(async function(){}).constructor;return new u(m),!0}catch(u){return d=u.message,x=u.name,g=U,!1}}),{errorFn:g,message:d,name:x}},q=()=>{v.value=!1},R=()=>{if(O().errorFn){window.$message.error("事件函数错误，无法进行保存");return}Object.values(T.value).join("").trim()===""?b.value.events.advancedEvents={vnodeBeforeMount:void 0,vnodeMounted:void 0}:b.value.events.advancedEvents=$({},T.value),q()};ke(()=>v.value,g=>{g&&(T.value=$({},b.value.events.advancedEvents))});const B={targetData:b,DocumentTextIcon:n,ChevronDownIcon:W,PencilIcon:z,EventLifeName:r,EventLifeTip:E,showModal:v,editTab:h,get advancedEvents(){return T},set advancedEvents(g){T=g},errorFlag:Y,validEvents:O,closeEvents:q,saveEvents:R,MonacoEditor:De,get templateList(){return ln},get npmPkgs(){return Rt},get EventLife(){return le}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),un={class:"func-annotate"},sn={class:"func-keyword"},rn={class:"go-ml-4"},dn={class:"go-pl-3"},pn={class:"func-keyNameWord"},cn={class:"go-flex-items-center"};function fn(j,a,b,n,W,z){const r=f("n-text"),E=f("n-icon"),v=f("n-button"),h=f("n-space"),T=f("n-code"),Y=f("n-card"),O=f("n-tab-pane"),q=f("n-tabs"),R=f("n-layout"),B=f("n-collapse-item"),g=f("n-collapse"),d=f("n-scrollbar"),x=f("n-tag"),U=f("n-layout-sider"),m=f("n-modal");return p(),_(A,null,[c("div",null,[e(h,{justify:"space-between"},{default:t(()=>[e(r,{depth:3,style:{"font-size":"13px"}},{default:t(()=>a[3]||(a[3]=[s("自定义高级事件配置")])),_:1}),e(v,{type:"primary",tertiary:"",size:"small",onClick:a[0]||(a[0]=_e(u=>n.showModal=!0,["stop"]))},{icon:t(()=>[e(E,null,{default:t(()=>[e(n.PencilIcon)]),_:1})]),default:t(()=>[a[4]||(a[4]=s(" 编辑 "))]),_:1})]),_:1}),e(Y,{class:"collapse-show-box"},{default:t(()=>[(p(!0),_(A,null,H(n.EventLife,u=>(p(),_("div",{key:u,style:{"margin-bottom":"10px"}},[c("p",null,[c("span",un,"// "+S(n.EventLifeName[u]),1),a[5]||(a[5]=c("br",null,null,-1)),c("span",sn,"async "+S(u),1),a[6]||(a[6]=s(" (e, components, echarts, node_modules) { "))]),c("p",rn,[e(T,{code:(n.targetData.events.advancedEvents||{})[u]||"",language:"typescript"},null,8,["code"])]),a[7]||(a[7]=c("p",null,[s("}"),c("span",null,",")],-1))]))),128))]),_:1})]),e(m,{class:"go-chart-data-monaco-editor",show:n.showModal,"onUpdate:show":a[2]||(a[2]=u=>n.showModal=u),"mask-closable":!1},{default:t(()=>[e(Y,{bordered:!1,role:"dialog",size:"small","aria-modal":"true",style:{width:"1200px",height:"720px"}},{header:t(()=>[e(h,null,{default:t(()=>[e(r,null,{default:t(()=>a[8]||(a[8]=[s("高级事件编辑器")])),_:1})]),_:1})]),"header-extra":t(()=>a[9]||(a[9]=[])),action:t(()=>[e(h,{justify:"space-between"},{default:t(()=>[c("div",cn,[e(x,{bordered:!1,type:"primary"},{icon:t(()=>[e(E,{component:n.DocumentTextIcon},null,8,["component"])]),default:t(()=>[a[19]||(a[19]=s(" 说明 "))]),_:1}),e(r,{class:"go-ml-2",depth:"2"},{default:t(()=>a[20]||(a[20]=[s("通过提供的参数可为图表增加定制化的tooltip、交互事件等等")])),_:1})]),e(h,null,{default:t(()=>[e(v,{size:"medium",onClick:n.closeEvents},{default:t(()=>a[21]||(a[21]=[s("取消")])),_:1}),e(v,{size:"medium",type:"primary",onClick:n.saveEvents},{default:t(()=>a[22]||(a[22]=[s("保存")])),_:1})]),_:1})]),_:1})]),default:t(()=>[e(R,{"has-sider":"","sider-placement":"right"},{default:t(()=>[e(R,{style:{height:"580px","padding-right":"20px"}},{default:t(()=>[e(q,{value:n.editTab,"onUpdate:value":a[1]||(a[1]=u=>n.editTab=u),type:"card","tab-style":"min-width: 100px;"},{suffix:t(()=>[e(r,{class:"tab-tip",type:"warning"},{default:t(()=>[s("提示: "+S(n.EventLifeTip[n.editTab]),1)]),_:1})]),default:t(()=>[(p(!0),_(A,null,H(n.EventLife,(u,k)=>(p(),D(O,{key:k,tab:`${n.EventLifeName[u]}-${u}`,name:u},{default:t(()=>[c("p",dn,[a[10]||(a[10]=c("span",{class:"func-keyword"},"async function   ",-1)),c("span",pn,S(u)+"(e, components, echarts, node_modules)  {",1)]),e(n.MonacoEditor,{modelValue:n.advancedEvents[u],"onUpdate:modelValue":w=>n.advancedEvents[u]=w,height:"480px",language:"javascript"},null,8,["modelValue","onUpdate:modelValue"]),a[11]||(a[11]=c("p",{class:"go-pl-3 func-keyNameWord"},"}",-1))]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value"])]),_:1}),e(U,{"collapsed-width":14,width:340,"show-trigger":"bar","collapse-mode":"transform","content-style":"padding: 12px 12px 0px 12px;margin-left: 3px;"},{default:t(()=>[e(q,{"default-value":"1","justify-content":"space-evenly",type:"segment"},{default:t(()=>[e(O,{tab:"验证结果",name:"1",size:"small"},{default:t(()=>[e(d,{trigger:"none",style:{"max-height":"505px"}},{default:t(()=>[e(g,{class:"go-px-3","arrow-placement":"right","default-expanded-names":[1,2,3]},{default:t(()=>[(p(!0),_(A,null,H([n.validEvents()],u=>(p(),_(A,{key:u},[e(B,{title:"错误函数",name:1},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>[s(S(u.errorFn||"暂无"),1)]),_:2},1024)]),_:2},1024),e(B,{title:"错误信息",name:2},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>[s(S(u.name||"暂无"),1)]),_:2},1024)]),_:2},1024),e(B,{title:"堆栈信息",name:3},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>[s(S(u.message||"暂无"),1)]),_:2},1024)]),_:2},1024)],64))),128))]),_:1})]),_:1})]),_:1}),e(O,{tab:"变量说明",name:"2"},{default:t(()=>[e(d,{trigger:"none",style:{"max-height":"505px"}},{default:t(()=>[e(g,{class:"go-px-3","arrow-placement":"right","default-expanded-names":[1,2,3,4]},{default:t(()=>[e(B,{title:"e",name:1},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>a[12]||(a[12]=[s("触发对应生命周期事件时接收的参数")])),_:1}),e(r,{depth:"3"},{default:t(()=>a[13]||(a[13]=[s("e.componentConfig.value 可以直接修改组件绑定的配置 「图表配置、组件Value、样式等」")])),_:1})]),_:1}),e(B,{title:"this",name:2},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>a[14]||(a[14]=[s("图表组件实例")])),_:1}),a[15]||(a[15]=c("br",null,null,-1)),(p(),_(A,null,H(["refs","setupState","ctx","props","..."],u=>e(x,{class:"go-m-1",key:u},{default:t(()=>[s(S(u),1)]),_:2},1024)),64))]),_:1}),e(B,{title:"components",name:3},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>a[16]||(a[16]=[s(" 当前大屏内所有组件的集合id 图表组件中的配置id，可以获取其他图表组件进行控制 ")])),_:1}),e(T,{code:`{
  [id]: component
}`,language:"typescript"})]),_:1}),e(B,{title:"node_modules",name:4},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>a[17]||(a[17]=[s("以下是内置在代码环境中可用的包变量")])),_:1}),a[18]||(a[18]=c("br",null,null,-1)),(p(!0),_(A,null,H(Object.keys(n.npmPkgs||{}),u=>(p(),D(x,{class:"go-m-1",key:u},{default:t(()=>[s(S(u),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(O,{tab:"介绍案例",name:"3"},{default:t(()=>[e(d,{trigger:"none",style:{"max-height":"505px"}},{default:t(()=>[e(g,{"arrow-placement":"right"},{default:t(()=>[(p(!0),_(A,null,H(n.templateList,(u,k)=>(p(),D(B,{key:k,title:`案例${k+1}：${u.description}`,name:k},{default:t(()=>[e(T,{code:u.code,language:"typescript"},null,8,["code"])]),_:2},1032,["title","name"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])],64)}const vn=de(on,[["render",fn],["__scopeId","data-v-78559a00"],["__file","index.vue"]]),gn=re({__name:"index",setup(j,{expose:a}){a();const{targetData:b}=pe(),{DocumentTextIcon:n,ChevronDownIcon:W,PencilIcon:z}=ie.ionicons5,r={[C.ON_CLICK]:C.ON_CLICK,[C.ON_DBL_CLICK]:C.ON_DBL_CLICK,[C.ON_MOUSE_ENTER]:C.ON_MOUSE_ENTER,[C.ON_MOUSE_LEAVE]:C.ON_MOUSE_LEAVE},E={[C.ON_CLICK]:"单击",[C.ON_DBL_CLICK]:"双击",[C.ON_MOUSE_ENTER]:"鼠标移入",[C.ON_MOUSE_LEAVE]:"鼠标移出"},v=X(!1),h=X(C.ON_CLICK);let T=X($({},b.value.events.baseEvent));const Y=X(!1),O=()=>{let g="",d="",x="";return Y.value=Object.entries(T.value).every(([U,m])=>{try{const u=Object.getPrototypeOf(async function(){}).constructor;return new u(m),!0}catch(u){return d=u.message,x=u.name,g=U,!1}}),{errorFn:g,message:d,name:x}},q=()=>{v.value=!1},R=()=>{if(O().errorFn){window.$message.error("事件函数错误，无法进行保存");return}Object.values(T.value).join("").trim()===""?b.value.events.baseEvent={[C.ON_CLICK]:void 0,[C.ON_DBL_CLICK]:void 0,[C.ON_MOUSE_ENTER]:void 0,[C.ON_MOUSE_LEAVE]:void 0}:b.value.events.baseEvent=$({},T.value),q()};ke(()=>v.value,g=>{g&&(T.value=$({},b.value.events.baseEvent))});const B={targetData:b,DocumentTextIcon:n,ChevronDownIcon:W,PencilIcon:z,showBaseEvent:r,EventTypeName:E,showModal:v,editTab:h,get baseEvent(){return T},set baseEvent(g){T=g},errorFlag:Y,validEvents:O,closeEvents:q,saveEvents:R,MonacoEditor:De};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),mn={class:"func-annotate"},_n={class:"func-keyword"},En={class:"go-ml-4"},yn={class:"go-pl-3"},Fn={class:"func-keyNameWord"},bn={class:"go-flex-items-center"};function xn(j,a,b,n,W,z){const r=f("n-text"),E=f("n-icon"),v=f("n-button"),h=f("n-space"),T=f("n-code"),Y=f("n-card"),O=f("n-tab-pane"),q=f("n-tabs"),R=f("n-layout"),B=f("n-collapse-item"),g=f("n-collapse"),d=f("n-scrollbar"),x=f("n-layout-sider"),U=f("n-tag"),m=f("n-modal");return p(),_(A,null,[c("div",null,[e(h,{justify:"space-between"},{default:t(()=>[e(r,{depth:3,style:{"font-size":"13px"}},{default:t(()=>a[3]||(a[3]=[s("自定义基础事件配置")])),_:1}),e(v,{type:"primary",tertiary:"",size:"small",onClick:a[0]||(a[0]=_e(u=>n.showModal=!0,["stop"]))},{icon:t(()=>[e(E,null,{default:t(()=>[e(n.PencilIcon)]),_:1})]),default:t(()=>[a[4]||(a[4]=s(" 编辑 "))]),_:1})]),_:1}),e(Y,{class:"collapse-show-box"},{default:t(()=>[(p(),_(A,null,H(n.showBaseEvent,u=>c("div",{key:u,style:{"margin-bottom":"10px"}},[c("p",null,[c("span",mn,"// "+S(n.EventTypeName[u]),1),a[5]||(a[5]=c("br",null,null,-1)),c("span",_n,"async "+S(u),1),a[6]||(a[6]=s(" (mouseEvent, components) { "))]),c("p",En,[e(T,{code:(n.targetData.events.baseEvent||{})[u]||"",language:"typescript"},null,8,["code"])]),a[7]||(a[7]=c("p",null,[s("}"),c("span",null,",")],-1))])),64))]),_:1})]),e(m,{class:"go-chart-data-monaco-editor",show:n.showModal,"onUpdate:show":a[2]||(a[2]=u=>n.showModal=u),"mask-closable":!1},{default:t(()=>[e(Y,{bordered:!1,role:"dialog",size:"small","aria-modal":"true",style:{width:"1200px",height:"700px"}},{header:t(()=>[e(h,null,{default:t(()=>[e(r,null,{default:t(()=>a[8]||(a[8]=[s("基础事件编辑器")])),_:1})]),_:1})]),"header-extra":t(()=>a[9]||(a[9]=[])),action:t(()=>[e(h,{justify:"space-between"},{default:t(()=>[c("div",bn,[e(U,{bordered:!1,type:"primary"},{icon:t(()=>[e(E,{component:n.DocumentTextIcon},null,8,["component"])]),default:t(()=>[a[15]||(a[15]=s(" 说明 "))]),_:1}),e(r,{class:"go-ml-2",depth:"2"},{default:t(()=>a[16]||(a[16]=[s("编写方式同正常 JavaScript 写法")])),_:1})]),e(h,null,{default:t(()=>[e(v,{size:"medium",onClick:n.closeEvents},{default:t(()=>a[17]||(a[17]=[s("取消")])),_:1}),e(v,{size:"medium",type:"primary",onClick:n.saveEvents},{default:t(()=>a[18]||(a[18]=[s("保存")])),_:1})]),_:1})]),_:1})]),default:t(()=>[e(R,{"has-sider":"","sider-placement":"right"},{default:t(()=>[e(R,{style:{height:"580px","padding-right":"20px"}},{default:t(()=>[e(q,{value:n.editTab,"onUpdate:value":a[1]||(a[1]=u=>n.editTab=u),type:"card","tab-style":"min-width: 100px;"},{suffix:t(()=>[e(r,{class:"tab-tip",type:"warning"},{default:t(()=>a[10]||(a[10]=[s("提示: ECharts 组件会拦截鼠标事件")])),_:1})]),default:t(()=>[(p(),_(A,null,H(n.showBaseEvent,(u,k)=>e(O,{key:k,tab:`${n.EventTypeName[u]}-${u}`,name:u},{default:t(()=>[c("p",yn,[a[11]||(a[11]=c("span",{class:"func-keyword"},"async function   ",-1)),c("span",Fn,S(u)+"(mouseEvent, components)  {",1)]),e(n.MonacoEditor,{modelValue:n.baseEvent[u],"onUpdate:modelValue":w=>n.baseEvent[u]=w,height:"480px",language:"javascript"},null,8,["modelValue","onUpdate:modelValue"]),a[12]||(a[12]=c("p",{class:"go-pl-3 func-keyNameWord"},"}",-1))]),_:2},1032,["tab","name"])),64))]),_:1},8,["value"])]),_:1}),e(x,{"collapsed-width":14,width:340,"show-trigger":"bar","collapse-mode":"transform","content-style":"padding: 12px 12px 0px 12px;margin-left: 3px;"},{default:t(()=>[e(q,{"default-value":"1","justify-content":"space-evenly",type:"segment"},{default:t(()=>[e(O,{tab:"验证结果",name:"1",size:"small"},{default:t(()=>[e(d,{trigger:"none",style:{"max-height":"505px"}},{default:t(()=>[e(g,{class:"go-px-3","arrow-placement":"right","default-expanded-names":[1,2,3]},{default:t(()=>[(p(!0),_(A,null,H([n.validEvents()],u=>(p(),_(A,{key:u},[e(B,{title:"错误函数",name:1},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>[s(S(u.errorFn||"暂无"),1)]),_:2},1024)]),_:2},1024),e(B,{title:"错误信息",name:2},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>[s(S(u.name||"暂无"),1)]),_:2},1024)]),_:2},1024),e(B,{title:"堆栈信息",name:3},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>[s(S(u.message||"暂无"),1)]),_:2},1024)]),_:2},1024)],64))),128))]),_:1})]),_:1})]),_:1}),e(O,{tab:"变量说明",name:"2"},{default:t(()=>[e(d,{trigger:"none",style:{"max-height":"505px"}},{default:t(()=>[e(g,{class:"go-px-3","arrow-placement":"right","default-expanded-names":[1,2]},{default:t(()=>[e(B,{title:"mouseEvent",name:1},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>a[13]||(a[13]=[s("鼠标事件对象")])),_:1})]),_:1}),e(B,{title:"components",name:2},{default:t(()=>[e(r,{depth:"3"},{default:t(()=>a[14]||(a[14]=[s(" 当前大屏内所有组件的集合id 图表组件中的配置id，可以获取其他图表组件进行控制 ")])),_:1}),e(T,{code:`{
  [id]: component
}`,language:"typescript"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])],64)}const An=de(gn,[["render",xn],["__scopeId","data-v-a3da9975"],["__file","index.vue"]]),Tn=re({__name:"index",setup(j,{expose:a}){a();const b=[{label:"字段",value:0},{label:"自定义",value:1}],n=[{key:C.ON_CLICK,label:"单击"},{key:C.ON_DBL_CLICK,label:"双击"},{key:C.ON_MOUSE_ENTER,label:"鼠标移入"},{key:C.ON_MOUSE_LEAVE,label:"鼠标移出"},{key:C.ON_DATA_UPDATE,label:"数据更新"}],W=[{key:K.SHOW,label:"显示"},{key:K.HIDE,label:"隐藏"},{key:K.TOGGLE,label:"显隐切换"},{key:K.ANIMATE,label:"设置动画"},{key:K.TRANSFORM,label:"变换动画"},{key:K.FILTER,label:"滤镜"},{key:K.TO_CANVAS_PAGE,label:"跳转大屏页面"},{key:K.TO_LINK,label:"跳转新地址"},{key:K.PLAY_THEATRE_STUDIO,label:"播放帧动画"},{key:K.PAUSE_THEATRE_STUDIO,label:"暂停帧动画"},{key:K.REQUEST_DATA,label:"请求数据"},{key:K.UPDATE_CONFIG,label:"更新组件样式"}],z=[{label:"=",value:ee["="]},{label:"!=",value:ee["!="]},{label:">",value:ee[">"]},{label:">=",value:ee[">="]},{label:"<",value:ee["<"]},{label:"<=",value:ee["<="]},{label:"包含",value:ee.include},{label:"不包含",value:ee.exclude}],r=qe(),{targetData:E,chartEditStore:v}=pe(),{DocumentTextIcon:h,PencilIcon:T,SearchIcon:Y,CodeSlashIcon:O,TrashIcon:q,FolderIcon:R,HelpOutlineIcon:B}=ie.ionicons5,{BranchIcon:g,TouchInteractionIcon:d,CloudMonitoringIcon:x,LinkIcon:U}=ie.carbon;let m=null;const u=X(!1),k=X(!1),w=X(null),P=X(0),J=X(0),N=Re({edit:!1,name:""}),l=Re({triggerSearchValue:"",actionSearchValue:""}),G=X($({},new Fe)),V=X(1),o=X(!0),Z=Ve([]),y=Ve([]),Ee=X(!0),he=X([]),Ue=()=>{for(let i=0;i<10;i++)he.value.push({index:i,hueRotate:i*36})};Ue();const Ke=se(()=>v.getPageList.map(i=>({label:i.title,value:i.id}))),We=i=>E.value.chartConfig.category===Vt.INPUTS?i.map(L=>L.key===C.ON_DATA_UPDATE?ve($({},L),{label:`${L.label}「控件数据更新」`}):L):i,Je=i=>{const F=[],L={[C.ON_CLICK]:"info",[C.ON_DBL_CLICK]:"info",[C.ON_MOUSE_ENTER]:"warning",[C.ON_MOUSE_LEAVE]:"error",[C.ON_DATA_UPDATE]:"success"};return i.forEach(I=>{if(I.actionConfig.length)I.actionConfig.forEach((ne,te)=>{const ue={type:L[I.triggerType],name:ye(I.triggerType),action:""};ue.action+=Be(ne.actionType),F.push(ve($({},ue),{eventItem:I,actionIndex:te}))});else{const ne={type:L[I.triggerType],name:ye(I.triggerType),action:""};ne.action="暂无动作",F.push(ve($({},ne),{eventItem:I}))}}),F},Qe=i=>{we(),Ot(()=>{w.value=i.eventItem.id,ae(i.eventItem.id),oe.isNumber(i.actionIndex)&&(P.value=i.actionIndex)})},we=()=>{u.value=!0,m=oe.cloneDeep(E.value.events)},Ze=()=>{Te({message:"是否应用当前配置？",onPositiveCallback:()=>{u.value=!1,m=null}})},Ie=()=>{E.value.events=oe.cloneDeep(m),u.value=!1},$e=()=>{const i=new Fe;E.value.events.action.push(i),w.value=i.id,ae(i.id)},et=()=>{G.value.actionConfig.push(new Fe().actionConfig[0]),P.value=G.value.actionConfig.length-1},ae=i=>{const F=E.value.events.action.find(L=>L.id===i);F&&(G.value=F,V.value=F.filter.isCustom?1:0,P.value=0)},tt=(i,F)=>{switch(i){case K.PLAY_THEATRE_STUDIO:case K.PAUSE_THEATRE_STUDIO:case K.TO_LINK:case K.TO_CANVAS_PAGE:case K.UPDATE_CONFIG:break}},nt=(i,F)=>{if(!i){F.setting.componentConfig={};return}if(!(F.setting.componentConfig&&F.setting.componentConfig.id===i))if(i in v.getComponentListObject){const L=oe.cloneDeep(v.getComponentListObject[i]);F.setting.componentConfig=L}else{F.setting.componentConfig={};return}},at=i=>{G.value.filter.isCustom=!!i},lt=()=>{N.edit=!0},ot=()=>{N.name===""&&(N.name="交互事件"),N.name="",N.edit=!1,window.$message.success("修改成功")},ut=i=>(Te({message:"是否删除此事件？",onPositiveCallback:async()=>{const F=E.value.events.action.findIndex(L=>L.id===i);E.value.events.action.splice(F,1),window.$message.success("删除成功"),E.value.events.action.length===0?w.value=null:F>0?(w.value=E.value.events.action[F-1].id,ae(w.value)):(w.value=E.value.events.action[0].id,ae(w.value))}}),!0),st=()=>{G.value.actionConfig.splice(P.value,1),E.value.events.action.length===0?w.value=0:P.value>0&&(P.value=P.value-1)},it=i=>{i.setting.transform.splice(J.value,1),i.setting.transform===0?J.value=0:J.value>0&&(J.value=J.value-1)},ye=i=>{var F;return(F=n.find(L=>L.key===i))==null?void 0:F.label},Be=i=>{var F;return(F=W.find(L=>L.key===i))==null?void 0:F.label},rt=()=>{if(G.value.filter.judgeList.length){const i=G.value.filter.judgeList[G.value.filter.judgeList.length-1].field;if(i===""||i===null||i===void 0){window.$message.error("请先编辑完上个条件");return}}G.value.filter.judgeList.push({isAllPass:!0,field:"",condition:ee["="],value:""})},dt=(i,F)=>{o.value&&(F.setting.scaleY=i)},pt=(i,F)=>{o.value&&(F.setting.scaleX=i)},ct=(i,F)=>{o.value&&(F.scaleY=i)},ft=(i,F)=>{o.value&&(F.scaleX=i)},vt=i=>`${i}°`,gt=i=>`${(parseFloat(i)*100).toFixed(0)}%`,mt=i=>`${i}deg`,_t=i=>{const F=i.setting.transform.length;i.setting.transform.push(F>0?oe.cloneDeep(i.setting.transform[i.setting.transform.length-1]):{relativeMoveX:0,relativeMoveY:0,scaleX:1,scaleY:1,rotateX:0,rotateZ:0,rotateY:0,delay:0,duration:2,opacity:1,timing:"none"}),J.value=i.setting.transform.length-1},Et=i=>Q("div",{},[Q(me,{style:{verticalAlign:"-0.15em",marginRight:"6px",opacity:.6}},{default:()=>Q(i.value?O:g)}),i.label]),yt=i=>Q("div",{style:{fontSize:"12px",lineHeight:"14px"}},[i.label]),Ft=i=>Q("div",{style:{display:"flex",alignItems:"center"}},[i.isGroup?Q(me,{style:{marginRight:"10px"},size:16},{default:()=>Q(R)}):Q("img",{src:i.img,style:{height:"20px",maxWidth:"26px",marginRight:"10px",borderRadius:"4px"}}),Q("div",null,[`${i.label} 【 ${i.key} 】`])]),bt=({option:i,handleClose:F})=>Q(Me,{style:{fontSize:"12px"},type:"info",bordered:!1,closable:!0,onClose:L=>{L.stopPropagation(),F()}},{default:()=>Q("div",{style:{display:"flex",alignItems:"center"},title:i.label},[i.isGroup?Q(me,{style:{marginRight:"10px"},size:16},{default:()=>Q(R)}):Q("img",{src:i.img,style:{height:"20px",marginRight:i.isGroup?"0px":"10px",borderRadius:"4px"}}),Q("div",{style:{maxWidth:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},i.label)])});ke(()=>u.value,async i=>{if(i){E.value.events.action.length?(w.value=E.value.events.action[0].id,ae(w.value)):w.value=null;const F=async()=>{for(let L=0;L<v.componentList.length;L++){const I=await je(v.componentList[L].chartConfig,Ye.LAYERS),{chartConfig:ne,id:te,isGroup:ue,groupList:ce}=v.componentList[L];if(Z.value.push({key:te,label:ne.title,isGroup:ue,value:te,img:I}),ue&&ce){const Se={type:"group",key:te+te,label:ne.title,isGroup:!1,value:te+te,img:I,children:[]};for(let fe=0;fe<ce.length;fe++){const Tt=await je(ce[fe].chartConfig,Ye.LAYERS),{chartConfig:kt,id:Oe}=ce[fe];Se.children.push({label:kt.title,key:Oe,isGroup:!1,value:Oe,img:Tt})}Z.value.push(Se)}}};Z.value=[],await F(),y.value=Z.value,Ee.value=!1}else Ee.value=!0});const xt=se(()=>r.getAppTheme),At=oe.debounce(i=>{if(i=i+"",!i.length){Z.value=y.value;return}Z.value=y.value.filter(F=>JSON.stringify(F).includes(i))},300),Ce={filterOptions:b,triggerTypeOptions:n,actionTypeOptions:W,computedCharacterOptions:z,designStore:r,targetData:E,chartEditStore:v,DocumentTextIcon:h,PencilIcon:T,SearchIcon:Y,CodeSlashIcon:O,TrashIcon:q,FolderIcon:R,HelpOutlineIcon:B,BranchIcon:g,TouchInteractionIcon:d,CloudMonitoringIcon:x,LinkIcon:U,get catchData(){return m},set catchData(i){m=i},showModal:u,codeShowModal:k,tabValue:w,actionTabValue:P,transformTabBValue:J,editName:N,search:l,actionReactive:G,actionIsCustom:V,scaleRelation:o,selectComponentList:Z,selectComponentListBackup:y,selectComponentListLoading:Ee,presetHueRotateList:he,initPresetHueRotateList:Ue,pageList:Ke,eventNameHandle:We,handleActionListShow:Je,editTargetAction:Qe,editEvent:we,closeEvents:Ze,cancelHandle:Ie,handleAdd:$e,handleActionAdd:et,handleTabSelect:ae,actionTypeChangeHandle:tt,selectComponentChangeHandle:nt,isCustomChangeHandle:at,editNamePreHandle:lt,handleEditNameEnter:ot,handleTabClose:ut,handleActionTabClose:st,handleTransformActionTabClose:it,getTriggerName:ye,getActionName:Be,addFilterHandle:rt,updatescaleX:dt,updatescaleY:pt,updateTransformScaleX:ct,updateTransformScaleY:ft,sliderFormatTooltipByAngle:vt,sliderFormatTooltip:gt,degFormatTooltip:mt,addTransformHandle:_t,renderIsCustomLabel:Et,renderFilterLabel:yt,renderSelectComponentListLabel:Ft,renderSelectComponentListTag:bt,themeColor:xt,searchSelectComponentList:At,get NIcon(){return me},get NTag(){return Me},get ActionTypeEnum(){return K},get openNewWindow(){return Nt},get animations(){return jt},get animationsTimingFunctionOptions(){return Ht},get animateJsEasingOptions(){return Pt},get animationsDirectionFunctionOptions(){return Mt},SettingItemBox:Ge,SettingItem:Xe,MonacoEditor:De,get EventDataTooltip(){return ea}};return Object.defineProperty(Ce,"__isScriptSetup",{enumerable:!1,value:!0}),Ce}}),kn="/static/png/systemMaintenance.png",Dn={class:"collapse-show-box"},hn={class:"no-data",style:{"margin-top":"0"}},Un={key:0,class:"content-box"},wn={class:"menu-box"},Bn={class:"go-flex-center"},Cn={style:{position:"relative"}},Sn={class:"go-background-filter go-flex-center",style:{"z-index":"100",position:"absolute",cursor:"not-allowed",top:"0",left:"0",width:"100%",height:"266px",opacity:"0.85","border-radius":"4px"}};const On={style:{"font-size":"13px"}},Nn={key:0},Ln={key:1},zn={class:"menu-box"},Rn={style:{position:"relative"}},Vn={style:{position:"relative"}},Mn={style:{width:"300px"}},Pn={class:"relation-box"},Hn={key:0},jn={key:1},Yn={class:"relation-box"},qn={class:"preset-filter-box"},Xn={class:"preset-filter"},Gn=["onClick"],Kn={key:0},Wn={key:1,class:"no-data"},Jn={class:"go-flex-items-center"},Qn={class:"model-content-box"},Zn={class:"go-flex-items-center"};function In(j,a,b,n,W,z){const r=f("n-text"),E=f("n-button"),v=f("n-space"),h=f("n-tooltip"),T=f("n-card"),Y=f("n-tab"),O=f("n-tabs"),q=f("n-menu"),R=f("n-divider"),B=f("n-input"),g=f("n-select"),d=f("n-form-item"),x=f("n-checkbox"),U=f("n-cascader"),m=f("n-input-number"),u=f("n-slider"),k=f("n-tab-pane"),w=f("n-form"),P=f("n-scrollbar"),J=f("n-modal");return p(),_(A,null,[c("div",null,[e(v,{justify:"space-between"},{default:t(()=>[e(r,{depth:3,style:{"font-size":"13px"}},{default:t(()=>a[16]||(a[16]=[s("交互事件配置")])),_:1}),e(E,{type:"primary",tertiary:"",size:"small",onClick:_e(n.editEvent,["stop"])},{icon:t(()=>[e(n.NIcon,null,{default:t(()=>[e(n.PencilIcon)]),_:1})]),default:t(()=>[a[17]||(a[17]=s(" 编辑 "))]),_:1})]),_:1}),c("div",Dn,[(p(!0),_(A,null,H(n.handleActionListShow(n.targetData.events.action),(N,l)=>(p(),D(T,{class:"card-box",key:l,size:"small",hoverable:"","content-style":"padding: 8px; cursor: pointer;",onClick:G=>n.editTargetAction(N)},{default:t(()=>[e(h,{trigger:"hover"},{trigger:t(()=>[e(v,{align:"center",justify:"space-between"},{default:t(()=>[e(r,{depth:2,style:{"font-size":"13px"}},{default:t(()=>[e(E,{secondary:"",type:N.type,size:"tiny",style:{"font-size":"13px"}},{default:t(()=>[s(S(N.name),1)]),_:2},1032,["type"])]),_:2},1024),e(E,{secondary:"",size:"small",style:{"font-size":"13px"}},{default:t(()=>[s(S(N.action),1)]),_:2},1024)]),_:2},1024)]),default:t(()=>[a[18]||(a[18]=s(" 点击编辑 "))]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),be(c("div",hn,[a[20]||(a[20]=c("img",{src:Ae,alt:"",style:{width:"120px"}},null,-1)),e(r,{depth:3,style:{"font-size":"13px"}},{default:t(()=>a[19]||(a[19]=[s("暂无数据")])),_:1})],512),[[xe,!n.targetData.events.action.length]])]),e(J,{class:"go-chart-event-action go-background-filter",show:n.showModal,"onUpdate:show":a[12]||(a[12]=N=>n.showModal=N),"mask-closable":!1,"close-on-esc":!1,style:Pe(n.designStore.getDarkTheme?"":"background-color: rgba(255,255,255,.95)")},{default:t(()=>[e(T,{bordered:!1,role:"dialog",size:"small","aria-modal":"true","content-style":"padding: 0",style:{width:"1200px",height:"700px"}},{header:t(()=>[e(v,null,{default:t(()=>[e(r,null,{default:t(()=>a[21]||(a[21]=[s("交互编辑器")])),_:1})]),_:1})]),"header-extra":t(()=>a[22]||(a[22]=[])),action:t(()=>[e(v,{justify:"space-between"},{default:t(()=>[c("div",Jn,[e(n.NTag,{bordered:!1,type:"primary"},{icon:t(()=>[e(n.NIcon,{component:n.DocumentTextIcon},null,8,["component"])]),default:t(()=>[a[68]||(a[68]=s(" 说明 "))]),_:1}),e(r,{class:"go-ml-2",depth:"2"},{default:t(()=>a[69]||(a[69]=[s("请在预览页面查看结果")])),_:1})]),e(v,null,{default:t(()=>[e(E,{class:"go-px-4",size:"medium",onClick:n.cancelHandle},{default:t(()=>a[70]||(a[70]=[s("取消")])),_:1}),e(E,{class:"go-px-4",type:"primary",size:"medium",onClick:n.closeEvents},{default:t(()=>a[71]||(a[71]=[s("确认")])),_:1})]),_:1})]),_:1})]),default:t(()=>{var N;return[e(O,{value:n.tabValue,"onUpdate:value":[a[0]||(a[0]=l=>n.tabValue=l),n.handleTabSelect],class:"tab-box",type:"card",size:"small",closable:"","tab-style":"min-width: 80px;",addable:!0,onAdd:n.handleAdd,onClose:n.handleTabClose},{prefix:t(()=>[e(r,{depth:3,style:{"font-size":"12px"}},{default:t(()=>[a[23]||(a[23]=s(" 事件 ")),e(n.NIcon,{class:"go-ml-1",size:"18",color:n.themeColor,style:{position:"relative",top:"6px"}},{default:t(()=>[e(n.TouchInteractionIcon)]),_:1},8,["color"])]),_:1})]),suffix:t(()=>a[24]||(a[24]=[])),default:t(()=>[(p(!0),_(A,null,H(n.targetData.events.action,(l,G)=>(p(),D(Y,{key:l.id,tab:`交互${G+1}-${n.getTriggerName(l.triggerType)}`,name:l.id},null,8,["tab","name"]))),128))]),_:1},8,["value"]),(N=n.targetData.events.action)!=null&&N.length?(p(),_("div",Un,[e(v,{class:"content-item",vertical:"",size:6,style:{width:"240px"}},{default:t(()=>[e(r,{class:"mini-size",depth:3},{default:t(()=>a[25]||(a[25]=[s(" 类型 ")])),_:1}),c("div",wn,[e(T,{size:"small","content-style":{padding:"6px 8px"}},{default:t(()=>[e(q,{value:n.actionReactive.triggerType,"onUpdate:value":a[1]||(a[1]=l=>n.actionReactive.triggerType=l),options:n.eventNameHandle(n.triggerTypeOptions).filter(l=>l.label.includes(n.search.triggerSearchValue))},null,8,["value","options"])]),_:1})]),e(R,{style:{margin:"6px 0"}}),e(v,{vertical:"",size:12},{default:t(()=>[e(v,{justify:"space-between",align:"center"},{default:t(()=>[c("div",Bn,[e(r,{class:"mini-size",depth:3},{default:t(()=>a[26]||(a[26]=[s(" 自定义条件判断 ")])),_:1}),e(h,{trigger:"hover","show-arrow":!1},{trigger:t(()=>[e(n.NIcon,{size:"18",depth:3,style:{cursor:"pointer","margin-left":"6px"}},{default:t(()=>[e(n.HelpOutlineIcon)]),_:1})]),default:t(()=>[e(n.NTag,{type:"info",onClick:a[2]||(a[2]=l=>n.openNewWindow("https://www.yuque.com/duidui-9gwcg/yr95uq/bwf5mhio89r1e97y")),style:{cursor:"pointer"}},{default:t(()=>a[27]||(a[27]=[s(" 全局公共方法文档 ")])),_:1})]),_:1})]),e(v,null,{default:t(()=>[e(E,{size:"tiny",strong:"",secondary:"",type:"primary",onClick:a[3]||(a[3]=l=>n.codeShowModal=!0)},{icon:t(()=>[e(n.NIcon,null,{default:t(()=>[e(n.CodeSlashIcon)]),_:1})]),default:t(()=>[a[28]||(a[28]=s(" 弹窗编辑 "))]),_:1})]),_:1})]),_:1}),c("div",Cn,[be(c("div",Sn,[e(v,{vertical:"",size:0,style:{"margin-top":"80px"}},{default:t(()=>[a[30]||(a[30]=c("img",{src:kn,alt:"",width:"100"},null,-1)),e(r,{depth:3,style:{"font-size":"12px"}},{default:t(()=>a[29]||(a[29]=[s("开发中，尽情期待")])),_:1})]),_:1})],512),[[xe,!1]]),(p(),D(T,{key:1,size:"small","content-style":{paddingLeft:"10px",paddingRight:"10px"}},{default:t(()=>[e(v,{vertical:""},{default:t(()=>[c("span",On,[e(h,{trigger:"hover"},{trigger:t(()=>a[36]||(a[36]=[c("span",{class:"func-keyword",style:{"text-decoration":"underline"}},"filter",-1)])),default:t(()=>[a[37]||(a[37]=s(" 自定义条件过滤函数，返回 true 或 false "))]),_:1}),a[42]||(a[42]=s(" ( ")),e(h,{trigger:"hover",style:{maxWidth:"400px",maxHeight:"400px",overflow:"auto"}},{trigger:t(()=>a[38]||(a[38]=[c("span",{style:{"text-decoration":"underline"}},"dataset",-1)])),default:t(()=>[a[39]||(a[39]=s(" 当前组件的 dataset 数据： ")),c("pre",null,S(JSON.stringify(n.targetData.option.dataset,null,2)),1)]),_:1}),a[43]||(a[43]=s(" , ")),e(h,{trigger:"hover",style:{maxWidth:"400px",maxHeight:"400px",overflow:"auto"}},{trigger:t(()=>a[40]||(a[40]=[c("span",{style:{"text-decoration":"underline"}},"eventData",-1)])),default:t(()=>[a[41]||(a[41]=s(" 事件触发值 eventData 数据： ")),n.EventDataTooltip[n.targetData.chartConfig.key]?(p(),_("pre",Ln,S(n.EventDataTooltip[n.targetData.chartConfig.key]),1)):(p(),_("span",Nn,"暂无"))]),_:1}),a[44]||(a[44]=s(" )  { "))]),e(n.MonacoEditor,{modelValue:n.actionReactive.filter.custom,"onUpdate:modelValue":a[6]||(a[6]=l=>n.actionReactive.filter.custom=l),width:"226px",height:"180px",language:"javascript",editorOptions:{fontSize:12}},null,8,["modelValue"]),a[45]||(a[45]=s(" } "))]),_:1})]),_:1}))])]),_:1})]),_:1}),e(R,{vertical:"",style:{height:"530px",margin:"0 20px"}}),e(O,{class:"action-tab-box",value:n.actionTabValue,"onUpdate:value":a[11]||(a[11]=l=>n.actionTabValue=l),type:"card",size:"small",closable:"",hoverable:"","tab-style":"min-width: 80px;",addable:!0,onAdd:n.handleActionAdd,onClose:n.handleActionTabClose,style:{flex:"1","max-width":"870px"}},{prefix:t(()=>[e(r,{depth:3,style:{"font-size":"12px"}},{default:t(()=>a[46]||(a[46]=[s("动作")])),_:1}),e(n.NIcon,{class:"go-ml-2",size:"18",color:n.themeColor},{default:t(()=>[e(n.CloudMonitoringIcon)]),_:1},8,["color"])]),default:t(()=>[s(" "+S(n.actionReactive.actionConfig)+" ",1),(p(!0),_(A,null,H(n.actionReactive.actionConfig,(l,G)=>(p(),D(k,{key:G,tab:`动作${G+1}-${n.getActionName(l.actionType)}`,name:G},{default:t(()=>[e(T,{size:"small"},{default:t(()=>[e(v,{wrap:!1},{default:t(()=>[e(v,{class:"content-item",vertical:"",size:6},{default:t(()=>[e(r,{class:"mini-size",depth:3},{default:t(()=>a[47]||(a[47]=[s(" 执行动作 ")])),_:1}),e(B,{value:n.search.actionSearchValue,"onUpdate:value":a[7]||(a[7]=V=>n.search.actionSearchValue=V),valueModifiers:{trim:!0},size:"tiny",clearable:"",placeholder:"请输入关键词"},{suffix:t(()=>[e(n.NIcon,{component:n.SearchIcon},null,8,["component"])]),_:1},8,["value"]),c("div",zn,[e(q,{value:l.actionType,"onUpdate:value":[V=>l.actionType=V,V=>n.actionTypeChangeHandle(V,l)],options:n.actionTypeOptions.filter(V=>V.label.includes(n.search.actionSearchValue))},null,8,["value","onUpdate:value","options"])])]),_:2},1024),e(R,{vertical:"",style:{height:"456px",margin:"0 20px"}}),e(P,{style:{"max-height":"460px"}},{default:t(()=>[e(v,{vertical:""},{default:t(()=>[l.actionType!==n.ActionTypeEnum.PLAY_THEATRE_STUDIO&&l.actionType!==n.ActionTypeEnum.PAUSE_THEATRE_STUDIO&&l.actionType!==n.ActionTypeEnum.TO_LINK&&l.actionType!==n.ActionTypeEnum.TO_CANVAS_PAGE&&l.actionType!==n.ActionTypeEnum.UPDATE_CONFIG?(p(),D(v,{key:0,vertical:"","wrap-item":!1},{default:t(()=>[e(r,{class:"mini-size",depth:3},{default:t(()=>a[48]||(a[48]=[s(" 关联组件（可多选） ")])),_:1}),c("div",Rn,[n.selectComponentListLoading?M("",!0):(p(),D(g,{key:0,filterable:"",clearable:"",multiple:"",remote:"",value:l.targetList,"onUpdate:value":V=>l.targetList=V,options:n.selectComponentList,"clear-filter-after-select":!1,"render-label":n.renderSelectComponentListLabel,"render-tag":n.renderSelectComponentListTag,onSearch:n.searchSelectComponentList,style:{width:"620px"}},null,8,["value","onUpdate:value","options","onSearch"])),n.selectComponentListLoading?(p(),D(g,{key:1,placeholder:"加载中...",loading:!0})):M("",!0)]),e(R,{style:{width:"620px",margin:"10px 0 0"}})]),_:2},1024)):M("",!0),l.actionType===n.ActionTypeEnum.UPDATE_CONFIG?(p(),D(v,{key:1,vertical:"","wrap-item":!1},{default:t(()=>[e(r,{class:"mini-size",depth:3},{default:t(()=>a[49]||(a[49]=[s(" 选择目标组件（单选）")])),_:1}),c("div",Vn,[n.selectComponentListLoading?M("",!0):(p(),D(g,{key:0,filterable:"",clearable:"",remote:"",value:l.targetList,"onUpdate:value":[V=>l.targetList=V,V=>n.selectComponentChangeHandle(V,l)],options:n.selectComponentList,"clear-filter-after-select":!1,"render-label":n.renderSelectComponentListLabel,style:{width:"620px"},onSearch:n.searchSelectComponentList},null,8,["value","onUpdate:value","options","onSearch"])),n.selectComponentListLoading?(p(),D(g,{key:1,placeholder:"加载中...",loading:!0})):M("",!0)]),e(R,{style:{width:"620px",margin:"10px 0 0"}})]),_:2},1024)):M("",!0),c("div",Mn,[e(w,{size:"small","label-align":"left","label-placement":"left","label-width":"68"},{default:t(()=>{var V;return[e(d,null,{default:t(()=>[e(r,{class:"mini-size",depth:"3"},{default:t(()=>[s(S(n.getActionName(l.actionType))+"配置 ",1)]),_:2},1024)]),_:2},1024),l.actionType===n.ActionTypeEnum.SHOW||l.actionType===n.ActionTypeEnum.HIDE||l.actionType===n.ActionTypeEnum.TOGGLE?(p(),D(d,{key:0,label:"动画应用"},{default:t(()=>[e(x,{checked:l.setting.useAnimation,"onUpdate:checked":o=>l.setting.useAnimation=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"])]),_:2},1024)):M("",!0),l.actionType===n.ActionTypeEnum.ANIMATE?(p(),_(A,{key:1},[e(d,{label:"循环播放"},{default:t(()=>[e(x,{checked:l.setting.infinite,"onUpdate:checked":o=>l.setting.infinite=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(d,{label:"动画类型"},{default:t(()=>[e(U,{size:"small",value:l.setting.name,"onUpdate:value":o=>l.setting.name=o,"expand-trigger":"hover","show-path":!1,filterable:!0,options:n.animations,"check-strategy":"child",placeholder:"输入关键词"},null,8,["value","onUpdate:value","options"])]),_:2},1024),e(d,{label:"交替方向"},{default:t(()=>[e(g,{size:"small",value:l.setting.direction,"onUpdate:value":o=>l.setting.direction=o,filterable:!0,options:n.animationsDirectionFunctionOptions,placeholder:"输入关键词"},null,8,["value","onUpdate:value","options"])]),_:2},1024)],64)):M("",!0),l.actionType===n.ActionTypeEnum.SHOW?(p(),D(d,{key:2,label:"动画类型"},{default:t(()=>[e(g,{size:"small",value:l.setting.inName,"onUpdate:value":o=>l.setting.inName=o,filterable:!0,options:n.animations[2].children,placeholder:"输入关键词"},null,8,["value","onUpdate:value","options"])]),_:2},1024)):M("",!0),l.actionType===n.ActionTypeEnum.HIDE?(p(),D(d,{key:3,label:"动画类型"},{default:t(()=>[e(g,{size:"small",value:l.setting.outName,"onUpdate:value":o=>l.setting.outName=o,filterable:!0,options:n.animations[3].children,placeholder:"输入关键词"},null,8,["value","onUpdate:value","options"])]),_:2},1024)):M("",!0),l.actionType===n.ActionTypeEnum.TOGGLE?(p(),D(d,{key:4,label:"进入动画"},{default:t(()=>[e(g,{size:"small",value:l.setting.inName,"onUpdate:value":o=>l.setting.inName=o,filterable:!0,options:n.animations[2].children,placeholder:"输入关键词"},null,8,["value","onUpdate:value","options"])]),_:2},1024)):M("",!0),l.actionType===n.ActionTypeEnum.TOGGLE?(p(),D(d,{key:5,label:"离开动画"},{default:t(()=>[e(g,{size:"small",value:l.setting.outName,"onUpdate:value":o=>l.setting.outName=o,filterable:!0,options:n.animations[3].children,placeholder:"输入关键词"},null,8,["value","onUpdate:value","options"])]),_:2},1024)):M("",!0),l.actionType===n.ActionTypeEnum.SHOW||l.actionType===n.ActionTypeEnum.HIDE||l.actionType===n.ActionTypeEnum.TOGGLE||l.actionType===n.ActionTypeEnum.ANIMATE?(p(),_(A,{key:6},[e(d,{label:"速度"},{default:t(()=>[e(g,{size:"small",value:l.setting.timing,"onUpdate:value":o=>l.setting.timing=o,options:n.animationsTimingFunctionOptions},null,8,["value","onUpdate:value","options"])]),_:2},1024),e(d,{label:"时长"},{default:t(()=>[e(m,{value:l.setting.duration,"onUpdate:value":o=>l.setting.duration=o,size:"small",min:.1,"show-button":!1,style:{width:"90px"}},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[50]||(a[50]=[s("秒")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)],64)):M("",!0),l.actionType===n.ActionTypeEnum.MOVE?(p(),_(A,{key:7},[e(d,{label:"循环更新"},{default:t(()=>[e(x,{checked:l.setting.infinite,"onUpdate:checked":o=>l.setting.infinite=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(d,{label:"来回展示"},{default:t(()=>[e(x,{checked:l.setting.alternate,"onUpdate:checked":o=>l.setting.alternate=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"]),e(r,{depth:3},{default:t(()=>a[51]||(a[51]=[s("(开启循环更新后生效)")])),_:1})]),_:2},1024),e(d,{label:"相对偏移"},{default:t(()=>[e(v,null,{default:t(()=>[e(m,{value:l.setting.relativeMoveX,"onUpdate:value":o=>l.setting.relativeMoveX=o,step:"10",size:"small"},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[52]||(a[52]=[s("X轴")])),_:1})]),_:2},1032,["value","onUpdate:value"]),e(m,{value:l.setting.relativeMoveY,"onUpdate:value":o=>l.setting.relativeMoveY=o,step:"10",size:"small"},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[53]||(a[53]=[s("Y轴")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),e(d,{label:"速度"},{default:t(()=>[e(g,{size:"small",value:l.setting.timing,"onUpdate:value":o=>l.setting.timing=o,options:n.animateJsEasingOptions},null,8,["value","onUpdate:value","options"])]),_:2},1024),e(d,{label:"时长"},{default:t(()=>[e(m,{value:l.setting.duration,"onUpdate:value":o=>l.setting.duration=o,size:"small",min:.1,"show-button":!1,style:{width:"90px"}},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[54]||(a[54]=[s("秒")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)],64)):M("",!0),l.actionType===n.ActionTypeEnum.ROTATE?(p(),_(A,{key:8},[e(d,{label:"循环更新"},{default:t(()=>[e(x,{checked:l.setting.infinite,"onUpdate:checked":o=>l.setting.infinite=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(d,{label:"来回展示"},{default:t(()=>[e(x,{checked:l.setting.alternate,"onUpdate:checked":o=>l.setting.alternate=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"]),e(r,{depth:3},{default:t(()=>a[55]||(a[55]=[s("(开启循环更新后生效)")])),_:1})]),_:2},1024),e(d,{label:"设置"},{default:t(()=>[e(n.SettingItemBox,{hideLeft:!0,style:{margin:"0"},itemRightStyle:{gridTemplateColumns:"1fr 1fr 1fr"}},{default:t(()=>[e(n.SettingItem,{name:"Z轴(平面) - 旋转"},{default:t(()=>[e(u,{value:l.setting.rotateZ,"onUpdate:value":o=>l.setting.rotateZ=o,"default-value":0,min:0,max:360,step:3,"format-tooltip":n.sliderFormatTooltipByAngle},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.rotateZ,"onUpdate:value":o=>l.setting.rotateZ=o,size:"small",min:0,max:360,step:1,precision:0},null,8,["value","onUpdate:value"])]),_:2},1024),e(n.SettingItem,{name:"X轴 - 旋转"},{default:t(()=>[e(u,{value:l.setting.rotateX,"onUpdate:value":o=>l.setting.rotateX=o,"default-value":0,min:0,max:360,step:3,"format-tooltip":n.sliderFormatTooltipByAngle},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.rotateX,"onUpdate:value":o=>l.setting.rotateX=o,size:"small",min:0,max:360,step:1,precision:0},null,8,["value","onUpdate:value"])]),_:2},1024),e(n.SettingItem,{name:"Y轴 - 旋转"},{default:t(()=>[e(u,{value:l.setting.rotateY,"onUpdate:value":o=>l.setting.rotateY=o,"default-value":0,min:0,max:360,step:3,"format-tooltip":n.sliderFormatTooltipByAngle},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.rotateY,"onUpdate:value":o=>l.setting.rotateY=o,size:"small",min:0,max:360,step:1,precision:0},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(d,{label:"速度"},{default:t(()=>[e(g,{size:"small",value:l.setting.timing,"onUpdate:value":o=>l.setting.timing=o,options:n.animateJsEasingOptions},null,8,["value","onUpdate:value","options"])]),_:2},1024),e(d,{label:"时长"},{default:t(()=>[e(m,{value:l.setting.duration,"onUpdate:value":o=>l.setting.duration=o,size:"small",min:.1,"show-button":!1,style:{width:"90px"}},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[56]||(a[56]=[s("秒")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)],64)):M("",!0),l.actionType===n.ActionTypeEnum.SCALE?(p(),_(A,{key:9},[e(d,{label:"循环更新"},{default:t(()=>[e(x,{checked:l.setting.infinite,"onUpdate:checked":o=>l.setting.infinite=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(d,{label:"来回展示"},{default:t(()=>[e(x,{checked:l.setting.alternate,"onUpdate:checked":o=>l.setting.alternate=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"]),e(r,{depth:3},{default:t(()=>a[57]||(a[57]=[s("(开启循环更新后生效)")])),_:1})]),_:2},1024),e(d,{label:"设置"},{default:t(()=>[e(n.SettingItemBox,{hideLeft:!0,itemRightStyle:{gridTemplateColumns:"2fr 1fr 2fr"},style:{margin:"0"}},{default:t(()=>[e(n.SettingItem,{name:"X轴 - 缩放"},{default:t(()=>[e(u,{value:l.setting.scaleX,"onUpdate:value":[o=>l.setting.scaleX=o,o=>n.updatescaleX(o,l)],"default-value":0,min:.1,max:10,step:.1},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.scaleX,"onUpdate:value":[o=>l.setting.scaleX=o,o=>n.updatescaleX(o,l)],size:"small",min:.1,max:10,step:.1},null,8,["value","onUpdate:value"])]),_:2},1024),c("div",Pn,[e(x,{checked:n.scaleRelation,"onUpdate:checked":a[8]||(a[8]=o=>n.scaleRelation=o)},null,8,["checked"]),e(n.NIcon,{size:"16"},{default:t(()=>[e(n.LinkIcon)]),_:1})]),e(n.SettingItem,{name:"Y轴 - 缩放"},{default:t(()=>[e(u,{value:l.setting.scaleY,"onUpdate:value":[o=>l.setting.scaleY=o,o=>n.updatescaleY(o,l)],"default-value":0,min:0,max:10,step:.1},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.scaleY,"onUpdate:value":[o=>l.setting.scaleY=o,o=>n.updatescaleY(o,l)],size:"small",min:0,max:10,step:.1},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(d,{label:"速度"},{default:t(()=>[e(g,{size:"small",value:l.setting.timing,"onUpdate:value":o=>l.setting.timing=o,options:n.animateJsEasingOptions},null,8,["value","onUpdate:value","options"])]),_:2},1024),e(d,{label:"时长"},{default:t(()=>[e(m,{value:l.setting.duration,"onUpdate:value":o=>l.setting.duration=o,size:"small",min:.1,"show-button":!1,style:{width:"90px"}},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[58]||(a[58]=[s("秒")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)],64)):l.actionType===n.ActionTypeEnum.TRANSFORM?(p(),_(A,{key:10},[l.setting.transform===void 0||l.setting.transform===null?(p(),_("div",Hn," 当前组件版本不支持帧动画，请重新拖拽组件 ")):(p(),_("div",jn,[e(d,{style:{width:"600px"}},{default:t(()=>[e(v,{justify:"space-between",style:{width:"600px"}},{default:t(()=>[e(d,{label:"循环更新"},{default:t(()=>[e(x,{class:"go-ml-2",checked:l.setting.infinite,"onUpdate:checked":o=>l.setting.infinite=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(d,{label:"来回展示"},{default:t(()=>[e(x,{class:"go-ml-2",checked:l.setting.alternate,"onUpdate:checked":o=>l.setting.alternate=o,size:"small",label:"启用"},null,8,["checked","onUpdate:checked"])]),_:2},1024),e(d,{label:"延迟"},{default:t(()=>[e(m,{value:l.setting.delay,"onUpdate:value":o=>l.setting.delay=o,size:"small","show-button":!1,style:{width:"90px",position:"relative",left:"-20px"}},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[59]||(a[59]=[s("秒")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(O,{class:"transform-tab-box",type:"card",size:"small",value:n.transformTabBValue,"onUpdate:value":a[10]||(a[10]=o=>n.transformTabBValue=o),closable:"",hoverable:"","tab-style":"min-width: 80px;",addable:!0,onAdd:o=>n.addTransformHandle(l),onClose:o=>n.handleTransformActionTabClose(l),style:{flex:"1","max-width":"870px","margin-top":"-20px"}},{prefix:t(()=>[e(r,{depth:3,style:{"font-size":"12px"}},{default:t(()=>a[60]||(a[60]=[s("变换列表")])),_:1})]),default:t(()=>[(p(!0),_(A,null,H(l.setting.transform,(o,Z)=>(p(),D(k,{tab:`变换${Z+1}`,key:Z,name:Z,style:{width:"300px","padding-top":"20px"}},{default:t(()=>[e(d,{label:"移动"},{default:t(()=>[e(n.SettingItemBox,{hideLeft:!0,style:{margin:"0"}},{default:t(()=>[e(n.SettingItem,{name:"X轴"},{default:t(()=>[e(m,{value:o.relativeMoveX,"onUpdate:value":y=>o.relativeMoveX=y,step:"10",size:"small"},null,8,["value","onUpdate:value"])]),_:2},1024),e(n.SettingItem,{name:"Y轴"},{default:t(()=>[e(m,{value:o.relativeMoveY,"onUpdate:value":y=>o.relativeMoveY=y,step:"10",size:"small"},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(d,{label:"旋转"},{default:t(()=>[e(n.SettingItemBox,{hideLeft:!0,style:{margin:"0"},itemRightStyle:{gridTemplateColumns:"1fr 1fr 1fr"}},{default:t(()=>[e(n.SettingItem,{name:"Z轴(平面) - 旋转"},{default:t(()=>[e(u,{value:o.rotateZ,"onUpdate:value":y=>o.rotateZ=y,"default-value":0,min:0,max:360,step:3,"format-tooltip":n.sliderFormatTooltipByAngle},null,8,["value","onUpdate:value"]),e(m,{value:o.rotateZ,"onUpdate:value":y=>o.rotateZ=y,size:"small",min:0,max:360,step:1,precision:0},null,8,["value","onUpdate:value"])]),_:2},1024),e(n.SettingItem,{name:"X轴 - 旋转"},{default:t(()=>[e(u,{value:o.rotateX,"onUpdate:value":y=>o.rotateX=y,"default-value":0,min:0,max:360,step:3,"format-tooltip":n.sliderFormatTooltipByAngle},null,8,["value","onUpdate:value"]),e(m,{value:o.rotateX,"onUpdate:value":y=>o.rotateX=y,size:"small",min:0,max:360,step:1,precision:0},null,8,["value","onUpdate:value"])]),_:2},1024),e(n.SettingItem,{name:"Y轴 - 旋转"},{default:t(()=>[e(u,{value:o.rotateY,"onUpdate:value":y=>o.rotateY=y,"default-value":0,min:0,max:360,step:3,"format-tooltip":n.sliderFormatTooltipByAngle},null,8,["value","onUpdate:value"]),e(m,{value:o.rotateY,"onUpdate:value":y=>o.rotateY=y,size:"small",min:0,max:360,step:1,precision:0},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(d,{label:"缩放"},{default:t(()=>[e(n.SettingItemBox,{hideLeft:!0,itemRightStyle:{gridTemplateColumns:"2fr 1fr 2fr"},style:{margin:"0"}},{default:t(()=>[e(n.SettingItem,{name:"X轴 - 缩放"},{default:t(()=>[e(u,{value:o.scaleX,"onUpdate:value":[y=>o.scaleX=y,y=>n.updateTransformScaleX(y,o)],"default-value":0,min:.1,max:10,step:.1,precision:.1},null,8,["value","onUpdate:value"]),e(m,{value:o.scaleX,"onUpdate:value":[y=>o.scaleX=y,y=>n.updateTransformScaleX(y,o)],size:"small",min:.1,max:10,step:.1},null,8,["value","onUpdate:value"])]),_:2},1024),c("div",Yn,[e(x,{checked:n.scaleRelation,"onUpdate:checked":a[9]||(a[9]=y=>n.scaleRelation=y)},null,8,["checked"]),e(n.NIcon,{size:"16"},{default:t(()=>[e(n.LinkIcon)]),_:1})]),e(n.SettingItem,{name:"Y轴 - 缩放"},{default:t(()=>[e(u,{value:o.scaleY,"onUpdate:value":[y=>o.scaleY=y,y=>n.updateTransformScaleY(y,l)],"default-value":0,min:0,max:10,step:.1},null,8,["value","onUpdate:value"]),e(m,{value:o.scaleY,"onUpdate:value":[y=>o.scaleY=y,y=>n.updateTransformScaleY(y,l)],size:"small",min:0,max:10,step:.1},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),o.opacity||o.opacity===0?(p(),D(d,{key:0,label:"透明度"},{default:t(()=>[e(u,{value:o.opacity,"onUpdate:value":y=>o.opacity=y,"default-value":0,min:0,max:1,step:.1,precision:.1,"format-tooltip":n.sliderFormatTooltip},null,8,["value","onUpdate:value"])]),_:2},1024)):M("",!0),e(d,{label:"速度"},{default:t(()=>[e(g,{size:"small",value:o.timing,"onUpdate:value":y=>o.timing=y,options:n.animateJsEasingOptions},null,8,["value","onUpdate:value","options"])]),_:2},1024),e(d,{label:"时长"},{default:t(()=>[e(m,{value:o.duration,"onUpdate:value":y=>o.duration=y,size:"small",min:.1,"show-button":!1,style:{width:"90px"}},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[61]||(a[61]=[s("秒")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1032,["tab","name"]))),128))]),_:2},1032,["value","onAdd","onClose"])]))],64)):l.actionType===n.ActionTypeEnum.FILTER?(p(),_(A,{key:11},[e(d,{label:"设置"},{default:t(()=>[e(n.SettingItemBox,{hideLeft:!0,style:{margin:"0"},alone:!0},{default:t(()=>[e(n.SettingItem,{name:`色相：${l.setting.hueRotate}deg`},{default:t(()=>[e(u,{value:l.setting.hueRotate,"onUpdate:value":o=>l.setting.hueRotate=o,step:3,min:0,max:360,"format-tooltip":n.degFormatTooltip,style:{width:"214px"}},null,8,["value","onUpdate:value"]),c("div",qn,[e(v,{class:"pre-desc",align:"center"},{default:t(()=>[e(r,{depth:3,stye:"font-size: 10px;"},{default:t(()=>a[62]||(a[62]=[s(" 底色")])),_:1}),a[63]||(a[63]=c("div",null,null,-1))]),_:1}),c("div",Xn,[(p(!0),_(A,null,H(n.presetHueRotateList,(o,Z)=>(p(),_("div",{class:"item",key:Z,style:Pe({filter:`hue-rotate(${o.hueRotate}deg)`}),onClick:()=>l.setting.hueRotate=o.hueRotate},null,12,Gn))),128))])])]),_:2},1032,["name"])]),_:2},1024)]),_:2},1024),e(d,{label:" "},{default:t(()=>[e(n.SettingItemBox,{hideLeft:!0,style:{margin:"0"},itemRightStyle:{gridTemplateColumns:"1fr 1fr 1fr"}},{default:t(()=>[e(n.SettingItem,{name:`饱和度：${(parseFloat(String(l.setting.saturate))*100).toFixed(0)}%`},{default:t(()=>[e(u,{value:l.setting.saturate,"onUpdate:value":o=>l.setting.saturate=o,step:.1,min:0,max:2,"format-tooltip":n.sliderFormatTooltip},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.saturate,"onUpdate:value":o=>l.setting.saturate=o,size:"small",min:0,max:2,step:.1},null,8,["value","onUpdate:value"])]),_:2},1032,["name"]),e(n.SettingItem,{name:`对比度：${(parseFloat(String(l.setting.contrast))*100).toFixed(0)}%`},{default:t(()=>[e(u,{value:l.setting.contrast,"onUpdate:value":o=>l.setting.contrast=o,step:.1,min:0,max:2,"format-tooltip":n.sliderFormatTooltip},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.contrast,"onUpdate:value":o=>l.setting.contrast=o,size:"small",min:0,max:2,step:.1},null,8,["value","onUpdate:value"])]),_:2},1032,["name"]),e(n.SettingItem,{name:`亮度：${(parseFloat(String(l.setting.brightness))*100).toFixed(0)}%`},{default:t(()=>[e(u,{value:l.setting.brightness,"onUpdate:value":o=>l.setting.brightness=o,step:.1,min:0,max:2,"format-tooltip":n.sliderFormatTooltip},null,8,["value","onUpdate:value"]),e(m,{value:l.setting.brightness,"onUpdate:value":o=>l.setting.brightness=o,size:"small",min:0,max:2,step:.1},null,8,["value","onUpdate:value"])]),_:2},1032,["name"])]),_:2},1024)]),_:2},1024)],64)):l.actionType===n.ActionTypeEnum.TO_CANVAS_PAGE?(p(),D(d,{key:12,label:"选择大屏"},{default:t(()=>[e(g,{value:l.setting.linkCanvasPage,"onUpdate:value":o=>l.setting.linkCanvasPage=o,options:n.pageList,placeholder:"请选择大屏"},null,8,["value","onUpdate:value","options"])]),_:2},1024)):l.actionType===n.ActionTypeEnum.TO_LINK?(p(),_(A,{key:13},[e(d,{label:"链接地址"},{default:t(()=>[e(B,{value:l.setting.link,"onUpdate:value":o=>l.setting.link=o,placeholder:"请输入内容",type:"textarea",autosize:{minRows:3,maxRows:10}},null,8,["value","onUpdate:value"])]),_:2},1024),e(d,{label:" "},{default:t(()=>[e(x,{checked:l.setting.linkOpenWindow,"onUpdate:checked":o=>l.setting.linkOpenWindow=o,size:"small",label:"打开新页面"},null,8,["checked","onUpdate:checked"])]),_:2},1024)],64)):l.actionType===n.ActionTypeEnum.PLAY_THEATRE_STUDIO?(p(),_(A,{key:14},[],64)):l.actionType===n.ActionTypeEnum.PAUSE_THEATRE_STUDIO?(p(),_(A,{key:15},[],64)):l.actionType===n.ActionTypeEnum.UPDATE_CONFIG?(p(),_(A,{key:16},[(V=l.setting.componentConfig)!=null&&V.id?(p(),_("div",Kn,[l.setting.componentConfig.chartConfig.key==="Image"?(p(),D(He(l.setting.componentConfig.chartConfig.conKey),{key:0,optionData:l.setting.componentConfig.option,targetData:l.setting.componentConfig},null,8,["optionData","targetData"])):(p(),D(He(l.setting.componentConfig.chartConfig.conKey),{key:1,optionData:l.setting.componentConfig.option},null,8,["optionData"]))])):M("",!0)],64)):M("",!0),l.actionType!==n.ActionTypeEnum.TRANSFORM?(p(),D(d,{key:17,label:"延迟"},{default:t(()=>[e(m,{value:l.setting.delay,"onUpdate:value":o=>l.setting.delay=o,size:"small","show-button":!1,style:{width:"90px"}},{suffix:t(()=>[e(r,{depth:3},{default:t(()=>a[64]||(a[64]=[s("秒")])),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)):M("",!0)]}),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["tab","name"]))),128))]),_:1},8,["value"])])):(p(),_("div",Wn,[a[67]||(a[67]=c("img",{src:Ae,alt:""},null,-1)),e(r,{depth:3},{default:t(()=>a[65]||(a[65]=[s("暂无事件")])),_:1}),e(E,{size:"large",type:"primary",secondary:"",onClick:n.handleAdd},{default:t(()=>a[66]||(a[66]=[s("新增事件")])),_:1})]))]}),_:1})]),_:1},8,["show","style"]),e(J,{class:"go-background-filter",draggable:"",show:n.codeShowModal,"onUpdate:show":a[15]||(a[15]=N=>n.codeShowModal=N),"mask-closable":!1},{default:t(()=>[e(T,{bordered:!1,role:"dialog",size:"small","aria-modal":"true","content-style":"padding: 0",style:{width:"880px",height:"600px"}},{header:t(()=>[e(v,null,{default:t(()=>[e(r,null,{default:t(()=>a[72]||(a[72]=[s("编辑过滤器")])),_:1})]),_:1})]),action:t(()=>[c("div",Zn,[e(n.NTag,{bordered:!1,type:"primary",style:{"border-radius":"5px"}},{icon:t(()=>[e(n.NIcon,{component:n.DocumentTextIcon},null,8,["component"])]),default:t(()=>[a[73]||(a[73]=s(" 说明 "))]),_:1}),e(v,{vertical:"",align:"start",size:"small",class:"go-ml-4 go-fs-13"},{default:t(()=>[e(r,{depth:"2"},{default:t(()=>a[74]||(a[74]=[s("window.$globalExposeFunction 下面的方法可以获取/编辑组件配置，或切换页面等。")])),_:1}),e(r,{depth:"2"},{default:t(()=>a[75]||(a[75]=[s("return true 表示执行后续动作，return false 后续动作不执行。")])),_:1})]),_:1}),e(E,{class:"go-px-4",style:{"margin-left":"auto"},type:"primary",size:"medium",onClick:a[14]||(a[14]=N=>n.codeShowModal=!1)},{default:t(()=>a[76]||(a[76]=[s(" 确认 ")])),_:1})])]),default:t(()=>[e(R,{style:{margin:"0"}}),c("div",Qn,[e(n.MonacoEditor,{modelValue:n.actionReactive.filter.custom,"onUpdate:modelValue":a[13]||(a[13]=N=>n.actionReactive.filter.custom=N),height:"460px",language:"javascript"},null,8,["modelValue"])])]),_:1})]),_:1},8,["show"])],64)}const $n=de(Tn,[["render",In],["__scopeId","data-v-9c060ba5"],["__file","index.vue"]]),ea={InputsTab:`根据点击不同的选项，这里数值会随dataset的value变化
例如: 当点击选项'1'时,执行后续动作
  if(eventData == '1') {
    return true;
  }`,InputsSelect:`根据选择不同的选项，这里数值会随dataset的value变化
例如: 当选中选项'1'时,执行后续动作
  if(eventData == '1') {
    return true;
  }`,InputsNumber:"根据输入不同的值，这里数值会随dataset变化",InputsInput:"根据输入不同的值，这里数值会随dataset变化",InputsDate:"根据选择不同的时间，这里数值会随dataset变化"},ta=re({__name:"index",setup(j,{expose:a}){a(),Lt(T=>({e20bf9d0:E.value}));const b={ACTION:"action",INTERACTION:"interaction",BASE:"base",ADVANCED:"advanced"},n=[{key:b.ACTION,label:"交互"},{key:b.INTERACTION,label:"关联"},{key:b.BASE,label:"基础事件"},{key:b.ADVANCED,label:"高级事件"}],{targetData:W}=pe(),z=X(b.ACTION),r=qe(),E=se(()=>r.getAppTheme),h={keyEnum:b,enumList:n,targetData:W,active:z,designStore:r,themeColorString:E,clickHandle:T=>{z.value=T.key},get ChartEventInteraction(){return Wt},get ChartEventAdvancedHandle(){return vn},get ChartEventBaseHandle(){return An},get ChartEventAction(){return $n}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),na={class:"setting-content"},aa={class:"enum-box"},la=["onMousedown"],oa={class:"content-box"},ua={class:"content-layout"};function sa(j,a,b,n,W,z){const r=f("n-text"),E=f("n-divider");return p(),_("div",na,[c("div",aa,[(p(),_(A,null,H(n.enumList,v=>c("div",{class:zt(["item go-transition-quick",{active:n.active===v.key,hide:v.key===n.keyEnum.INTERACTION&&!n.targetData.interactActions}]),key:v.key,onMousedown:h=>n.clickHandle(v)},[e(r,{class:"text",depth:n.active===v.key?1:2},{default:t(()=>[s(S(v.label),1)]),_:2},1032,["depth"])],42,la)),64))]),c("div",oa,[c("div",ua,[e(r,{depth:"3",style:{"font-size":"13px","user-select":"text"}},{default:t(()=>[a[0]||(a[0]=s(" 组件 ID： ")),e(r,null,{default:t(()=>[s(S(n.targetData.id),1)]),_:1})]),_:1}),e(E,{style:{margin:"10px 0"}}),n.active===n.keyEnum.ACTION?(p(),D(n.ChartEventAction,{key:0})):n.active===n.keyEnum.INTERACTION?(p(),D(n.ChartEventInteraction,{key:1})):n.active===n.keyEnum.BASE?(p(),D(n.ChartEventBaseHandle,{key:2})):n.active===n.keyEnum.ADVANCED?(p(),D(n.ChartEventAdvancedHandle,{key:3})):M("",!0)])])])}const Ha=de(ta,[["render",sa],["__scopeId","data-v-cc992e15"],["__file","index.vue"]]);export{Ha as default};
