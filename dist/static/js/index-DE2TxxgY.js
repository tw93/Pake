import{Y as k,Z as w,u as B}from"./index-B2h3DCGB.js";import{d as x,r as g,_ as S,U as u,b6 as F,c as _,o as c,s,t as E,w as a,q as o,X as l,W as M,V as b,bP as I,aI as V}from"./index-DzJUk-4s.js";import{g as h}from"./plugin-BZaVEG5Y.js";import{M as z}from"./index-DumZb7Zp.js";import{i as N}from"./icon-Bt2TghsQ.js";import"./file-BoGdIhh5.js";import"./systemStore-CDAOEx2u.js";import"./index-YIaHLc6Z.js";import"./fileTypeEnum-22QBGXO_.js";const P=x({__name:"CSSEditSetting",props:{canvasConfig:{type:Object,required:!0}},setup(v,{expose:e}){e();const n=v,{EditIcon:t}=N.carbon,i=g(!1),d=g(""),m={props:n,EditIcon:t,showDataModal:i,editorCode:d,saveDataFn:()=>{n.canvasConfig.cssCode=d,i.value=!1},showModalFn:()=>{d.value=n.canvasConfig.cssCode||"",i.value=!0},closeDataModal:()=>{h({message:"确定不保存修改内容，关闭弹窗？",onPositiveCallback:async()=>{try{i.value=!1}catch(C){}}})},SettingItemBox:w,SettingItem:k,MonacoEditor:z};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),j={key:0,class:"drag-modal drag-box go-background-filter"},q={class:"head-box"},O={class:"content-box"},A={key:0,class:"code-placeholder-box"},T={class:"bottom-box"},U={class:"btn-box"};function R(v,e,n,t,i,d){const p=u("n-icon"),r=u("n-text"),f=u("n-button"),m=u("n-space"),C=F("dragModal"),y=F("resizable");return c(),_("div",null,[s(t.SettingItemBox,{name:"样式",alone:!0},{default:a(()=>[s(t.SettingItem,{name:""},{default:a(()=>[o("div",{class:"edit-btn",onClick:t.showModalFn},[s(p,{style:{position:"relative",top:"2px"}},{default:a(()=>[s(t.EditIcon)]),_:1}),e[1]||(e[1]=l(" 点击编辑代码 "))])]),_:1})]),_:1}),(c(),E(I,{to:"body"},[t.showDataModal?M((c(),_("div",j,[e[7]||(e[7]=o("div",{class:"drag-overlay"},null,-1)),o("div",q,[s(r,null,{default:a(()=>e[2]||(e[2]=[l("样式编辑器")])),_:1})]),o("div",O,[s(t.MonacoEditor,{modelValue:t.editorCode,"onUpdate:modelValue":e[0]||(e[0]=D=>t.editorCode=D),height:"100%",language:"css"},null,8,["modelValue"]),t.editorCode?b("",!0):(c(),_("div",A,e[3]||(e[3]=[o("div",{class:"code-row"},[o("div",{class:"code-comment"},"/* 编辑 CSS 样式 */")],-1),o("div",{class:"code-row"},[o("span",{class:"code-label"},"div"),o("span",{class:"code-space"}),o("span",{class:"code-bracket"},"{")],-1),o("div",{class:"code-row"},[o("span",{class:"code-space"}),o("span",{class:"code-space"}),o("span",{class:"code-property"},"color:"),o("span",{class:"code-space"}),o("span",{class:"code-value"},"red"),o("span",{class:"code-space"}),o("span",{class:"code-important"},"!important"),o("span",{class:"code-end"},";")],-1),o("div",{class:"code-row"},[o("span",{class:"code-bracket"},"}")],-1)])))]),o("div",T,[s(r,{class:"go-px-3",depth:3},{default:a(()=>e[4]||(e[4]=[l("提示：可修改内置组件样式，字体大小、引入新字体等。")])),_:1}),s(m,{"wrap-item":!1},{default:a(()=>[o("div",U,[s(f,{onClick:t.closeDataModal},{default:a(()=>e[5]||(e[5]=[l(" 关闭 ")])),_:1}),s(f,{type:"primary",onClick:t.saveDataFn},{default:a(()=>[s(r,{class:"go-px-3"},{default:a(()=>e[6]||(e[6]=[l("保存")])),_:1})]),_:1})])]),_:1})])])),[[C,{dragDiv:".head-box"}],[y]]):b("",!0)]))])}const W=S(P,[["render",R],["__scopeId","data-v-f966d523"],["__file","CSSEditSetting.vue"]]),X=x({__name:"index",setup(v,{expose:e}){e();const n=B(),{editCanvasConfig:t}=V(n),d={chartEditStore:n,editCanvasConfig:t,editContent:()=>{},CSSEditSetting:W};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),Y={class:"canvas-edit-code-box"},Z={class:"list-item-box"},G={class:"list-top"},H={key:0,class:"list-item-left"},J={class:"code-model-box"};function K(v,e,n,t,i,d){const p=u("n-text"),r=u("n-code");return c(),_("div",Y,[s(t.CSSEditSetting,{canvasConfig:t.editCanvasConfig},null,8,["canvasConfig"]),o("div",Z,[o("div",G,[s(p,{class:"title",depth:2,style:{"font-size":"13px"}},{default:a(()=>e[0]||(e[0]=[l(" CSS 代码 ")])),_:1})]),e[3]||(e[3]=o("div",{class:"divider-bg"},null,-1)),o("div",{class:"list-item go-transition-quick",onClick:t.editContent},[t.editCanvasConfig.cssCode?(c(),_("div",H,[o("div",J,[s(r,{code:t.editCanvasConfig.cssCode,language:"css","word-wrap":!0,style:{"font-size":"12px"}},null,8,["code"]),e[1]||(e[1]=o("div",{class:"code-model"},null,-1))])])):(c(),E(p,{key:1,depth:"3"},{default:a(()=>e[2]||(e[2]=[l("「暂无内容」")])),_:1}))])])])}const de=S(X,[["render",K],["__scopeId","data-v-90ad6f56"],["__file","index.vue"]]);export{de as default};
