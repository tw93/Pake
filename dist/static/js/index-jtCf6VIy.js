var ut=Object.defineProperty,ft=Object.defineProperties;var ht=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var gt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var U=(t,e,i)=>e in t?ut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,y=(t,e)=>{for(var i in e||(e={}))gt.call(e,i)&&U(t,i,e[i]);if(Z)for(var i of Z(e))At.call(e,i)&&U(t,i,e[i]);return t},W=(t,e)=>ft(t,ht(e));import{K as L,cG as pt,aU as Pt,cH as St,aa as X,r as F,R as j,d as Ct,e as bt,A as vt,D as kt,b1 as V,cI as q,cJ as xt,E as I,aw as mt,_ as Et,U as x,t as K,o as T,w as m,s as k,W as Y,q as B,X as z,$ as _,V as wt}from"./index-DzJUk-4s.js";import{i as Ot}from"./icon-Bt2TghsQ.js";import{r as Bt}from"./file-BoGdIhh5.js";import{a5 as Mt,a6 as Ht,a7 as $,a8 as Ft}from"./index-B2h3DCGB.js";import Gt from"./config-4CXe4sys.js";import Rt from"./config-Df8FU9mm.js";import{u as st,h as tt}from"./systemStore-CDAOEx2u.js";import{F as et}from"./fileTypeEnum-22QBGXO_.js";import{J as jt,_ as Lt}from"./svip-tip-BogTL7q_.js";let D={};const g={createPathKey:function(t){t&&("path"in t||(t.path={isClosed:t.isClosed,points:t.points||[],frame:t.frame}))},color:function(t){return`rgba(${Math.round(t.red*255)},${Math.round(t.green*255)},${Math.round(t.blue*255)},${t.alpha==null?1:t.alpha})`},isSquare:function(t,e,i,o){let n=(d,u)=>(d.x-u.x)*(d.x-u.x)+(d.y-u.y)*(d.y-u.y),s=n(t,e),a=n(t,i),r=n(t,o);if(n(t,e),n(e,i),n(i,o),n(o,t),s==a&&2*s==r){let d=n(e,o);return d==n(i,o)&&d==s}if(a==r&&2*a==s){let d=n(e,i);return d==n(e,o)&&d==a}if(s==r&&2*s==a){let d=n(e,i);return d==n(i,o)&&d==s}return!1},isSqu:function(t){if(t.path.points.length!==4)return!1;const e=t.path.points.map(o=>this.toPoint(o.point,t));return this.isSquare(e[0],e[1],e[2],e[3])},isCircle:function(t){var o,n;if(!((o=t.path)!=null&&o.points)||((n=t.path)==null?void 0:n.points.length)!==4)return!1;const e=this.isSqu(t),i=t.path.points.filter(s=>s.hasCurveTo===!0).length===4;return!!(e&&i)},isRect(t){const e=t.path;if(e.points.length!==4)return!1;const i=e.points.map(o=>this.toPoint(o.point,t));if(i.length===4){const o=this.IsRectangleAnyOrder(i[0],i[1],i[2],i[3]),n=e.points.filter(s=>s.hasCurveTo===!0).length>0;return o&&!n}return!1},IsRectangleAnyOrder(t,e,i,o){return this.IsRectangle(t,e,i,o)||this.IsRectangle(e,i,t,o)||this.IsRectangle(i,t,e,o)},IsRectangle(t,e,i,o){return this.IsOrthogonal(t,e,i)&&this.IsOrthogonal(e,i,o)&&this.IsOrthogonal(i,o,t)},IsOrthogonal(t,e,i){return(e.x-t.x)*(e.x-i.x)+(e.y-t.y)*(e.y-i.y)===0},toPoint(t,e){if(!t)return{x:0,y:0};let i=1,o=1;return e&&(i=e.frame.width,o=e.frame.height),t=t.substring(1),t=t.substring(0,t.length-1),t=t.split(","),{x:Number(t[0].trim())*i,y:Number(t[1].trim())*o}},getStyleString(t){let e=[];for(let i in t)t[i]!==null&&t[i]!==void 0&&e.push(`${i}: ${t[i]}`);return e=e.join(";"),e},assign(t,e){let i={};for(let o in t)t[o]!==void 0&&t[o]!==null&&(i[o]=t[o]);for(let o in e)e[o]!==void 0&&e[o]!==null&&(i[o]=e[o]);return i},pxHandle(t){return t?`${t}px`:"0px"}},J=function(t,e={offsetX:0,offsetY:0}){const{offsetX:i,offsetY:o}=e;function n(l){return Number(l).toFixed(6).replace(/\.?0+$/,"")}function s(l){let[c,A]=l.substr(1,l.length-2).split(",").map(Number);return{x:c,y:A}}function a(l,c){let{x:A,y:h}=s(l);return A=c.frame.width*A+i,h=c.frame.height*h+o,{x:A,y:h}}let r={isClosed:t.isClosed,points:L.cloneDeep(t.points),frame:t.frame};if(!r.points||!r.points.length||!t.frame)return null;let{x:d,y:u}=a(r.points[0].point,r),f=`M${n(d)},${n(u)}`;r.isClosed&&r.points.push(r.points[0]);for(let l=1;l<r.points.length;++l){let c=l-1,{x:A,y:h}=a(r.points[c].curveFrom,r),{x:p,y:C}=a(r.points[l].curveTo,r),{x:P,y:b}=a(r.points[l].point,r);if(!r.points[c].hasCurveFrom&&!r.points[l].hasCurveTo){f+=`L${n(P)},${n(b)}`;continue}if(!r.points[c].hasCurveFrom&&r.points[l].hasCurveTo){f+=`Q${n(p)},${n(C)} ${n(P)},${n(b)}`;continue}if(r.points[c].hasCurveFrom&&!r.points[l].hasCurveTo){f+=`Q${n(A)},${n(h)} ${n(P)},${n(b)}`;continue}if(r.points[c].hasCurveFrom&&r.points[l].hasCurveTo){f+=`C${n(A)},${n(h)} ${n(p)},${n(C)} ${n(P)},${n(b)}`;continue}}return r.isClosed&&(f+="Z"),f},it=function(t,e){let i={};return t.borders&&t.borders.forEach(o=>{o.isEnabled&&(e._class=="text"?(i.textStrokeWidth=o.thickness,i.textStrokeColor=g.color(o.color)):(i.borderColor=g.color(o.color),i.borderWidth=o.thickness,i.borderStyle="solid",i.borderPosition=o.position))}),t.fills&&t.fills.forEach(o=>{if(o.isEnabled)if(o.image&&(i.backgroundImage=o.image._ref),i.gradient=o.gradient,o.fillType===1||o.fillType===2){const n=o.gradient,s={};s.gradientType=n.gradientType;const a=g.toPoint(n.to);a.x=a.x*e.frame.width,a.y=a.y*e.frame.height;const r=g.toPoint(n.from);r.x=r.x*e.frame.width,r.y=r.y*e.frame.height,s.stops=[];let d=s.angle=Math.atan(r.x-a.x)/(r.y-a.y)*180/Math.PI,u=e.frame.height/Math.cos(d);n.stops.forEach(h=>{const C={color:g.color(h.color),offset:1-h.position};s.stops.push(C)}),s.stops.reverse();let f=a.x*Math.sin(d),l=f+Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),c={color:s.stops[0].color,offset:f/u},A={color:s.stops[s.stops.length-1].color,offset:(l+f)/u};s.stops.forEach(h=>{h.offset=h.offset*(A.offset-c.offset)+c.offset}),s.stops.unshift(c),s.stops.push(A),i.linearGradient=s,i.linearGradientString=`linear-gradient(${s.angle}deg, ${s.stops.map(h=>h.color+" "+h.offset*100+"%").join(",")})`}else o.fillType===0&&(e._class=="text"?i.color=g.color(o.color):i.backgroundColor=g.color(o.color))}),e.backgroundColor&&e.hasBackgroundColor&&(i.backgroundColor=g.color(e.backgroundColor)),t.shadows&&t.shadows.forEach(o=>{o.isEnabled&&(i.boxShadow=`${o.offsetX}px ${o.offsetY}px ${o.blurRadius}px ${g.color(o.color)}`)}),i},Jt=t=>{D=t.images;const e=Kt(),i=Tt(t.pages);return e.pageConfig.pageList=i,e},Kt=()=>({editCanvasConfig:{},componentList:[],theatreAnimationConfig:{},requestGlobalConfig:L.cloneDeep(Ht),pageConfig:L.cloneDeep(Mt)}),Tt=t=>{const e=[];for(let i=0;i<t.length;i++){const o=t[i];e.unshift(...zt(o.name,o.layers))}return e},zt=(t,e)=>{const i=[];return e.forEach(o=>{if(o._class==="artboard"){const{name:n,do_objectID:s,frame:a,backgroundColor:r,hasBackgroundColor:d}=o,{width:u,height:f}=a;let l=$.background;d&&(l=g.color(r));const c=W(y({},$),{width:Math.round(u),height:Math.round(f),background:l});i.push({id:s,title:`${t||"未命名"}-${n}`,editCanvasConfig:c,componentList:Xt(o.layers,{x:0,y:0,rotation:0,isLocked:!1,isVisible:!0,clipPath:{hasClippingMask:!1,pathList:[]}},o)})}}),i},Xt=(t,e,i)=>{if(!t.length)return[];const o=[],n=L.cloneDeep(e);for(let s=0;s<t.length;s++)try{g.createPathKey(t[s]);const a=rt(t[s],i);if(a==="group"){const r=new pt;Q(r,t[s],e),r.chartConfig.title=t[s].name||"未命名",r.groupList=nt(t[s].layers,W(y({},e),{isLocked:t[s].isLocked,isVisible:t[s].isVisible,clipPath:n.clipPath}),t[s]),r.groupList.length&&o.push(r)}else a==="text"?o.push(at(t[s],n)):a==="shapePath"?o.push(lt(t[s],n)):(a==="path"||a==="group_path_remove_top")&&o.push(ct(!0,t[s],n,i,a));t[s].hasClippingMask&&t[s].isVisible&&(n.clipPath.pathList=[],n.clipPath.hasClippingMask=!0,n.clipPath.pathList.push({layer:{path:t[s].path,points:t[s].points,frame:t[s].frame},offsetX:t[s].frame.x-e.x,offsetY:t[s].frame.y-e.y}))}catch(a){console.log(a)}return o},nt=(t,e,i)=>{if(!t.length)return[];const o=[],n=L.cloneDeep(e);for(let s=0;s<t.length;s++)try{g.createPathKey(t[s]);const a=rt(t[s],i);a==="group"?(Qt(t[s],n),o.push(...nt(t[s].layers,{x:Math.round(t[s].frame.x+n.x),y:Math.round(t[s].frame.y+n.y),rotation:t[s].rotation+n.rotation,isLocked:t[s].isLocked,isVisible:t[s].isVisible,clipPath:n.clipPath},t[s]))):a==="text"?o.push(at(t[s],n)):a==="shapePath"?o.push(lt(t[s],n)):(a==="path"||a==="group_path_remove_top")&&o.push(ct(!1,t[s],n,i,a)),t[s].hasClippingMask&&t[s].isVisible&&(n.clipPath.hasClippingMask=!0,n.clipPath.pathList=[],n.clipPath.pathList.push({layer:{path:t[s].path,points:t[s].points,frame:t[s].frame},offsetX:0,offsetY:0}))}catch(a){console.log(a)}return o},rt=(t,e)=>{var n;if(t.layers&&t.layers.length)return t._class==="shapeGroup"?"group_path_remove_top":"group";if(t._class==="text")return"text";if(t._class==="shapePath"||t._class==="rectangle"){const s=t.style;if(s&&Pt(s.fills)&&((n=s.fills[0])!=null&&n.image))return"shapePath"}const i=g.isCircle(t),o=g.isRect(t);return t._class==="oval"&&!i||t._class==="rectangle"&&!o||t._class==="shapePath"||e&&e._class=="shapeGroup"&&e.childrens.length>1?"path":"no_type"},Qt=(t,e)=>{t.isVisible=e.isVisible&&t.isVisible},Q=(t,e,i)=>{var n,s,a,r;t.attr.w=Math.round(e.frame.width),t.attr.h=Math.round(e.frame.height),t.attr.x=Math.round(e.frame.x+i.x),t.attr.y=Math.round(e.frame.y+i.y);const o=Math.round(i.rotation+e.rotation);if(t.styles.rotateZ=o>0?360-o:Math.abs(o),e.isFlippedHorizontal&&(t.styles.rotateY=180),e.isFlippedVertical&&(t.styles.rotateX=180),t.status.lock=i.isLocked||e.isLocked,t.status.hide=i.isVisible?!e.isVisible:!0,e.style.contextSettings&&e.style.contextSettings.opacity!==1&&(t.styles.filterShow=!0,t.styles.opacity=e.style.contextSettings.opacity),(s=(n=e.style)==null?void 0:n.blur)!=null&&s.isEnabled&&((r=(a=e.style)==null?void 0:a.blur)==null?void 0:r.type)===0&&(t.styles.filterShow=!0,t.styles.blur=e.style.blur.radius),e.style.contextSettings&&e.style.contextSettings.blendMode)switch(t.styles.filterShow=!0,e.style.contextSettings.blendMode){case 0:t.styles.blendMode="normal";break;case 1:t.styles.blendMode="darken";break;case 2:t.styles.blendMode="multiply";break;case 3:t.styles.blendMode="color-burn";break;case 4:t.styles.blendMode="lighten";break;case 5:t.styles.blendMode="screen";break;case 6:t.styles.blendMode="color-dodge";break;case 7:t.styles.blendMode="overlay";break;case 8:t.styles.blendMode="soft-light";break;case 9:t.styles.blendMode="hard-light";break;case 10:t.styles.blendMode="difference";break;case 11:t.styles.blendMode="exclusion";break;case 12:t.styles.blendMode="hue";break;case 13:t.styles.blendMode="saturation";break;case 14:t.styles.blendMode="color";break;case 15:t.styles.blendMode="luminosity";break}},at=(t,e)=>{var u,f,l,c,A,h;const i=new Ft;Q(i,t,e);const o=t.style.textStyle.encodedAttributes.MSAttributedStringFontAttribute.attributes.size,n=t.style.textStyle.encodedAttributes.paragraphStyle.maximumLineHeight,s=t.style.textStyle.encodedAttributes.kerning;if(i.option.dataset=t.attributedString.string||"",i.chartConfig.title=t.attributedString.string||"未命名",t.style.fills&&t.style.fills.length?i.option.fontColor=St(g.color(t.style.fills[0].color)):(u=t==null?void 0:t.attributedString)!=null&&u.attributes&&((l=(f=t==null?void 0:t.attributedString)==null?void 0:f.attributes)!=null&&l.length)&&(i.option.fontColor=g.color((h=(A=(c=t==null?void 0:t.attributedString)==null?void 0:c.attributes[0])==null?void 0:A.attributes)==null?void 0:h.MSAttributedStringColorAttribute)),i.option.fontSize=o,i.option.letterSpacing=Math.round(s),n&&(i.option.lineHeight=n),/^[0-9,]*$/.test(t.attributedString.string)){const p=t.attributedString.string.split(",").length;i.attr.w=Math.round(t.frame.width)+p}else{const p=t.attributedString.string.replace(/\\/g,"").includes(`
`);(i.attr.h<=i.attr.w||!p)&&(i.attr.w=Math.round(t.attributedString.string.length*(o+Math.round(s))))}i.option.paddingX=0,i.option.paddingY=0;let r="start";const d=t.attributedString.attributes[0].attributes.paragraphStyle.alignment;return d===0||d===3?r="start":d===1?r="end":r="center",i.option.textAlign=r,i},lt=(t,e)=>{const i=new Gt;Q(i,t,e),i.option.userCornerBorderRadius=!0,i.option.borderRadiusTopLeft=Math.round(t.points[0].cornerRadius),i.option.borderRadiusTopRight=Math.round(t.points[1].cornerRadius),i.option.borderRadiusBottomLeft=Math.round(t.points[2].cornerRadius),i.option.borderRadiusBottomRight=Math.round(t.points[3].cornerRadius);try{const o=t.style.fills[0].image._ref;o in D&&(i.option.dataset=D[o])}catch(o){console.log(o)}return i},yt=(t,e,i,o)=>{let n={color:i.color,fill:i.backgroundColor||"none",stroke:i.borderColor,"stroke-width":g.pxHandle(i.borderWidth),filter:i.boxShadow?`drop-shadow(${i.boxShadow})`:"none"};const s=i.borderWidth?Math.round(t.frame.width+i.borderWidth):Math.round(t.frame.width),a=i.borderWidth?t.frame.height+i.borderWidth:t.frame.height;let r={sourceWidth:s,sourceHeight:a,width:g.pxHandle(s),height:g.pxHandle(a)},d=Object.assign({},r,n);const u=i.borderWidth?e.frame.width+Math.round(i.borderWidth):e.frame.width,f=i.borderWidth?e.frame.height+Math.round(i.borderWidth):e.frame.height;let l={sourceWidth:u,sourceHeight:f,fill:e._class=="shapeGroup"&&o.backgroundColor||"none",stroke:o.borderColor,width:g.pxHandle(u),height:g.pxHandle(f),"stroke-width":o.borderWidth?o.borderWidth+"px":"1px"};return g.assign(l,d)},Wt=(t,e,i,o)=>{try{const n=N(e,i),s=dt(t,e,o);return`${s.defsString}<path d='${J(e)}' stroke-dasharray='${n}' ${s.clipPathAttribute}></path>`}catch(n){return console.log(n),""}},ot=(t,e,i,o,n,s,a="objectBoundingBox")=>{const r={fillId:"",defsString:"",pathString:""};let d={gradientType:0},u=e,f={},l=`${X()}_linearGradient`;if(d=o.linearGradient||n.linearGradient,f=o.linearGradient?o.gradient:n.gradient,o.backgroundColor)return r;if(d){const c=f.stops.map(G=>`<stop stop-color="${g.color(G.color)}" offset="${G.position}"/>`),{from:A,to:h}=f,{x:p,y:C}=g.toPoint(A),{x:P,y:b}=g.toPoint(h);let v="";d.gradientType===0?v=`<linearGradient gradientUnits='${a}' x1='${p*100}%' y1='${C*100}%' x2='${P*100}%' y2='${b*100}%' id='${l}'>
        ${c.join("")}
      </linearGradient>`:(d.gradientType===1||d.gradientType===2)&&(v=`<radialGradient gradientUnits='${a}' cx='${p*100}%' cy='${C*100}%' r='${P*100}%' fx='${p*100}%' fy='${C*100}%' id='${l}'>
        ${c.join()}
      </radialGradient>`);const S=N(u,i),E=dt(t,e,s);return{fillId:l,defsString:`<defs>${v}</defs>${E.defsString}`,pathString:`<path d='${J(u)}' stroke-dasharray='${S}' fill='url(#${l})' ${E.clipPathAttribute}></path>`}}else return r},N=(t,e)=>{var o,n;let i="";try{return(o=t.style.borderOptions)!=null&&o.isEnabled?i=t.style.borderOptions.dashPattern.join(" "):e._class=="shapeGroup"&&((n=e.style.borderOptions)!=null&&n.isEnabled)&&(i=e.style.borderOptions.dashPattern.join(" ")),i}catch(s){return console.log(s),i}},Dt=t=>{const e={maskId:"",defsString:"",maskAttribute:""};if(!t.length)return e;e.maskId=`${X()}_mask`,e.maskAttribute=`mask='url(#${e.maskId})'`;const i=t.map(o=>`<path d='${J(o.layerItem,o.offset)}' fill='#000000'/>`);return e.defsString=`<defs>
    <mask id='${e.maskId}'>
      <rect width='100%' height='100%' fill='#FFFFFF'/>
      ${i.join("")}
    </mask>
  </defs>`,e},dt=(t,e,i)=>{const o={clipPathId:"",defsString:"",clipPathAttribute:""},{clipPath:n}=i;if(!n||!n.hasClippingMask)return o;o.clipPathId=`${X()}_clipPath`;let s=[];n.pathList.forEach(d=>{const u=J(d.layer,{offsetX:t?d.offsetX-e.frame.x:0,offsetY:t?d.offsetY-e.frame.y:0});u&&s.push(u)});const a=s.join(""),r=`transform: translate(${-(e.frame.x+i.x)}px, ${-(e.frame.y+i.y)}px)`;return o.clipPathAttribute=`clip-path='url(#${o.clipPathId})'`,o.defsString=`<defs>
    <clipPath id='${o.clipPathId}' style="${t?"":r}">
      <path d='${a}'/>
    </clipPath>
  </defs>`,o},ct=(t,e,i,o,n)=>{const s=new Rt;Q(s,e,i),s.chartConfig.title=e.name||"未命名";const a=it(e.style,e),r=it(o.style,o),d=yt(e,o,a,r),u=a.borderWidth?`${-(a.borderWidth/2)} ${-(a.borderWidth/2)} ${d.sourceWidth} ${d.sourceHeight}`:"",f=u?`viewBox="${u}"`:"",l=`<svg id='${e.do_objectID}' version='1.1' xmlns='http://www.w3.org/2000/svg' class='${e._class}' style='${g.getStyleString(d)}' ${f}>`;let c="";if(n==="group_path_remove_top"){let p="",C={fillId:"",defsString:"",pathString:""};if(a.backgroundColor?p=`fill="${a.backgroundColor}"`:(C=ot(t,e,o,a,r,i.clipPath,"userSpaceOnUse"),p=`fill="url(#${C.fillId})"`),e.layers===1){const P=e.layers[0];g.createPathKey(P),c=C.defsString+C.pathString}else{const P=[];for(let b=0;b<e.layers.length;b++){const v=[],S=e.layers[b];g.createPathKey(S);const{x:E,y:G}=S.frame;for(let O=0;O<e.layers.length;O++)if(b!==O){const H=e.layers[O];g.createPathKey(H),v.push({layerItem:H,offset:{offsetX:H.frame.x,offsetY:H.frame.y}})}const w=Dt(v);P.push(w.defsString);const M=N(S,o),R=`<path d='${J(S,{offsetX:E,offsetY:G})}' ${p} ${w.maskAttribute} stroke-dasharray="${M}"/>`;P.push(R)}P.push(C.defsString),c=P.join("")}}else if(a.linearGradientString){const p=ot(t,e,o,a,r,i);c=p.defsString+p.pathString}else c=Wt(t,e,o,i);const h=l+c+"</svg>";return s.option.dataset=h,s},Nt=async(t,e=F(0))=>{if(!t.name.endsWith(".sketch"))return console.warn("文件格式错误"),!1;const o=st(),s=await new jt().loadAsync(t),a=async l=>{e.value=1;const c=await s.file(l);if(c){const A=await c.async("string");if(A)return{json:JSON.parse(A),size:c._data.compressedSize}}return!1};let r={pages:[],pagesSize:0,images:{}};e.value=5;const d=Object.keys(s.files).length;let u=0,f=0;for(let l in s.files){if(l.startsWith("pages/")&&l!=="pages/"){const c=await a(l);c&&(r.pages.push(c.json),f+=c.size)}u+=.5,e.value=u/d*95+5}if(r.pagesSize=f,f/1024/1024>5)return window.$message.warning("超出文件解析大小限制，请稍微减少内容数量再重新上传"),!1;for(let l in s.files){if(l.startsWith("images/")&&l!=="images/"){const c=await s.files[l].async("blob"),A=await Zt(o,l,c);r.images[l]=A}u+=.5,e.value=u/d*95+5}return e.value=100,r.pages.length?r:(console.warn("文件数据为空"),!1)},Zt=async(t,e,i)=>{const n=`sketch-file/${t.getUserInfo.id}/${e}`,a=await(await t.getSTSClient()).putObject({key:n,body:i});if(a.statusCode===j.SUCCESS)return a.url},Ut=Ct({__name:"index",props:{modalShow:{required:!0,type:Boolean}},emits:["update:modalShow"],setup(t,{expose:e,emit:i}){e();const o=i,n=t,{HelpOutlineIcon:s}=Ot.ionicons5,a=kt(),r=F(!1),d=F(),u=F(!1),f=F(0),l=F(1),c=F("process"),A=async({file:v})=>{d.value=[];const S=v.file.type;return!v.file.name.endsWith(".sketch")&&S!==et.TXT&&S!==et.JSON?(window.$message.warning("文件格式不支持，请重新上传！"),!1):!0},h=st(),p=bt(()=>h.getTeamInfo),C=async v=>{const{file:S}=v;if(!S.file)return;const E=S.name.substring(0,S.name.lastIndexOf("."));if(S.name.endsWith(".sketch")){try{if(!h.checkSVIP){window.$message.warning("请升级为 SVIP，可免费解析 Sketch 文件！");return}const w=await tt({});if(w.code===j.SUCCESS){if(w.data<1){window.$message.error("请升级为 SVIP，可免费解析 Sketch 文件！");return}}else return;const M=await Nt(S.file,f);if(M){l.value=2;const R=Jt(M),O=await V({projectName:"sketch项目",remarks:null,teamId:p.value.id,folderId:h.currentFolderId});if(O.code===j.SUCCESS){const H=await q({projectName:E||"sketch项目",projectId:O.data.id,content:xt(R)});H&&H.code===j.SUCCESS?(await tt({doneFile:!0}),window.$message.success("项目创建成功！"),a.emit(I.PROJECT_GET_DATA),P()):window.$message.error("项目数据保存失败，请稍后重试！")}}else c.value="error";setTimeout(()=>{f.value=0,P()},2e3)}catch(w){c.value="error",window.$message.error("项目解析失败，请联系管理员"),setTimeout(()=>{f.value=0},2e3),console.log(w)}return}mt(async()=>{if(S.file){window.$message.info("处理数据中..."),u.value=!0;try{const w=await Bt(S.file),M=X(),R=await V({projectName:M,remarks:null,teamId:p.value.id,folderId:h.currentFolderId});if(R.code===j.SUCCESS){const O=await q({projectName:E||M,projectId:R.data.id,content:w});O&&O.code===j.SUCCESS?(window.$message.success("项目创建成功！"),a.emit(I.PROJECT_GET_DATA)):window.$message.error("项目数据保存失败，请稍后重试！")}P()}catch(w){P(),window.$message.error("解析数据失败，请稍后重试！")}}else window.$message.error("解析数据失败，请稍后重试！")})};vt(()=>n.modalShow,v=>{r.value=v,v&&(u.value=!1)},{immediate:!0});const P=()=>{d.value=[],f.value=0,r.value=!1,o("update:modalShow",!1)},b={emit:o,props:n,HelpOutlineIcon:s,eventBus:a,showRef:r,uploadFileListRef:d,uploadLoading:u,progressValue:f,current:l,currentStatus:c,beforeUploadHandle:A,systemStore:h,teamInfo:p,customRequest:C,closeHandle:P};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),Vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAALiUExURUdwTP///////////5CzRP///////////////////////////////////////////////5CzRJGtPv///////////2uSF////////////////22SFmqSFmqTF5GzRJC0Q5CzRP///2uSGP///////2qSGGyRFmuRGJC0RP///2uRF////2yTFmyTF5G0QmyTF5G0RP///5GzRGuRGP///////2uSF////////////2uUFv///////////////////2uTF2uSF2uSF2yTGWmSFWqRF2qRGG2SF////5C0RZCzRI6zRZC0RJGzRP///464R////5C1RP///4+zRP///////////6nEbajDa////////+Pr0+nv25CzRP///8HH0GuSF6zGc8fYoePs0NHV3O/x8+ft2eHp0N/i58zR2Onw2sjZovH158nO1ufv17DJesLVmODqyvP19pe4UNXiuJ69W8jN1dfku9Dfr528WcXK083S2bbOhOvt8JS2S/v8/Jy7V+jr7vv7/MTJ0rzRjpO1SN7h5tXZ36nEbrXMgu7v8pW3TdHgstznxK/Id5e4T+fu1e/w8v7+/vr79vv898fM1Ofp7evx3dba4Jy7Wff3+bTLgLLLfc/T2srP1/39/cXL0/f58Zu7VtDU26K/YuTm67nPiO3z4ajEbOLrzt/pybHKe/z9+vX2+M/ervf68svbpsPWmf3+/PL26afCaenr79Lgs7zRj/j69KvFcbrQiubo7J+9XfX295m5U/T47fD15rvRjc3dqpG0Rsnapezu8cHVltPhtaPAZOLl6fX47qXBZ77Tkuzy4OXt073SkKTBZqXCaPP09q7HdarFcPT37aC+X+rw2+vx3u7z4sXXnfP36/f4+c7drfn6+8PWmsDUldnlv9rd49jc4cbYntvmwZW2S9znw/T19/z9/b7SkvLz9fDy9MTWnLPLf+Hk6OHqzKC+YNvnwtLW3dvf5JGzRftXJyUAAABddFJOUwCAneG/dIrRy9Vx3WzN1swiXgwHTYZwETU4S1JbV6Wh2g11i3lsaErFkXlDfU46Y4z3Zl/jSPwfvLtFwlyUrCv37/M0PetBOBlzykaV4AgSfXi1QBpl1/Xytmb6+/zd2ksAAAn5SURBVHja7Z1nXBRHFMBXjZhoLNH0bnrvzXQT03uvtzdyEOmQAAJWVJoCgpCIRk1AUZCAJaJiCWLBXqJGE2PsmhjT2/dw7s6W2dljdpZbH/fb942debPz35l5896bPVYQXHHFFVdcccWVVuWCrh3v697lFEvPfh27nm+HolfYXSIY6XTOvZwYfa8XgcmVfXg4zu4kgpNud1vn6CyClDOtcnQQgcpVITEelsfkQhGw3MjO0acbZJAe7CBhImjpwMrxNGwO8fbzGEFeBg4idmYE6QEdpDsbxyMieOnFBPIGfJAHmUAegg8SxgTyKnyQh5lATocP8kBoGC1R7MkEcgZ8kNNdEBYp+TRyYlSLRDLU9deb2Xx8JESQqMFeSVhA5KrewzvAgXyG+2YJxDsmEhjIJC8fiNc7EhTIKC83yL+gQP7B3Ro8LYIFJGIaXlHeeEggo3GnxrHrjIvnn1tBA6mT+zTKilKzrFQHCGSC3KfRPIYuEhCIvNaHWNOKkLQWAgKZKXUpmgtkJiCQDVKXIrhA/gAEskzq0jRrWjPgjchCrqk1TdJaBgikmWtvi+aw2UEGiZS69AkXCCSr9RGX+ZX3kWaAO7s1rXh4GyL2tT63pCX7jb8AAinhclE+kZR2AAIRx0h9+sGSUjk8pxE/XGt9GsJDH2QQ2QAd5xnG0ZBA5E36V0tK8sIqgQQiu00f8YwIKJDBNswvpMX+q5x5sKY1FJ7TOMlOPBK/HwrI6MNerhBpoqwWsQMCyPCZh4fiFJXFDpXg3NaQIxuGn3KQCDVnGMUZj1mflUEFiY+yvrYWzoAHMlHkkgnwRuQIR4BUFwVwanHErHXRgNZIziS1N1b3aMXcfZabA2EficQdsrhH4yz2EMvrK2g7u0ySy+UPjLEeIgY70xjPhZ8jwgHBHjlXFgVUzC4v+E95Qt39kEBmhEqEGM0zSwCeIeLp/hXPwgI1tcpt5LVApYPsZBq/AgTyc6jkfn8IlWz8cdnZ4EpPjgMEIqeDyrls9nBAIONC5QyR71Q3yAm6x9/n9n6HcmW+Oc7Z33u8dY6nnvjAesPyKxwzuBy0DdbvN+iJp1rjGNAfcYBssPMuCg8I6j8gMMeTjyEekIlc5+wR3ImkQQg99mQgjvsfRVwgE7g2RBlkAhcIevR+c45r70F8IPILA9bO/nd4eU6HFBB0z7VmHDcjxAmCz9lzLbjk+3O93GeIg6Se3kznuAhxg2BH1hs9KYftlXI1HVYucoOgi2gclyAbIDn87/3m2gBBlxg5LkZ2QOrKuUEW2gFBF5McdyJbIMrKtQwSJdoCQXfqOW5FNkHEyFwekKF8pxEaEHSrluMaZBukBWVU1JGIFmF6pbxFcnOWNXPeSguCrlE5rkZtAeKg6EDQ1ZjjXNS+QdC5EscVqL2DoCv8HDeg9g+CbhCEm1AogKCbBE+IiAvigrggLogL4oK4IC6IC+KCtB1IOBayIO+A79umii9L42Jq9m0bGKCF/C8KircsmFvy8a6q4pSlqab3iI0db3bztgCJlUMBn+5qasFefaQQt2o9XX9lYa2+ZvFiQx1c9J1JQZuAhNNAknYZg56KnRTtKT5KeBSz2ARE/C2IILQRSaPHb8b7pZtEeoVFdBAx1dER2WcWic4ndGtMY9amDDrIMSdHJNw8pl7CyNEieVQQ8XfnQPLjNPedm1C2V7OYa7SamwMnEvKpIE3OTa2D+J6lKYmTpSsq2jBVcZime8cO5KVmN349JT1GveajgohrHAMpxp1TF2YjviYWKNeSq5S+bU1U95R5NNugG6n1ToE0SH83aCtVl2IbrFxSe7xI194XG/H1BclUkBqH1shyvBnoas0j7eemWjOj/PUCXJJEBRFnOTMiedRVuQn3IpHgFxOyyRa3KRv5airIrv8cGZFUfL+xumqzC1PS18zPGou39wRcbaqxyRqyCcKe7XNkRLLVxZpprvWXSHXRCHu2St9fvNDEagIkNiiLfbZCsiJ8iZlWEq6zklaKjXCCvr8+A31QrdZK7SzYUzA2maal9Ik6autwabIeRHlG2xzxtQjPo6Fw7SaD1hbimetlLdbdqQepVtrMdwJkidHdKNtHRFZzDetWK4lYb4oexLOK2HuC7P1m0Vwn34lGtcZqMWAXthNbhnKL1XF69zOoi91/7WMaSpzqaE0PDDIZF28mQFSDluBMhLj9ENWhnaPs3oFBRuDi70kQzzFctNYRkJZHl0AjSSG2f+sgu3FR7XRnQFqe+tqaWgOJvMVl8E4tj+c3XJbmFIh/KcxKW0GQ7LS12LW7pd9tcwrEP0umzqnSgqyTLm8kVw2b+fXLTly4xVEQv3wTvkcBKU3VPdYyqsJRkw1R+msRLj0aFJBAjXlGzBf1Hq2SMMqgVU/BpY00kOQGXLy8LUHmGBorWl6dmEW2vVlnNtU9M6DTWOahgaje3N/8IOOHHYwtqKmqVaOIn/SN+bZUSHEqoZiJb55+8s9KJjc+nQ6icbC5QZIM4WaMvrE1Zm6tTx9yV7EEVktNQDbZB1lKhtOK/QknDE4WoVmqdxPDGULdFZkmIJrMBS9IIpnKaCSeXlEFTqrn6w8ZiPA1c4VZLxKN/TNOwya7IOsVg0F6upWkxUnR6iUrHstuQ2J1Hd1iqQNCAfndLogyQz6cLtlVPJ/jcIWpSvMFlYpWfaFhcWfuoSXoUv8MkKDTGoZDdkGUnGHMsGxPdt5WY5Ztq7r5rdk+wu+ofLNOvedB1QBqepJ2cgvfPWvOd4FSplqQDLsgB1X12pgv1T6ricyp+vOBhArtn6WaDXCxruLe4o2tJbF91PQFJ0jyAmqkMY86y1s565lt8VjBR901eXf2sbS7lml3jRGz2ThMT7bMDnr0IEtsgnhOUOJxvcc0uYyNw+OZb+nojfACCmyCGE+kiNu2zD/q4ZtvvLGtatqg7NlMP/MkQH5ssAniSTwU8Az2ZJVF5LluVZKJ91ZTSlQ8WuRhAlHcDBveb/0ByXWqbdq62KRK0ZR52L3aGJOWVRnAxx/4va/ppAGs+JZe0ey9AP9bBLZfGMjOqK/PbK1S8vL6vIzVTOHA9OrKHz1BEPelGhfEBXFBXJBTA3JdaHA8K9wWGiDPC2eFBshZwkuXhwLHdb2F0BiSW/y/37u0/XPcJv2i8pX2znEZ/o3rc+16nbxwh/qr496vPXPpaVjeGghe3lY6e9kdt/Q2+x8WPeH/MpTtU5vvwAdh+/hpyHyO9l34IGwfCA6ZTzYLb0LnYPyIttABOgjrZ81fB87B/KF5IQw2SAdWDuHFbpA5egjsciFkkBstgAid4XKcKVgSsJbrKsGidA6J8fDL2Z3gYXS7W+CQvtdD47iyj8AnvcLugkPR6Zx7BRtyQdeO93XvcoqlZ7+OXc8XXHHFFVdcccWVVuV/tH2wGfHLIT8AAAAASUVORK5CYII=",qt="data:image/png;base64,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",It="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAL6UExURUdwTP+uAP+7APJ/APF9APB6AP+wAO90AO93APF7AO5xAPqcAPOCAPB4AO52AP+uAP+vAPB1AP7HA/+uAP+uAPKAAP/FA/+3APKAAPSIAP7JA/F7APGBAO5wAPSHAPSKAPJ/APaGAPODAPOFAP+uAPaIAP+uAPOHAPSJAPWMAP7JA+5yAPOGAPOGAPKDAPSGAPeRAP+uAPB9APeIAPSNAP+uAPODAP/DAv7NBP/NAP+uAP/AA/KBAPWJAPaQAPF+AP+4AP+uAPWKAPWJAP+uAP+uAPKBAPSFAPSIAPSMAPSHAP/IA/+uAP+8AP+vAPSIAP+uAP+vAP/DA/+uAP+6APSHAP7LBP+uAP7LBP+vAP+uAP7EA//DAvOCAPSHAP+/AP+uAP/FBPSGAP+uAP/EA/+vAPOIAP7JA/+uAP+vAP7GA/WLAPSKAP/DBP+vAP/FA//CAu97APSEAPOGAP+uAPWJAP7BA/+tAPSKAP7LBPF9AP7DAv7EA/+uAP3EA//DA/+uAP+vAP7BA/+vAP+/BfSDAP+/BP+vAP/MGfKAAPiWAPiTAPqhAP7NBP/EA/+vAP/DA//DA/+vAP+uAP/BA/+tAP+vAP/DA/7GBP/CAvSKAP+qAP7HBP7FA/+vAPKFAPzBA/+vAP7TBf+uAOxsAP/vtP7gkP6qAP7QBP7SBe1vAPF8AP7NBPqbAPqeAP/GA/iVAPOEAPB3AP+zAP+vAPWLAPSJAP2mAPKAAPF+AP+4Af+8Au5zAP/JA+91APmZAPB5APKCAPeTAP/ODPufAPuiAPmXAP/QK/+tAP7RCPyjAP/SNfeRAP/LBPaPAP/OIv/OGf61Av/OEv/YVP/bYvSGAP7QH//PF//UQv6/Av/PCP/use1xAP/trP/PEP2oAO1tAP/onP/jhvaOAP/kiv/nmf/SOf/RKf/VRP/XUf/ec/7VRv/aX/7CA/7DA//gdv/pnv/bZP7XT//kif/CA//DA//edP++Av/OBP/rqf7TYP/geP/TM//ecNe4LGoAAACidFJOUwD0Adjg7xb79ev9CL3y9/sU+d3fKdHGHctt7ejP/o9N1RzBsHU7+ItjNfH8lJi0nBbZ4w9Btqxp+wXkXsh8KNwMSCRT7cTFqC9cheKREc5IrjuQpiZ3+vD4v5qmhbhzMVbQoG+aXoHoyYjKZ3FAWreA5rakoWhKaVn15XauYaKM0tPwfzahPJbP7/xomv2/ULKru6pS6nyu13BGP9W+5nlWuSys8t8AAAnPSURBVHja7Zx3dFRFFMYnITESSgxFQaqggAioqIBUKQKCBVBU7L0r9t57772bcWQTApIQEBACJBBKkCQQQEGRLiiCvXuOKWzc2Tflzntz32447/cH53DI3Hs/bvbtnZlvl5CAgICAgICAgICAACsc+3Cfc85+/PGzz+nz8LG1sf6Tru055rX9Gx14ZnZmRkbGli0Vf4Syzzyw0f4v3Nfz2pPiv/4Dbr3rkvEXjuzcK1RZf5jdjO2O+Gtm9umdR171/Jg3bj0g3uo/7f3r733n7cvveCaUIaCcVVAu+IfMUK/OIy8cf8ldL58W0/ITz6/49a/89eH++x2sZFWsVP1MKPuOy19/9t7r+5yf6Ff1x5HjHu055u6rGnU+XV1/mO1sD9shP13xa1fxQrr7vp6PViRCFfJgr1CGCcWshmKjhaFeD2LqGPe9UTUZ37AIFpmt3TUOT8dD9GOjWlYzjtVGiz+mD2HpaJJmJmQNi2KNmZC0JkhCelM6x6CS9czBeoPlcyjtjaPjA2okZMk6p5B1S4yE0GMwdBxcEZhmw3X8wAT8AFeSXZnvYITxI60y8B/gOn5mQraAA/xRmS/N/hjTuDIuBb+L/MYk/A1+J6lK2Ni2jmOqwtJMYBXlTMqPwBCZ1RlH2dVxcXXUPGARO5iClcAgedU5b7OpY78ORkI+Z0q+MxLSYT/rLxBKp5oOWGK2gcJM3ZP0SHs6Ru0JScuMBywxoLGrLJz1VFs6bgtHpLPMBywxJYBAs2rS3mPpBZJgImQNA1FqIiTBzjb/yJqA9FM3A5aYFdpQn/6f9wEbOk6lBkIK10GFrCs0EEJv9q7j0ohw9HfdgLWRgdm4VhPs98jM13nVsU9CZLgvNG/Gm5gBWzRjwheRmRO8vpvcHxmN/qJO/S0zYrc62i9c6pO96TiLC0Z3KTPvZIaox65dfO6zvOi4gI+l3un+xIxZqd7r8jzn4QVyRlSsOe4HLPOxa05U8jP2cS3kZAoX8g9zxTa4EHqFWx2PRUein3kZsEzHrs8c6U90p2OgI5B8y76auaZEuWnnGejqBTLEGSjkbcAyG7tCzvxD3LxMjqdgIeuZJ1aAhdDjzXVcKQgj2bIXfuVNyFeFqk07z5WmOkYvFoXxPGAZjV2iCuhoMx31eouCCLfsSzYxz/wcUmzaeXrXc3P6E8VUCwOWmN8yFZt2HqNj1IspWMhOZoVysBCTY9QmHcQhyqwMWOCxq0xcRYcmbja3HLPsDFjQsWuWpAzw+dDNFCqkmFlkG1QI9HzoAtl6x5Z9EbPKIsWmnec6V7O7VEgJs0wJVEgCZFS5Qro8asteyqxTKt+0U9ON74ny1ZS7nF7BEODGru8VpWgn+tF5itW/WhywAGPXr4pS6Fsaf9W7qsURW/a1WxkKW9fKN+0cr6j9Xy9SmJDQJobEphBMCB2nvbmVU7PTzfyXofFtpnyvy/GqwniVBhSykyFSDhSiMEY0Vq+s2bLvYKjskG/aOaQ3vi9pFoZ3up8zZLbL97ocowDn7lS+0y1m6BTL97oc92gupmRgDFiqsUtbkPCM/n4KElLCfKEEJER0lfUYBQkpZT5RChLiPKMfCFiUhzRgSceuPEBRUYePiUMAa6ZmFP7pn5A/C2Wbdv7wMVF7rOgUkr2V+cjWbIgQ/vDx6QkQyv76yFf+KgOV9XSkkrofApi4kPrKwomQqupyv1qD0iFrcvwVkgOpKX0Q/2ofnAVZtcBPHQsgFWUNjn7+9oMsm++nkPmQivo53xEfgayb7J+OyZB6HhENW+0AC2f4J2QGoJx24vG3Tjy1BNKQOrINCeAhPNMvITNNH7yRHNRQv3qSPzom6StpeJB8096mVby0RN+QVm1Uxyhj46QlgIa8pz6hO1w/qPghRD+cHK47M62vDTEXX8dcbRH19afYbeOgJdqGtIVckLTQRSnC1lGkq6AF6MbqiH01YeZhC5mnKWDfI2B3b6ekagJNwdUxRZM+9RTobeh5mki5uEJyNenPg1+0d41lS3QN6WpifTg3hi3RNORcM1dNU3W0AjwdBerMTU19Tjcow+XjCclXJr7B2Hh2lPohvAxLxzL1g/cocwvd0YepIs7GEjJblfWwo924M5vHoiXqhjR355ftEoOWKBvSxa2DuZsq6nIMHctVGbu5N8e3VIT9crF9HYu/VCRs6eXjCt0VgTfbF7JZka67p8+P1GugOK2cYFvHBMW5bYN6noSQQ1LksafZFjJNnivlEK8fsrplg28tUTRkwy3eP/bW2reWKBrS2sYHEdvL439tU8fX8jzt7XzGtZk0wXSbQqZL0zSz9anjJGmKT+zp+ESaJMnax8ATG/jQEmlDGlj8iqdDU9BbIm1IyqE2vyuhkyzNKltCVskydLL77RUdZXmW2tGxVBa/o+3vE+mBe2Utu4ruYf+ravpKUllxESyUBO9LEEhCbEkO9oOXIxmtJZKGJOPoIMNTsFwEYm9AynAkIeSELBxjh9iskXUCQWMETkvEDRlBEBmG4SIQewOGEVSGIhg7hGaNoQSZAdZbImzIAIJOsm0XwUwfH7yR9E+36yIQeQPS+/sghNyeZfXKWnAVnXU78YXLbLoIRN6Ay4hP3GSxJYKG3ER8o521lswF2+JwqGPLRTAPbovDoa4dY0eRgS0Oh0ENrbTE0ZCGg3wWQga3suAicHgDWg0mvtPPgosgF+BHxucizy1xNOQiEhPqe3UR5Jvb4vx5CBsaOwpi++BVPITzPTWkbux0OBzPRi6CZXA/Mj5tUt27CHhvQGobElPGunYRRHkDxpIYwzueZ4NdBItnm/mR/X4IL3fXkPokDmjrxtjBmzXakrighQtjx2ZzPzI+nOMZ5iLgvAFQPzI+b6aaugimufIj43ONoYuA8wZcQ+KIrmYtmebWj4zPjSZX1pFX0TeSOKOpgYtgugc/Mj53glsS0ZA7409HpON5OrQhbvzI+EQ4npfCvAHu/Mj4NIcZO1Z59SPj0wXSkqXe/cj4dAO4CHIs+JHxaal1ESy04kfGp7uuJTlW/Mj41DieF6i9AV79yPiEHc/zld4A735kfK5WtSTckKtJLaC1wkUww6IfGZ/2UhfBZKt+ZHyayVoyw64fGZ8ksYtgEqYtDodkobGjyqyRnFibhFQ7nicJGmLXj4xPpw1OF0GlN2BDJ1LL6OhwEcxF8SPj0yO6JRNx/Mj49OVdBEVYfmRfHsLzOG9AEqmlJEe0pMgfWxwOw9P/dxHkfpg+vNYKqXQ8Twl7AzD9yPiMCLckF9ePjM+wahdBAbYfGZ+hVS6C/KGk1jOgoiUFA8hewBOUPrE36CD9n3yy/14hhDz1FAkICAgICAgICAgIsMd/ywtVtuZ9+zcAAAAASUVORK5CYII=",Yt={class:"upload-box"},_t={class:"upload-img"},$t={class:"progress-box"};function te(t,e,i,o,n,s){const a=x("n-divider"),r=x("go-loading"),d=x("n-badge"),u=x("n-flex"),f=x("n-tag"),l=x("n-icon"),c=x("n-tooltip"),A=x("n-text"),h=x("n-upload-dragger"),p=x("n-upload"),C=x("n-progress"),P=x("n-step"),b=x("n-spin"),v=x("n-steps"),S=x("n-modal");return T(),K(S,{class:"go-import-json go-background-filter",title:"导入项目",preset:"card",size:"small",style:{width:"520px"},show:o.showRef,"onUpdate:show":e[1]||(e[1]=E=>o.showRef=E),"transform-origin":"center",bordered:!0,onAfterLeave:o.closeHandle},{default:m(()=>[k(a,{style:{"margin-top":"4px"}}),Y(B("div",Yt,[k(p,{"file-list":o.uploadFileListRef,"onUpdate:fileList":e[0]||(e[0]=E=>o.uploadFileListRef=E),"show-file-list":!1,customRequest:o.customRequest,onBeforeUpload:o.beforeUploadHandle,disabled:o.uploadLoading,accept:"application/json, text/plain, .sketch"},{default:m(()=>[k(h,null,{default:m(()=>[B("div",_t,[o.uploadLoading?(T(),K(r,{key:0})):(T(),K(u,{key:1,class:"image-list",align:"center"},{default:m(()=>[e[3]||(e[3]=B("img",{src:Vt},null,-1)),e[4]||(e[4]=B("img",{src:qt},null,-1)),k(a,{vertical:"",style:{height:"30px"}}),k(d,null,{default:m(()=>e[2]||(e[2]=[B("img",{src:It},null,-1),B("img",{class:"sketch-svip",src:Lt,style:{height:"18px"}},null,-1)])),_:1})]),_:1})),k(A,{class:"upload-desc",depth:"2"},{default:m(()=>[e[7]||(e[7]=z(" 支持上传 JSON | TXT | SKETCH ")),k(f,{class:"desc-beta",bordered:!1,type:"error"},{default:m(()=>e[5]||(e[5]=[z(" beta ")])),_:1}),k(c,{trigger:"hover"},{trigger:m(()=>[k(l,{size:"20",depth:3,style:{position:"relative",top:"4px"}},{default:m(()=>[k(o.HelpOutlineIcon)]),_:1})]),default:m(()=>[e[6]||(e[6]=B("span",null,"Sketch 文件仅渲染画板中的内容，请保证至少有一层画板",-1))]),_:1}),e[8]||(e[8]=z(" 文件 "))]),_:1})])]),_:1})]),_:1},8,["file-list","disabled"])],512),[[_,o.progressValue===0]]),Y(B("div",$t,[k(v,{size:"small",vertical:"",current:o.current,status:o.currentStatus},{default:m(()=>[k(P,{title:"上传静态资源"},{default:m(()=>[k(C,{type:"line",percentage:Math.floor(o.progressValue),"indicator-placement":"outside","stroke-width":22,processing:"",style:{"margin-bottom":"20px"}},null,8,["percentage"])]),_:1}),k(P,{title:"生成项目"},{default:m(()=>[o.current===2?(T(),K(u,{key:0},{default:m(()=>[k(A,{class:"go-fs-13",depth:"2"},{default:m(()=>e[9]||(e[9]=[z("正在拼命处理数据中，请不要离开和操作页面... ")])),_:1}),k(b,{size:"small",style:{position:"relative",top:"-4px",transform:"scale(0.6)"}})]),_:1})):wt("",!0)]),_:1})]),_:1},8,["current","status"])],512),[[_,o.progressValue!==0]])]),_:1},8,["show"])}const ue=Et(Ut,[["render",te],["__scopeId","data-v-fea8459e"],["__file","index.vue"]]);export{ue as I};
