var C=Object.defineProperty,L=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var l=(t,e,r)=>e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,d=(t,e)=>{for(var r in e||(e={}))I.call(e,r)&&l(t,r,e[r]);if(h)for(var r of h(e))A.call(e,r)&&l(t,r,e[r]);return t},f=(t,e)=>L(t,S(e));import{ai as b,K as D,br as _,ab as M,aT as $,ag as R,D as V,E as B}from"./index-DzJUk-4s.js";import{u as F,$ as P,L as U,w as x,C as o}from"./index-B2h3DCGB.js";const J=()=>{window.$message.error("操作失败, 请稍后重试")},Q=()=>{const t=document.title,e={userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,hardwareConcurrency:navigator.hardwareConcurrency};return{browserTitle:t,deviceInfo:e,hostname:window.location.hostname,href:window.location.href}},G=()=>{try{const t=b.currentRoute.value.query;t&&D.isArray(window.$globalVarList)&&Object.keys(t).forEach(e=>{window.$globalVarList.forEach(r=>{r.type==="router"&&r.name===e&&(r.stringValue=t[e])})})}catch(t){console.log(t)}},W=()=>{G(),window.$actionEmitValue||(window.$actionEmitValue=new Map)},K=F(),N=V(),{GO_CHART_LAYOUT_STORE:w}=M,O=$(w),X=_({id:"useChartLayoutStore",state:()=>f(d({layers:!0,charts:!0,topCharts:!1,details:!1,aside:!1,chartType:x.SINGLE,chartEnumTextShow:!0,layerType:U.THUMBNAIL,fetchData:P.PENDING,percentage:0,rePositionCanvas:!1,chartListCategoryKeepName:!1},O),{useTheatreStudio:!1}),getters:{getLayers(){return this.layers},getCharts(){return this.charts},getTopCharts(){return this.topCharts},getChartEnumTextShow(){return this.chartEnumTextShow},getDetails(){return this.details},getAside(){return this.aside},getChartType(){return this.chartType},getLayerType(){return this.layerType},getFetchData(){return this.fetchData},getPercentage(){return this.percentage},getRePositionCanvas(){return this.rePositionCanvas},getChartListCategoryKeepName(){return this.chartListCategoryKeepName},getUseTheatreStudio(){return this.useTheatreStudio}},actions:{setItem(t,e,r){this.$patch(a=>{a[t]=e}),R(w,this.$state),this.rePositionCanvas=!0,r&&setTimeout(()=>{K.computedScale()},0),(t===o.ASIDE||t===o.DETAILS)&&setTimeout(()=>{N.emit(B.CHART_EDIT_TRIGGER_CANVAS_ADAPTIVE,!0)},t===o.DETAILS?400:0)},setItemUnHandle(t,e){this.$patch(r=>{r[t]=e})}}}),E=!!(typeof window!="undefined"&&window.document&&window.document.createElement);var i=!1,u=!1;try{var s={get passive(){return i=!0},get once(){return u=i=!0}};E&&(window.addEventListener("test",s,s),window.removeEventListener("test",s,!0))}catch(t){}function Z(t,e,r,a){if(a&&typeof a!="boolean"&&!u){var y=a.once,c=a.capture,n=r;!u&&y&&(n=r.__once||function v(T){this.removeEventListener(e,v,c),r.call(this,T)},r.__once=n),t.addEventListener(e,n,i?a:c)}t.addEventListener(e,r,a)}var g=new Date().getTime();function H(t){var e=new Date().getTime(),r=Math.max(0,16-(e-g)),a=setTimeout(t,r);return g=e,a}var q=["","webkit","moz","o","ms"],m=H,p=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};E&&q.some(function(t){var e=p(t,"request");return e in window&&(p(t,"cancel"),m=function(a){return window[e](a)}),!!m});Function.prototype.bind.call(Function.prototype.call,[].slice);Function.prototype.bind.call(Function.prototype.call,[].slice);export{X as a,G as b,Q as c,Z as d,J as h,W as u};
